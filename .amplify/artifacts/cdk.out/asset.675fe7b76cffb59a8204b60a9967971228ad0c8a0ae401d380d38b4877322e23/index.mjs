/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var C$=Object.create;var Ia=Object.defineProperty;var v$=Object.getOwnPropertyDescriptor;var I$=Object.getOwnPropertyNames;var P$=Object.getPrototypeOf,O$=Object.prototype.hasOwnProperty;var Y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var S=(e,t)=>()=>(e&&(t=e(e=0)),t);var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ye=(e,t)=>{for(var r in t)Ia(e,r,{get:t[r],enumerable:!0})},XS=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of I$(t))!O$.call(e,n)&&n!==r&&Ia(e,n,{get:()=>t[n],enumerable:!(s=v$(t,n))||s.enumerable});return e};var _=(e,t,r)=>(r=e!=null?C$(P$(e)):{},XS(t||!e||!e.__esModule?Ia(r,"default",{value:e,enumerable:!0}):r,e)),J=e=>XS(Ia({},"__esModule",{value:!0}),e);import{createRequire as N$}from"node:module";import M$ from"node:path";import D$ from"node:url";var c=S(()=>{global.require=N$(import.meta.url);global.__filename=D$.fileURLToPath(import.meta.url);global.__dirname=M$.dirname(__filename)});var jr=v(we=>{"use strict";c();we.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(we.HttpAuthLocation||(we.HttpAuthLocation={}));we.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(we.HttpApiKeyAuthLocation||(we.HttpApiKeyAuthLocation={}));we.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(we.EndpointURLScheme||(we.EndpointURLScheme={}));we.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(we.AlgorithmId||(we.AlgorithmId={}));var k$=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>we.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>we.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},$$=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},L$=e=>k$(e),U$=e=>$$(e);we.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(we.FieldPosition||(we.FieldPosition={}));var F$="__smithy_context";we.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(we.IniSectionType||(we.IniSectionType={}));we.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(we.RequestHandlerProtocol||(we.RequestHandlerProtocol={}));we.SMITHY_CONTEXT_KEY=F$;we.getDefaultClientConfiguration=L$;we.resolveDefaultRuntimeConfig=U$});var re=v(Hr=>{"use strict";c();var B$=jr(),q$=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),j$=e=>({httpHandler:e.httpHandler()}),Gf=class{name;kind;values;constructor({name:t,kind:r=B$.FieldPosition.HEADER,values:s=[]}){this.name=t,this.kind=r,this.values=s}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Wf=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},Yf=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=H$(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function H$(e){return Object.keys(e).reduce((t,r)=>{let s=e[r];return{...t,[r]:Array.isArray(s)?[...s]:s}},{})}var Xf=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function z$(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Hr.Field=Gf;Hr.Fields=Wf;Hr.HttpRequest=Yf;Hr.HttpResponse=Xf;Hr.getHttpHandlerExtensionConfiguration=q$;Hr.isValidHostname=z$;Hr.resolveHttpHandlerRuntimeConfig=j$});var eE=v(Oo=>{"use strict";c();var V$=re();function Q$(e){return e}var JS=e=>t=>async r=>{if(!V$.HttpRequest.isInstance(r.request))return t(r);let{request:s}=r,{handlerProtocol:n=""}=e.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let o=s.hostname;s.port!=null&&(o+=`:${s.port}`),s.headers.host=o}return t(r)},ZS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},K$=e=>({applyToStack:t=>{t.add(JS(e),ZS)}});Oo.getHostHeaderPlugin=K$;Oo.hostHeaderMiddleware=JS;Oo.hostHeaderMiddlewareOptions=ZS;Oo.resolveHostHeaderConfig=Q$});var sE=v(Pa=>{"use strict";c();var tE=()=>(e,t)=>async r=>{try{let s=await e(r),{clientName:n,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:l}=a,f=u??t.inputFilterSensitiveLog,d=l??t.outputFilterSensitiveLog,{$metadata:g,...h}=s.output;return i?.info?.({clientName:n,commandName:o,input:f(r.input),output:d(h),metadata:g}),s}catch(s){let{clientName:n,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u}=a,l=u??t.inputFilterSensitiveLog;throw i?.error?.({clientName:n,commandName:o,input:l(r.input),error:s,metadata:s.$metadata}),s}},rE={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},G$=e=>({applyToStack:t=>{t.add(tE(),rE)}});Pa.getLoggerPlugin=G$;Pa.loggerMiddleware=tE;Pa.loggerMiddlewareOptions=rE});var rp={};Ye(rp,{InvokeStore:()=>tp,InvokeStoreBase:()=>Mo});var No,Jf,Mo,Zf,ep,tp,sp=S(()=>{c();No={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},Jf=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");Jf||(globalThis.awslambda=globalThis.awslambda||{});Mo=class{static PROTECTED_KEYS=No;isProtectedKey(t){return Object.values(No).includes(t)}getRequestId(){return this.get(No.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(No.X_RAY_TRACE_ID)}getTenantId(){return this.get(No.TENANT_ID)}},Zf=class extends Mo{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},ep=class e extends Mo{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let s=this.als.getStore();if(!s)throw new Error("No context available");s[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let n="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await ep.create():new Zf;return!Jf&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!Jf&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=n),n)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})(tp||(tp={}))});var nE=v(Oa=>{"use strict";c();Object.defineProperty(Oa,"__esModule",{value:!0});Oa.recursionDetectionMiddleware=void 0;var W$=(sp(),J(rp)),Y$=re(),np="X-Amzn-Trace-Id",X$="AWS_LAMBDA_FUNCTION_NAME",J$="_X_AMZN_TRACE_ID",Z$=()=>e=>async t=>{let{request:r}=t;if(!Y$.HttpRequest.isInstance(r))return e(t);let s=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===np.toLowerCase())??np;if(r.headers.hasOwnProperty(s))return e(t);let n=process.env[X$],o=process.env[J$],u=(await W$.InvokeStore.getInstanceAsync())?.getXRayTraceId()??o,l=f=>typeof f=="string"&&f.length>0;return l(n)&&l(u)&&(r.headers[np]=u),e({...t,request:r})};Oa.recursionDetectionMiddleware=Z$});var oE=v(Na=>{"use strict";c();var op=nE(),eL={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},tL=e=>({applyToStack:t=>{t.add(op.recursionDetectionMiddleware(),eL)}});Na.getRecursionDetectionPlugin=tL;Object.keys(op).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Na,e)&&Object.defineProperty(Na,e,{enumerable:!0,get:function(){return op[e]}})})});var uE=v(cE=>{"use strict";c();var ks=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let s of t)r.push(s);return r},zr=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,ip=()=>{let e=[],t=[],r=!1,s=new Set,n=d=>d.sort((g,h)=>iE[h.step]-iE[g.step]||aE[h.priority||"normal"]-aE[g.priority||"normal"]),o=d=>{let g=!1,h=y=>{let b=ks(y.name,y.aliases);if(b.includes(d)){g=!0;for(let R of b)s.delete(R);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},i=d=>{let g=!1,h=y=>{if(y.middleware===d){g=!0;for(let b of ks(y.name,y.aliases))s.delete(b);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},a=d=>(e.forEach(g=>{d.add(g.middleware,{...g})}),t.forEach(g=>{d.addRelativeTo(g.middleware,{...g})}),d.identifyOnResolve?.(f.identifyOnResolve()),d),u=d=>{let g=[];return d.before.forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...u(h))}),g.push(d),d.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...u(h))}),g},l=(d=!1)=>{let g=[],h=[],y={};return e.forEach(R=>{let P={...R,before:[],after:[]};for(let N of ks(P.name,P.aliases))y[N]=P;g.push(P)}),t.forEach(R=>{let P={...R,before:[],after:[]};for(let N of ks(P.name,P.aliases))y[N]=P;h.push(P)}),h.forEach(R=>{if(R.toMiddleware){let P=y[R.toMiddleware];if(P===void 0){if(d)return;throw new Error(`${R.toMiddleware} is not found when adding ${zr(R.name,R.aliases)} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&P.after.push(R),R.relation==="before"&&P.before.push(R)}}),n(g).map(u).reduce((R,P)=>(R.push(...P),R),[])},f={add:(d,g={})=>{let{name:h,override:y,aliases:b}=g,R={step:"initialize",priority:"normal",middleware:d,...g},P=ks(h,b);if(P.length>0){if(P.some(N=>s.has(N))){if(!y)throw new Error(`Duplicate middleware name '${zr(h,b)}'`);for(let N of P){let $=e.findIndex(q=>q.name===N||q.aliases?.some(ee=>ee===N));if($===-1)continue;let L=e[$];if(L.step!==R.step||R.priority!==L.priority)throw new Error(`"${zr(L.name,L.aliases)}" middleware with ${L.priority} priority in ${L.step} step cannot be overridden by "${zr(h,b)}" middleware with ${R.priority} priority in ${R.step} step.`);e.splice($,1)}}for(let N of P)s.add(N)}e.push(R)},addRelativeTo:(d,g)=>{let{name:h,override:y,aliases:b}=g,R={middleware:d,...g},P=ks(h,b);if(P.length>0){if(P.some(N=>s.has(N))){if(!y)throw new Error(`Duplicate middleware name '${zr(h,b)}'`);for(let N of P){let $=t.findIndex(q=>q.name===N||q.aliases?.some(ee=>ee===N));if($===-1)continue;let L=t[$];if(L.toMiddleware!==R.toMiddleware||L.relation!==R.relation)throw new Error(`"${zr(L.name,L.aliases)}" middleware ${L.relation} "${L.toMiddleware}" middleware cannot be overridden by "${zr(h,b)}" middleware ${R.relation} "${R.toMiddleware}" middleware.`);t.splice($,1)}}for(let N of P)s.add(N)}t.push(R)},clone:()=>a(ip()),use:d=>{d.applyToStack(f)},remove:d=>typeof d=="string"?o(d):i(d),removeByTag:d=>{let g=!1,h=y=>{let{tags:b,name:R,aliases:P}=y;if(b&&b.includes(d)){let N=ks(R,P);for(let $ of N)s.delete($);return g=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),g},concat:d=>{let g=a(ip());return g.use(d),g.identifyOnResolve(r||g.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),g},applyToStack:a,identify:()=>l(!0).map(d=>{let g=d.step??d.relation+" "+d.toMiddleware;return zr(d.name,d.aliases)+" - "+g}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,g)=>{for(let h of l().map(y=>y.middleware).reverse())d=h(d,g);return r&&console.log(f.identify()),d}};return f},iE={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},aE={high:3,normal:2,low:1};cE.constructStack=ip});var ap=v(lE=>{"use strict";c();var rL=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";lE.isArrayBuffer=rL});var Et=v(up=>{"use strict";c();var sL=ap(),cp=Y("buffer"),nL=(e,t=0,r=e.byteLength-t)=>{if(!sL.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return cp.Buffer.from(e,t,r)},oL=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?cp.Buffer.from(e,t):cp.Buffer.from(e)};up.fromArrayBuffer=nL;up.fromString=oL});var dE=v(Ma=>{"use strict";c();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.fromBase64=void 0;var iL=Et(),aL=/^[A-Za-z0-9+/]*={0,2}$/,cL=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!aL.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,iL.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ma.fromBase64=cL});var Te=v(Da=>{"use strict";c();var fE=Et(),pE=e=>{let t=fE.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},uL=e=>typeof e=="string"?pE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),lL=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return fE.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Da.fromUtf8=pE;Da.toUint8Array=uL;Da.toUtf8=lL});var mE=v(ka=>{"use strict";c();Object.defineProperty(ka,"__esModule",{value:!0});ka.toBase64=void 0;var dL=Et(),fL=Te(),pL=e=>{let t;if(typeof e=="string"?t=(0,fL.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,dL.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ka.toBase64=pL});var ko=v(Do=>{"use strict";c();var hE=dE(),gE=mE();Object.keys(hE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Do,e)&&Object.defineProperty(Do,e,{enumerable:!0,get:function(){return hE[e]}})});Object.keys(gE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Do,e)&&Object.defineProperty(Do,e,{enumerable:!0,get:function(){return gE[e]}})})});var dp=v($a=>{"use strict";c();Object.defineProperty($a,"__esModule",{value:!0});$a.ChecksumStream=void 0;var mL=ko(),hL=Y("stream"),lp=class extends hL.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:s,checksumSourceLocation:n,base64Encoder:o}){if(super(),typeof s.pipe=="function")this.source=s;else throw new Error(`@smithy/util-stream: unsupported source type ${s?.constructor?.name??s} in ChecksumStream.`);this.base64Encoder=o??mL.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=n,this.source.pipe(this)}_read(t){}_write(t,r,s){try{this.checksum.update(t),this.push(t)}catch(n){return s(n)}return s()}async _final(t){try{let r=await this.checksum.digest(),s=this.base64Encoder(r);if(this.expectedChecksum!==s)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${s}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};$a.ChecksumStream=lp});var Sr=v(pn=>{"use strict";c();Object.defineProperty(pn,"__esModule",{value:!0});pn.isBlob=pn.isReadableStream=void 0;var gL=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);pn.isReadableStream=gL;var yL=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);pn.isBlob=yL});var yE=v(La=>{"use strict";c();Object.defineProperty(La,"__esModule",{value:!0});La.ChecksumStream=void 0;var SL=typeof ReadableStream=="function"?ReadableStream:function(){},fp=class extends SL{};La.ChecksumStream=fp});var SE=v(Ua=>{"use strict";c();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.createChecksumStream=void 0;var EL=ko(),wL=Sr(),_L=yE(),bL=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:s,base64Encoder:n})=>{if(!(0,wL.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let o=n??EL.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(u,l){t.update(u),l.enqueue(u)},async flush(u){let l=await t.digest(),f=o(l);if(e!==f){let d=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${s}".`);u.error(d)}else u.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,_L.ChecksumStream.prototype),a};Ua.createChecksumStream=bL});var EE=v(pp=>{"use strict";c();Object.defineProperty(pp,"__esModule",{value:!0});pp.createChecksumStream=RL;var TL=Sr(),AL=dp(),xL=SE();function RL(e){return typeof ReadableStream=="function"&&(0,TL.isReadableStream)(e.source)?(0,xL.createChecksumStream)(e):new AL.ChecksumStream(e)}});var hp=v(Fa=>{"use strict";c();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.ByteArrayCollector=void 0;var mp=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let s=this.byteArrays[0];return this.reset(),s}let t=this.allocByteArray(this.byteLength),r=0;for(let s=0;s<this.byteArrays.length;++s){let n=this.byteArrays[s];t.set(n,r),r+=n.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Fa.ByteArrayCollector=mp});var TE=v(Er=>{"use strict";c();Object.defineProperty(Er,"__esModule",{value:!0});Er.createBufferedReadable=void 0;Er.createBufferedReadableStream=wE;Er.merge=_E;Er.flush=Ba;Er.sizeOf=mn;Er.modeOf=bE;var CL=hp();function wE(e,t,r){let s=e.getReader(),n=!1,o=0,i=["",new CL.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,u=async l=>{let{value:f,done:d}=await s.read(),g=f;if(d){if(a!==-1){let h=Ba(i,a);mn(h)>0&&l.enqueue(h)}l.close()}else{let h=bE(g,!1);if(a!==h&&(a>=0&&l.enqueue(Ba(i,a)),a=h),a===-1){l.enqueue(g);return}let y=mn(g);o+=y;let b=mn(i[a]);if(y>=t&&b===0)l.enqueue(g);else{let R=_E(i,a,g);!n&&o>t*2&&(n=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),R>=t?l.enqueue(Ba(i,a)):await u(l)}}};return new ReadableStream({pull:u})}Er.createBufferedReadable=wE;function _E(e,t,r){switch(t){case 0:return e[0]+=r,mn(e[0]);case 1:case 2:return e[t].push(r),mn(e[t])}}function Ba(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function mn(e){return e?.byteLength??e?.length??0}function bE(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var xE=v(gp=>{"use strict";c();Object.defineProperty(gp,"__esModule",{value:!0});gp.createBufferedReadable=PL;var vL=Y("node:stream"),AE=hp(),wr=TE(),IL=Sr();function PL(e,t,r){if((0,IL.isReadableStream)(e))return(0,wr.createBufferedReadableStream)(e,t,r);let s=new vL.Readable({read(){}}),n=!1,o=0,i=["",new AE.ByteArrayCollector(u=>new Uint8Array(u)),new AE.ByteArrayCollector(u=>Buffer.from(new Uint8Array(u)))],a=-1;return e.on("data",u=>{let l=(0,wr.modeOf)(u,!0);if(a!==l&&(a>=0&&s.push((0,wr.flush)(i,a)),a=l),a===-1){s.push(u);return}let f=(0,wr.sizeOf)(u);o+=f;let d=(0,wr.sizeOf)(i[a]);if(f>=t&&d===0)s.push(u);else{let g=(0,wr.merge)(i,a,u);!n&&o>t*2&&(n=!0,r?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${t}, automatically buffering.`)),g>=t&&s.push((0,wr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let u=(0,wr.flush)(i,a);(0,wr.sizeOf)(u)>0&&s.push(u)}s.push(null)}),s}});var RE=v(qa=>{"use strict";c();Object.defineProperty(qa,"__esModule",{value:!0});qa.getAwsChunkedEncodingStream=void 0;var OL=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:s,checksumAlgorithmFn:n,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&n!==void 0&&o!==void 0&&i!==void 0,u=a?i(n,e):void 0,l=e.getReader();return new ReadableStream({async pull(f){let{value:d,done:g}=await l.read();if(g){if(f.enqueue(`0\r
`),a){let h=r(await u);f.enqueue(`${o}:${h}\r
`),f.enqueue(`\r
`)}f.close()}else f.enqueue(`${(s(d)||0).toString(16)}\r
${d}\r
`)}})};qa.getAwsChunkedEncodingStream=OL});var CE=v(yp=>{"use strict";c();Object.defineProperty(yp,"__esModule",{value:!0});yp.getAwsChunkedEncodingStream=kL;var NL=Y("node:stream"),ML=RE(),DL=Sr();function kL(e,t){let r=e,s=e;if((0,DL.isReadableStream)(s))return(0,ML.getAwsChunkedEncodingStream)(s,t);let{base64Encoder:n,bodyLengthChecker:o,checksumAlgorithmFn:i,checksumLocationName:a,streamHasher:u}=t,l=n!==void 0&&i!==void 0&&a!==void 0&&u!==void 0,f=l?u(i,r):void 0,d=new NL.Readable({read:()=>{}});return r.on("data",g=>{let h=o(g)||0;h!==0&&(d.push(`${h.toString(16)}\r
`),d.push(g),d.push(`\r
`))}),r.on("end",async()=>{if(d.push(`0\r
`),l){let g=n(await f);d.push(`${a}:${g}\r
`),d.push(`\r
`)}d.push(null)}),d}});var vE=v(Sp=>{"use strict";c();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.headStream=$L;async function $L(e,t){let r=0,s=[],n=e.getReader(),o=!1;for(;!o;){let{done:u,value:l}=await n.read();if(l&&(s.push(l),r+=l?.byteLength??0),r>=t)break;o=u}n.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let u of s){if(u.byteLength>i.byteLength-a){i.set(u.subarray(0,i.byteLength-a),a);break}else i.set(u,a);a+=u.length}return i}});var IE=v(ja=>{"use strict";c();Object.defineProperty(ja,"__esModule",{value:!0});ja.headStream=void 0;var LL=Y("stream"),UL=vE(),FL=Sr(),BL=(e,t)=>(0,FL.isReadableStream)(e)?(0,UL.headStream)(e,t):new Promise((r,s)=>{let n=new Ep;n.limit=t,e.pipe(n),e.on("error",o=>{n.end(),s(o)}),n.on("error",s),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});ja.headStream=BL;var Ep=class extends LL.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,s){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let n=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-n),this.emit("finish")}s()}}});var OE=v(wp=>{"use strict";c();var PE=e=>encodeURIComponent(e).replace(/[!'()*]/g,qL),qL=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,jL=e=>e.split("/").map(PE).join("/");wp.escapeUri=PE;wp.escapeUriPath=jL});var ME=v(NE=>{"use strict";c();var _p=OE();function HL(e){let t=[];for(let r of Object.keys(e).sort()){let s=e[r];if(r=_p.escapeUri(r),Array.isArray(s))for(let n=0,o=s.length;n<o;n++)t.push(`${r}=${_p.escapeUri(s[n])}`);else{let n=r;(s||typeof s=="string")&&(n+=`=${_p.escapeUri(s)}`),t.push(n)}}return t.join("&")}NE.buildQueryString=HL});var Vr=v($o=>{"use strict";c();var LE=re(),UE=ME(),Ha=Y("http"),za=Y("https"),FE=Y("stream"),bp=Y("http2"),zL=["ECONNRESET","EPIPE","ETIMEDOUT"],BE=e=>{let t={};for(let r of Object.keys(e)){let s=e[r];t[r]=Array.isArray(s)?s.join(","):s}return t},ct={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},DE=1e3,VL=(e,t,r=0)=>{if(!r)return-1;let s=n=>{let o=ct.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-n),i=a=>{a?.connecting?a.on("connect",()=>{ct.clearTimeout(o)}):ct.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(s(0),0):ct.setTimeout(s.bind(null,DE),DE)},QL=(e,t,r=0,s,n)=>r?ct.setTimeout(()=>{let o=`@smithy/node-http-handler - [${s?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(s){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",n?.warn?.(o)},r):-1,KL=3e3,GL=(e,{keepAlive:t,keepAliveMsecs:r},s=KL)=>{if(t!==!0)return-1;let n=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})};return s===0?(n(),0):ct.setTimeout(n,s)},kE=3e3,WL=(e,t,r=0)=>{let s=n=>{let o=r-n,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<r&&r<6e3?(s(0),0):ct.setTimeout(s.bind(null,r===0?0:kE),kE)},$E=6e3;async function qE(e,t,r=$E,s=!1){let n=t.headers??{},o=n.Expect||n.expect,i=-1,a=!0;!s&&o==="100-continue"&&(a=await Promise.race([new Promise(u=>{i=Number(ct.setTimeout(()=>u(!0),Math.max($E,r)))}),new Promise(u=>{e.on("continue",()=>{ct.clearTimeout(i),u(!0)}),e.on("response",()=>{ct.clearTimeout(i),u(!1)}),e.on("error",()=>{ct.clearTimeout(i),u(!1)})})])),a&&YL(e,t.body)}function YL(e,t){if(t instanceof FE.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var XL=0,Tp=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,s=console){let{sockets:n,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(n&&o)for(let u in n){let l=n[u]?.length??0,f=o[u]?.length??0;if(l>=i&&f>=2*i)return s?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,s)=>{typeof t=="function"?t().then(n=>{r(this.resolveDefaultConfig(n))}).catch(s):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:s,socketTimeout:n,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:u}=t||{},l=!0,f=50;return{connectionTimeout:s,requestTimeout:r,socketTimeout:n,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:u,httpAgent:i instanceof Ha.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Ha.Agent({keepAlive:l,maxSockets:f,...i}),httpsAgent:a instanceof za.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new za.Agent({keepAlive:l,maxSockets:f,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:s}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{let i=this.config,a,u=[],l=async Q=>{await a,u.forEach(ct.clearTimeout),n(Q)},f=async Q=>{await a,u.forEach(ct.clearTimeout),o(Q)};if(r?.aborted){let Q=new Error("Request aborted");Q.name="AbortError",f(Q);return}let d=t.protocol==="https:",g=t.headers??{},h=(g.Expect??g.expect)==="100-continue",y=d?i.httpsAgent:i.httpAgent;h&&!this.externalAgent&&(y=new(d?za.Agent:Ha.Agent)({keepAlive:!1,maxSockets:1/0})),u.push(ct.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(y,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let b=UE.buildQueryString(t.query||{}),R;if(t.username!=null||t.password!=null){let Q=t.username??"",ne=t.password??"";R=`${Q}:${ne}`}let P=t.path;b&&(P+=`?${b}`),t.fragment&&(P+=`#${t.fragment}`);let N=t.hostname??"";N[0]==="["&&N.endsWith("]")?N=t.hostname.slice(1,-1):N=t.hostname;let $={headers:t.headers,host:N,method:t.method,path:P,port:t.port,agent:y,auth:R},q=(d?za.request:Ha.request)($,Q=>{let ne=new LE.HttpResponse({statusCode:Q.statusCode||-1,reason:Q.statusMessage,headers:BE(Q.headers),body:Q});l({response:ne})});if(q.on("error",Q=>{zL.includes(Q.code)?f(Object.assign(Q,{name:"TimeoutError"})):f(Q)}),r){let Q=()=>{q.destroy();let ne=new Error("Request aborted");ne.name="AbortError",f(ne)};if(typeof r.addEventListener=="function"){let ne=r;ne.addEventListener("abort",Q,{once:!0}),q.once("close",()=>ne.removeEventListener("abort",Q))}else r.onabort=Q}let ee=s??i.requestTimeout;u.push(VL(q,f,i.connectionTimeout)),u.push(QL(q,f,ee,i.throwOnRequestTimeout,i.logger??console)),u.push(WL(q,f,i.socketTimeout));let Ae=$.agent;typeof Ae=="object"&&"keepAlive"in Ae&&u.push(GL(q,{keepAlive:Ae.keepAlive,keepAliveMsecs:Ae.keepAliveMsecs})),a=qE(q,t,ee,this.externalAgent).catch(Q=>(u.forEach(ct.clearTimeout),o(Q)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(s=>({...s,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Ap=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},xp=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let s=this.getUrlString(t),n=this.sessionCache.get(s);if(n){let u=n.poll();if(u&&!this.config.disableConcurrency)return u}let o=bp.connect(s);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},u=>{if(u)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(s,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(s,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(s)||new Ap;return a.offerLast(o),this.sessionCache.set(s,a),o}deleteSession(t,r){let s=this.sessionCache.get(t);s&&s.contains(r)&&(s.remove(r),this.sessionCache.set(t,s))}release(t,r){let s=this.getUrlString(t);this.sessionCache.get(s)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let s of r)s.destroyed||s.destroy(),r.remove(s);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Rp=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new xp({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,s)=>{typeof t=="function"?t().then(n=>{r(n||{})}).catch(s):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:s}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config,i=s??n;return new Promise((a,u)=>{let l=!1,f,d=async Ee=>{await f,a(Ee)},g=async Ee=>{await f,u(Ee)};if(r?.aborted){l=!0;let Ee=new Error("Request aborted");Ee.name="AbortError",g(Ee);return}let{hostname:h,method:y,port:b,protocol:R,query:P}=t,N="";if(t.username!=null||t.password!=null){let Ee=t.username??"",Ve=t.password??"";N=`${Ee}:${Ve}@`}let $=`${R}//${N}${h}${b?`:${b}`:""}`,L={destination:new URL($)},q=this.connectionManager.lease(L,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),ee=Ee=>{o&&this.destroySession(q),l=!0,g(Ee)},Ae=UE.buildQueryString(P||{}),Q=t.path;Ae&&(Q+=`?${Ae}`),t.fragment&&(Q+=`#${t.fragment}`);let ne=q.request({...t.headers,[bp.constants.HTTP2_HEADER_PATH]:Q,[bp.constants.HTTP2_HEADER_METHOD]:y});if(q.ref(),ne.on("response",Ee=>{let Ve=new LE.HttpResponse({statusCode:Ee[":status"]||-1,headers:BE(Ee),body:ne});l=!0,d({response:Ve}),o&&(q.close(),this.connectionManager.deleteSession($,q))}),i&&ne.setTimeout(i,()=>{ne.close();let Ee=new Error(`Stream timed out because of no activity for ${i} ms`);Ee.name="TimeoutError",ee(Ee)}),r){let Ee=()=>{ne.close();let Ve=new Error("Request aborted");Ve.name="AbortError",ee(Ve)};if(typeof r.addEventListener=="function"){let Ve=r;Ve.addEventListener("abort",Ee,{once:!0}),ne.once("close",()=>Ve.removeEventListener("abort",Ee))}else r.onabort=Ee}ne.on("frameError",(Ee,Ve,St)=>{ee(new Error(`Frame type id ${Ee} in stream id ${St} has failed with code ${Ve}.`))}),ne.on("error",ee),ne.on("aborted",()=>{ee(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ne.rstCode}.`))}),ne.on("close",()=>{q.unref(),o&&q.destroy(),l||ee(new Error("Unexpected error: http2 request did not get a response"))}),f=qE(ne,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(s=>({...s,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Cp=class extends FE.Writable{bufferedBytes=[];_write(t,r,s){this.bufferedBytes.push(t),s()}},JL=e=>ZL(e)?eU(e):new Promise((t,r)=>{let s=new Cp;e.pipe(s),e.on("error",n=>{s.end(),r(n)}),s.on("error",r),s.on("finish",function(){let n=new Uint8Array(Buffer.concat(this.bufferedBytes));t(n)})}),ZL=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function eU(e){let t=[],r=e.getReader(),s=!1,n=0;for(;!s;){let{done:a,value:u}=await r.read();u&&(t.push(u),n+=u.length),s=a}let o=new Uint8Array(n),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}$o.DEFAULT_REQUEST_TIMEOUT=XL;$o.NodeHttp2Handler=Rp;$o.NodeHttpHandler=Tp;$o.streamCollector=JL});var HE=v(vp=>{"use strict";c();var jE=e=>encodeURIComponent(e).replace(/[!'()*]/g,tU),tU=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,rU=e=>e.split("/").map(jE).join("/");vp.escapeUri=jE;vp.escapeUriPath=rU});var VE=v(zE=>{"use strict";c();var Ip=HE();function sU(e){let t=[];for(let r of Object.keys(e).sort()){let s=e[r];if(r=Ip.escapeUri(r),Array.isArray(s))for(let n=0,o=s.length;n<o;n++)t.push(`${r}=${Ip.escapeUri(s[n])}`);else{let n=r;(s||typeof s=="string")&&(n+=`=${Ip.escapeUri(s)}`),t.push(n)}}return t.join("&")}zE.buildQueryString=sU});var QE=v(Va=>{"use strict";c();Object.defineProperty(Va,"__esModule",{value:!0});Va.fromBase64=void 0;var nU=Et(),oU=/^[A-Za-z0-9+/]*={0,2}$/,iU=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!oU.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,nU.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Va.fromBase64=iU});var KE=v(Qa=>{"use strict";c();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.toBase64=void 0;var aU=Et(),cU=Te(),uU=e=>{let t;if(typeof e=="string"?t=(0,cU.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,aU.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Qa.toBase64=uU});var YE=v(Lo=>{"use strict";c();var GE=QE(),WE=KE();Object.keys(GE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lo,e)&&Object.defineProperty(Lo,e,{enumerable:!0,get:function(){return GE[e]}})});Object.keys(WE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lo,e)&&Object.defineProperty(Lo,e,{enumerable:!0,get:function(){return WE[e]}})})});var ZE=v(Ga=>{"use strict";c();var XE=re(),lU=VE(),dU=YE();function JE(e,t){return new Request(e,t)}function fU(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let s=new Error(`Request did not complete within ${e} ms`);s.name="TimeoutError",r(s)},e)})}var Ka={supported:void 0},Pp=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Ka.supported===void 0&&(Ka.supported=typeof Request<"u"&&"keepalive"in JE("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:s}={}){this.config||(this.config=await this.configProvider);let n=s??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let N=new Error("Request aborted");return N.name="AbortError",Promise.reject(N)}let a=t.path,u=lU.buildQueryString(t.query||{});u&&(a+=`?${u}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let N=t.username??"",$=t.password??"";l=`${N}:${$}@`}let{port:f,method:d}=t,g=`${t.protocol}//${l}${t.hostname}${f?`:${f}`:""}${a}`,h=d==="GET"||d==="HEAD"?void 0:t.body,y={body:h,headers:new Headers(t.headers),method:d,credentials:i};this.config?.cache&&(y.cache=this.config.cache),h&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),Ka.supported&&(y.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let b=()=>{},R=JE(g,y),P=[fetch(R).then(N=>{let $=N.headers,L={};for(let ee of $.entries())L[ee[0]]=ee[1];return N.body!=null?{response:new XE.HttpResponse({headers:L,reason:N.statusText,statusCode:N.status,body:N.body})}:N.blob().then(ee=>({response:new XE.HttpResponse({headers:L,reason:N.statusText,statusCode:N.status,body:ee})}))}),fU(n)];return r&&P.push(new Promise((N,$)=>{let L=()=>{let q=new Error("Request aborted");q.name="AbortError",$(q)};if(typeof r.addEventListener=="function"){let q=r;q.addEventListener("abort",L,{once:!0}),b=()=>q.removeEventListener("abort",L)}else r.onabort=L})),Promise.race(P).finally(b)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(s=>(s[t]=r,s))}httpHandlerConfigs(){return this.config??{}}},pU=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):mU(e):hU(e);async function mU(e){let t=await gU(e),r=dU.fromBase64(t);return new Uint8Array(r)}async function hU(e){let t=[],r=e.getReader(),s=!1,n=0;for(;!s;){let{done:a,value:u}=await r.read();u&&(t.push(u),n+=u.length),s=a}let o=new Uint8Array(n),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}function gU(e){return new Promise((t,r)=>{let s=new FileReader;s.onloadend=()=>{if(s.readyState!==2)return r(new Error("Reader aborted too early"));let n=s.result??"",o=n.indexOf(","),i=o>-1?o+1:n.length;t(n.substring(i))},s.onabort=()=>r(new Error("Read aborted")),s.onerror=()=>r(s.error),s.readAsDataURL(e)})}Ga.FetchHttpHandler=Pp;Ga.keepAliveSupport=Ka;Ga.streamCollector=pU});var Wa=v(Np=>{"use strict";c();var ew={},Op={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),ew[e]=t,Op[t]=e}function yU(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let s=e.slice(r,r+2).toLowerCase();if(s in Op)t[r/2]=Op[s];else throw new Error(`Cannot decode unrecognized sequence ${s} as hexadecimal`)}return t}function SU(e){let t="";for(let r=0;r<e.byteLength;r++)t+=ew[e[r]];return t}Np.fromHex=yU;Np.toHex=SU});var nw=v(Ya=>{"use strict";c();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.sdkStreamMixin=void 0;var EU=ZE(),wU=ko(),_U=Wa(),bU=Te(),tw=Sr(),rw="The stream has already been transformed.",TU=e=>{if(!sw(e)&&!(0,tw.isReadableStream)(e)){let n=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${n}`)}let t=!1,r=async()=>{if(t)throw new Error(rw);return t=!0,await(0,EU.streamCollector)(e)},s=n=>{if(typeof n.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return n.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();if(n==="base64")return(0,wU.toBase64)(o);if(n==="hex")return(0,_U.toHex)(o);if(n===void 0||n==="utf8"||n==="utf-8")return(0,bU.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(n).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(rw);if(t=!0,sw(e))return s(e);if((0,tw.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Ya.sdkStreamMixin=TU;var sw=e=>typeof Blob=="function"&&e instanceof Blob});var iw=v(Xa=>{"use strict";c();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.sdkStreamMixin=void 0;var AU=Vr(),xU=Et(),Mp=Y("stream"),RU=nw(),ow="The stream has already been transformed.",CU=e=>{if(!(e instanceof Mp.Readable))try{return(0,RU.sdkStreamMixin)(e)}catch{let n=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${n}`)}let t=!1,r=async()=>{if(t)throw new Error(ow);return t=!0,await(0,AU.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let n=await r();return s===void 0||Buffer.isEncoding(s)?(0,xU.fromArrayBuffer)(n.buffer,n.byteOffset,n.byteLength).toString(s):new TextDecoder(s).decode(n)},transformToWebStream:()=>{if(t)throw new Error(ow);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Mp.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Mp.Readable.toWeb(e)}})};Xa.sdkStreamMixin=CU});var aw=v(Dp=>{"use strict";c();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.splitStream=vU;async function vU(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var lw=v(kp=>{"use strict";c();Object.defineProperty(kp,"__esModule",{value:!0});kp.splitStream=PU;var cw=Y("stream"),IU=aw(),uw=Sr();async function PU(e){if((0,uw.isReadableStream)(e)||(0,uw.isBlob)(e))return(0,IU.splitStream)(e);let t=new cw.PassThrough,r=new cw.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Ja=v(qe=>{"use strict";c();var dw=ko(),fw=Te(),pw=dp(),mw=EE(),hw=xE(),gw=CE(),yw=IE(),Sw=iw(),Ew=lw(),ww=Sr(),$p=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(dw.fromBase64(t)):e.mutate(fw.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?dw.toBase64(this):fw.toUtf8(this)}};Object.defineProperty(qe,"isBlob",{enumerable:!0,get:function(){return ww.isBlob}});Object.defineProperty(qe,"isReadableStream",{enumerable:!0,get:function(){return ww.isReadableStream}});qe.Uint8ArrayBlobAdapter=$p;Object.keys(pw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return pw[e]}})});Object.keys(mw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return mw[e]}})});Object.keys(hw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return hw[e]}})});Object.keys(gw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return gw[e]}})});Object.keys(yw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return yw[e]}})});Object.keys(Sw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return Sw[e]}})});Object.keys(Ew).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return Ew[e]}})})});var Za,ut,ec=S(()=>{c();Za=_(Ja()),ut=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Za.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Za.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Za.Uint8ArrayBlobAdapter.mutate(await r)}});function Tt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var tc=S(()=>{c()});var lt,Lp=S(()=>{c();lt=e=>typeof e=="function"?e():e});var dt=v(Up=>{"use strict";c();var _w=jr(),OU=e=>e[_w.SMITHY_CONTEXT_KEY]||(e[_w.SMITHY_CONTEXT_KEY]={}),NU=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Up.getSmithyContext=OU;Up.normalizeProvider=NU});var Uo,rc=S(()=>{c();Uo=(e,t,r,s,n)=>({name:t,namespace:e,traits:r,input:s,output:n})});var bw,Tw,Aw,Fp,xw=S(()=>{c();bw=_(re()),Tw=_(dt());rc();Aw=e=>(t,r)=>async s=>{let{response:n}=await t(s),{operationSchema:o}=(0,Tw.getSmithyContext)(r),[,i,a,u,l,f]=o??[];try{let d=await e.protocol.deserializeResponse(Uo(i,a,u,l,f),{...e,...r},n);return{response:n,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:n,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let g="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+g}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(g):r.logger?.warn?.(g)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(bw.HttpResponse.isInstance(n)){let{headers:h={}}=n,y=Object.entries(h);d.$metadata={httpStatusCode:n.statusCode,requestId:Fp(/^x-[\w-]+-request-?id$/,y),extendedRequestId:Fp(/^x-[\w-]+-id-2$/,y),cfId:Fp(/^x-[\w-]+-cf-id$/,y)}}}catch{}}throw d}},Fp=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Rw,Cw,vw=S(()=>{c();Rw=_(dt());rc();Cw=e=>(t,r)=>async s=>{let{operationSchema:n}=(0,Rw.getSmithyContext)(r),[,o,i,a,u,l]=n??[],f=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,d=await e.protocol.serializeRequest(Uo(o,i,a,u,l),s.input,{...e,...r,endpoint:f});return t({...s,request:d})}});function $s(e){return{applyToStack:t=>{t.add(Cw(e),Pw),t.add(Aw(e),Iw),e.protocol.setSerdeContext(e)}}}var Iw,Pw,Ow=S(()=>{c();xw();vw();Iw={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Pw={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var De,Qr=S(()=>{c();De=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var sc,MU,Nw=S(()=>{c();Qr();sc=class e extends De{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},MU=(e,t,r,s)=>De.assign(new sc,{name:t,namespace:e,traits:r,valueSchema:s})});var nc,DU,Mw=S(()=>{c();Qr();nc=class e extends De{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},DU=(e,t,r,s,n)=>De.assign(new nc,{name:t,namespace:e,traits:r,keySchema:s,valueSchema:n})});var oc,kU,Dw=S(()=>{c();Qr();oc=class e extends De{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},kU=(e,t,r,s,n)=>De.assign(new oc,{name:t,namespace:e,traits:r,input:s,output:n})});var hn,$U,Bp=S(()=>{c();Qr();hn=class e extends De{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},$U=(e,t,r,s,n)=>De.assign(new hn,{name:t,namespace:e,traits:r,memberNames:s,memberList:n})});var ic,LU,kw=S(()=>{c();Qr();Bp();ic=class e extends hn{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},LU=(e,t,r,s,n,o)=>De.assign(new ic,{name:t,namespace:e,traits:r,memberNames:s,memberList:n,ctor:null})});function sr(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let s of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[s]=1);return t}var qp=S(()=>{c()});function Fo(e,t){if(e instanceof D)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=D;return new r(e,t)}var $w,D,jp,Lw,Uw=S(()=>{c();Lp();qp();$w={it:Symbol.for("@smithy/nor-struct-it")},D=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let s=[],n=t,o=t;for(this._isMemberSchema=!1;jp(n);)s.push(n[1]),n=n[0],o=lt(n),this._isMemberSchema=!0;if(s.length>0){this.memberTraits={};for(let i=s.length-1;i>=0;--i){let a=s[i];Object.assign(this.memberTraits,sr(a))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=lt(o),Lw(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=lt(t);if(r instanceof e)return r;if(jp(r)){let[s,n]=r;if(s instanceof e)return Object.assign(s.getMergedTraits(),sr(n)),s;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return sr(this.memberTraits)}getOwnTraits(){return sr(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let s=this.getSchema(),n=t?15:s[4]??0;return Fo([n,0],"key")}getValueSchema(){let t=this.getSchema(),[r,s,n]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(s||n)?t[3+t[0]]:r?15:void 0;if(o!=null)return Fo([o,0],s?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let s=r[4].indexOf(t),n=r[5][s];return Fo(jp(n)?n:[n,0],t)}if(this.isDocumentSchema())return Fo([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,s]of this.structIterator())t[r]=s}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema(),r=t[4].length,s=t[$w.it];if(s&&r===s.length){yield*s;return}s=Array(r);for(let n=0;n<r;++n){let o=t[4][n],i=Fo([t[5][n],0],o);yield s[n]=[o,i]}t[$w.it]=s}};jp=e=>Array.isArray(e)&&e.length===2,Lw=e=>Array.isArray(e)&&e.length>=5});var Bo,UU,FU,Fw=S(()=>{c();Qr();Bo=class e extends De{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},UU=(e,t,r,s)=>De.assign(new Bo,{name:t,namespace:e,traits:s,schemaRef:r}),FU=(e,t,r,s)=>De.assign(new Bo,{name:t,namespace:e,traits:r,schemaRef:s})});var BU,Bw=S(()=>{c();BU={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var U,qw=S(()=>{c();U=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,s=new Map){this.namespace=t,this.schemas=r,this.exceptions=s}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let s=this.normalizeShapeId(t);e.for(s.split("#")[0]).schemas.set(s,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let s=t,n=e.for(s[1]);n.schemas.set(s[1]+"#"+s[2],s),n.exceptions.set(s,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,s]=t,n=r+"#"+s;if(n.startsWith("smithy.ts.sdk.synthetic.")&&n.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var ac={};Ye(ac,{ErrorSchema:()=>ic,ListSchema:()=>sc,MapSchema:()=>nc,NormalizedSchema:()=>D,OperationSchema:()=>oc,SCHEMA:()=>BU,Schema:()=>De,SimpleSchema:()=>Bo,StructureSchema:()=>hn,TypeRegistry:()=>U,deref:()=>lt,deserializerMiddlewareOption:()=>Iw,error:()=>LU,getSchemaSerdePlugin:()=>$s,isStaticSchema:()=>Lw,list:()=>MU,map:()=>DU,op:()=>kU,operation:()=>Uo,serializerMiddlewareOption:()=>Pw,sim:()=>UU,simAdapter:()=>FU,struct:()=>$U,translateTraits:()=>sr});var K=S(()=>{c();Lp();Ow();Nw();Mw();Dw();rc();kw();Uw();Qr();Fw();Bp();Bw();qp();qw()});var qU,jw=S(()=>{c();qU=(e,t,r=s=>s)=>e});var jU,HU,qo,zU,cc,jo,VU,Hp,zp,Vp,Qp,QU,KU,Hw,GU,WU,lc,YU,Kp,XU,gn,Gp,JU,ZU,eF,zw,Vw,tF,rF,Ls,Wp,uc,Ho,Yp=S(()=>{c();jU=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},HU=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ho.warn(uc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ho.warn(uc(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},qo=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ho.warn(uc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},zU=Math.ceil(34028234663852886e22),cc=e=>{let t=qo(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>zU)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},jo=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},VU=jo,Hp=e=>Qp(e,32),zp=e=>Qp(e,16),Vp=e=>Qp(e,8),Qp=(e,t)=>{let r=jo(e);if(r!==void 0&&QU(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},QU=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},KU=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Hw=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},GU=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ho.warn(uc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},WU=e=>{if(e==null)return;let t=Hw(e),r=Object.entries(t).filter(([,s])=>s!=null).map(([s])=>s);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},lc=e=>qo(typeof e=="string"?gn(e):e),YU=lc,Kp=e=>cc(typeof e=="string"?gn(e):e),XU=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,gn=e=>{let t=e.match(XU);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Gp=e=>typeof e=="string"?zw(e):qo(e),JU=Gp,ZU=Gp,eF=e=>typeof e=="string"?zw(e):cc(e),zw=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Vw=e=>jo(typeof e=="string"?gn(e):e),tF=Vw,rF=e=>Hp(typeof e=="string"?gn(e):e),Ls=e=>zp(typeof e=="string"?gn(e):e),Wp=e=>Vp(typeof e=="string"?gn(e):e),uc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ho={warn:console.warn}});function Us(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),s=e.getUTCDay(),n=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),u=n<10?`0${n}`:`${n}`,l=o<10?`0${o}`:`${o}`,f=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`;return`${sF[s]}, ${u} ${Jp[r]} ${t} ${l}:${f}:${d} GMT`}var sF,Jp,nF,oF,iF,Vo,aF,cF,uF,Qo,Ko,zo,lF,dF,fF,Xp,pF,mF,hF,nr,gF,yF,yn,Qw=S(()=>{c();Yp();sF=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Jp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];nF=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),oF=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=nF.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,s,n,o,i,a,u,l]=t,f=Ls(yn(s)),d=nr(n,"month",1,12),g=nr(o,"day",1,31);return zo(f,d,g,{hours:i,minutes:a,seconds:u,fractionalMilliseconds:l})},iF=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Vo=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=iF.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,s,n,o,i,a,u,l,f]=t,d=Ls(yn(s)),g=nr(n,"month",1,12),h=nr(o,"day",1,31),y=zo(d,g,h,{hours:i,minutes:a,seconds:u,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&y.setTime(y.getTime()-yF(f)),y},aF=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),cF=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),uF=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Qo=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=aF.exec(e);if(t){let[r,s,n,o,i,a,u,l]=t;return zo(Ls(yn(o)),Xp(n),nr(s,"day",1,31),{hours:i,minutes:a,seconds:u,fractionalMilliseconds:l})}if(t=cF.exec(e),t){let[r,s,n,o,i,a,u,l]=t;return fF(zo(lF(o),Xp(n),nr(s,"day",1,31),{hours:i,minutes:a,seconds:u,fractionalMilliseconds:l}))}if(t=uF.exec(e),t){let[r,s,n,o,i,a,u,l]=t;return zo(Ls(yn(l)),Xp(s),nr(n.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:u})}throw new TypeError("Invalid RFC-7231 date-time value")},Ko=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=lc(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},zo=(e,t,r,s)=>{let n=t-1;return mF(e,n,r),new Date(Date.UTC(e,n,r,nr(s.hours,"hour",0,23),nr(s.minutes,"minute",0,59),nr(s.seconds,"seconds",0,60),gF(s.fractionalMilliseconds)))},lF=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Ls(yn(e));return r<t?r+100:r},dF=50*365*24*60*60*1e3,fF=e=>e.getTime()-new Date().getTime()>dF?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Xp=e=>{let t=Jp.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},pF=[31,28,31,30,31,30,31,31,30,31,30,31],mF=(e,t,r)=>{let s=pF[t];if(t===1&&hF(e)&&(s=29),r>s)throw new TypeError(`Invalid day for ${Jp[t]} in ${e}: ${r}`)},hF=e=>e%4===0&&(e%100!==0||e%400===0),nr=(e,t,r,s)=>{let n=Wp(yn(e));if(n<r||n>s)throw new TypeError(`${t} must be between ${r} and ${s}, inclusive`);return n},gF=e=>e==null?0:Kp("0."+e)*1e3,yF=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let s=Number(e.substring(1,3)),n=Number(e.substring(4,6));return r*(s*60+n)*60*1e3},yn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Fs={};Ye(Fs,{__addDisposableResource:()=>y_,__assign:()=>dc,__asyncDelegator:()=>u_,__asyncGenerator:()=>c_,__asyncValues:()=>l_,__await:()=>Sn,__awaiter:()=>r_,__classPrivateFieldGet:()=>m_,__classPrivateFieldIn:()=>g_,__classPrivateFieldSet:()=>h_,__createBinding:()=>pc,__decorate:()=>Ww,__disposeResources:()=>S_,__esDecorate:()=>Xw,__exportStar:()=>n_,__extends:()=>Kw,__generator:()=>s_,__importDefault:()=>p_,__importStar:()=>f_,__makeTemplateObject:()=>d_,__metadata:()=>t_,__param:()=>Yw,__propKey:()=>Zw,__read:()=>tm,__rest:()=>Gw,__rewriteRelativeImportExtension:()=>E_,__runInitializers:()=>Jw,__setFunctionName:()=>e_,__spread:()=>o_,__spreadArray:()=>a_,__spreadArrays:()=>i_,__values:()=>fc,default:()=>wF});function Kw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Gw(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function Ww(e,t,r,s){var n=arguments.length,o=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,r,o):i(t,r))||o);return n>3&&o&&Object.defineProperty(t,r,o),o}function Yw(e,t){return function(r,s){t(r,s,e)}}function Xw(e,t,r,s,n,o){function i(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var a=s.kind,u=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?s.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,s.name):{}),d,g=!1,h=r.length-1;h>=0;h--){var y={};for(var b in s)y[b]=b==="access"?{}:s[b];for(var b in s.access)y.access[b]=s.access[b];y.addInitializer=function(P){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(P||null))};var R=(0,r[h])(a==="accessor"?{get:f.get,set:f.set}:f[u],y);if(a==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(d=i(R.get))&&(f.get=d),(d=i(R.set))&&(f.set=d),(d=i(R.init))&&n.unshift(d)}else(d=i(R))&&(a==="field"?n.unshift(d):f[u]=d)}l&&Object.defineProperty(l,s.name,f),g=!0}function Jw(e,t,r){for(var s=arguments.length>2,n=0;n<t.length;n++)r=s?t[n].call(e,r):t[n].call(e);return s?r:void 0}function Zw(e){return typeof e=="symbol"?e:"".concat(e)}function e_(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function t_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function r_(e,t,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{l(s.next(f))}catch(d){i(d)}}function u(f){try{l(s.throw(f))}catch(d){i(d)}}function l(f){f.done?o(f.value):n(f.value).then(a,u)}l((s=s.apply(e,t||[])).next())})}function s_(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,n,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(f){return u([l,f])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(s=1,n&&(o=l[0]&2?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,n=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(f){l=[6,f],n=0}finally{s=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function n_(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pc(t,e,r)}function fc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tm(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var s=r.call(e),n,o=[],i;try{for(;(t===void 0||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function o_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tm(arguments[t]));return e}function i_(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var s=Array(e),n=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,n++)s[n]=o[i];return s}function a_(e,t,r){if(r||arguments.length===2)for(var s=0,n=t.length,o;s<n;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function Sn(e){return this instanceof Sn?(this.v=e,this):new Sn(e)}function c_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(e,t||[]),n,o=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),n[Symbol.asyncIterator]=function(){return this},n;function i(h){return function(y){return Promise.resolve(y).then(h,d)}}function a(h,y){s[h]&&(n[h]=function(b){return new Promise(function(R,P){o.push([h,b,R,P])>1||u(h,b)})},y&&(n[h]=y(n[h])))}function u(h,y){try{l(s[h](y))}catch(b){g(o[0][3],b)}}function l(h){h.value instanceof Sn?Promise.resolve(h.value.v).then(f,d):g(o[0][2],h)}function f(h){u("next",h)}function d(h){u("throw",h)}function g(h,y){h(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}function u_(e){var t,r;return t={},s("next"),s("throw",function(n){throw n}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(n,o){t[n]=e[n]?function(i){return(r=!r)?{value:Sn(e[n](i)),done:!1}:o?o(i):i}:o}}function l_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fc=="function"?fc(e):e[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(o){r[o]=e[o]&&function(i){return new Promise(function(a,u){i=e[o](i),n(a,u,i.done,i.value)})}}function n(o,i,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},i)}}function d_(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function f_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=em(e),s=0;s<r.length;s++)r[s]!=="default"&&pc(t,e,r[s]);return SF(t,e),t}function p_(e){return e&&e.__esModule?e:{default:e}}function m_(e,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(e):s?s.value:t.get(e)}function h_(e,t,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r}function g_(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function y_(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:s,async:r})}else r&&e.stack.push({async:!0});return t}function S_(e){function t(o){e.error=e.hasError?new EF(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,s=0;function n(){for(;r=e.stack.pop();)try{if(!r.async&&s===1)return s=0,e.stack.push(r),Promise.resolve().then(n);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(o).then(n,function(i){return t(i),n()})}else s|=1}catch(i){t(i)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}function E_(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,o,i){return s?t?".jsx":".js":n&&(!o||!i)?r:n+o+"."+i.toLowerCase()+"js"}):e}var Zp,dc,pc,SF,em,EF,wF,Bs=S(()=>{c();Zp=function(e,t){return Zp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},Zp(e,t)};dc=function(){return dc=Object.assign||function(t){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},dc.apply(this,arguments)};pc=Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]};SF=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},em=function(e){return em=Object.getOwnPropertyNames||function(t){var r=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[r.length]=s);return r},em(e)};EF=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var s=new Error(r);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};wF={__extends:Kw,__assign:dc,__rest:Gw,__decorate:Ww,__param:Yw,__esDecorate:Xw,__runInitializers:Jw,__propKey:Zw,__setFunctionName:e_,__metadata:t_,__awaiter:r_,__generator:s_,__createBinding:pc,__exportStar:n_,__values:fc,__read:tm,__spread:o_,__spreadArrays:i_,__spreadArray:a_,__await:Sn,__asyncGenerator:c_,__asyncDelegator:u_,__asyncValues:l_,__makeTemplateObject:d_,__importStar:f_,__importDefault:p_,__classPrivateFieldGet:m_,__classPrivateFieldSet:h_,__classPrivateFieldIn:g_,__addDisposableResource:y_,__disposeResources:S_,__rewriteRelativeImportExtension:E_}});var __=v(mc=>{"use strict";c();Object.defineProperty(mc,"__esModule",{value:!0});mc.randomUUID=void 0;var _F=(Bs(),J(Fs)),w_=_F.__importDefault(Y("crypto"));mc.randomUUID=w_.default.randomUUID.bind(w_.default)});var rm=v(T_=>{"use strict";c();var b_=__(),Xe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),bF=()=>{if(b_.randomUUID)return b_.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Xe[e[0]]+Xe[e[1]]+Xe[e[2]]+Xe[e[3]]+"-"+Xe[e[4]]+Xe[e[5]]+"-"+Xe[e[6]]+Xe[e[7]]+"-"+Xe[e[8]]+Xe[e[9]]+"-"+Xe[e[10]]+Xe[e[11]]+Xe[e[12]]+Xe[e[13]]+Xe[e[14]]+Xe[e[15]]};T_.v4=bF});var je,A_=S(()=>{c();je=_(rm())});var Fe,x_=S(()=>{c();Fe=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Fe.from=e=>e&&typeof e=="object"&&(e instanceof Fe||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Fe(String(e)):Fe(JSON.stringify(e));Fe.fromObject=Fe.from});function sm(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var R_=S(()=>{c()});function _r(e,t,r){let s=Number(e);if(s<t||s>r)throw new Error(`Value ${s} out of range [${t}, ${r}]`)}var nm,om,im,C_,v_,TF,AF,xF,RF,CF,En,am,cm,I_=S(()=>{c();nm="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",om="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",im="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",C_="(\\d?\\d)",v_="(\\d{4})",TF=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),AF=new RegExp(`^${nm}, ${C_} ${om} ${v_} ${im} GMT$`),xF=new RegExp(`^${nm}, ${C_}-${om}-(\\d\\d) ${im} GMT$`),RF=new RegExp(`^${nm} ${om} ( [1-9]|\\d\\d) ${im} ${v_}$`),CF=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],En=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},am=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=TF.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,s,n,o,i,a,,u,l]=t;_r(s,1,12),_r(n,1,31),_r(o,0,23),_r(i,0,59),_r(a,0,60);let f=new Date(Date.UTC(Number(r),Number(s)-1,Number(n),Number(o),Number(i),Number(a),Number(u)?Math.round(parseFloat(`0.${u}`)*1e3):0));if(f.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,d,g,h]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],y=d==="-"?1:-1;f.setTime(f.getTime()+y*(Number(g)*60*60*1e3+Number(h)*60*1e3))}return f},cm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,s,n,o,i,a,u;if((u=AF.exec(e))?[,t,r,s,n,o,i,a]=u:(u=xF.exec(e))?([,t,r,s,n,o,i,a]=u,s=(Number(s)+1900).toString()):(u=RF.exec(e))&&([,r,t,n,o,i,a,s]=u),s&&i){let l=Date.UTC(Number(s),CF.indexOf(r),Number(t),Number(n),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);_r(t,1,31),_r(n,0,23),_r(o,0,59),_r(i,0,60);let f=new Date(l);return f.setUTCFullYear(Number(s)),f}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function um(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let s=e.split(t);if(r===1)return s;let n=[],o="";for(let i=0;i<s.length;i++)o===""?o=s[i]:o+=t+s[i],(i+1)%r===0&&(n.push(o),o="");return o!==""&&n.push(o),n}var P_=S(()=>{c()});var Go,O_=S(()=>{c();Go=e=>{let t=e.length,r=[],s=!1,n,o=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':n!=="\\"&&(s=!s);break;case",":s||(r.push(e.slice(o,i)),o=i+1);break;default:}n=a}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function lm(e){return new G(String(e),"bigDecimal")}var N_,G,M_=S(()=>{c();N_=/^-?\d*(\.\d+)?$/,G=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!N_.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&N_.test(r.string)}}});var D_={};Ye(D_,{LazyJsonString:()=>Fe,NumericValue:()=>G,_parseEpochTimestamp:()=>En,_parseRfc3339DateTimeWithOffset:()=>am,_parseRfc7231DateTime:()=>cm,copyDocumentWithTransform:()=>qU,dateToUtcString:()=>Us,expectBoolean:()=>HU,expectByte:()=>Vp,expectFloat32:()=>cc,expectInt:()=>VU,expectInt32:()=>Hp,expectLong:()=>jo,expectNonNull:()=>KU,expectNumber:()=>qo,expectObject:()=>Hw,expectShort:()=>zp,expectString:()=>GU,expectUnion:()=>WU,generateIdempotencyToken:()=>je.v4,handleFloat:()=>JU,limitedParseDouble:()=>Gp,limitedParseFloat:()=>ZU,limitedParseFloat32:()=>eF,logger:()=>Ho,nv:()=>lm,parseBoolean:()=>jU,parseEpochTimestamp:()=>Ko,parseRfc3339DateTime:()=>oF,parseRfc3339DateTimeWithOffset:()=>Vo,parseRfc7231DateTime:()=>Qo,quoteHeader:()=>sm,splitEvery:()=>um,splitHeader:()=>Go,strictParseByte:()=>Wp,strictParseDouble:()=>lc,strictParseFloat:()=>YU,strictParseFloat32:()=>Kp,strictParseInt:()=>tF,strictParseInt32:()=>rF,strictParseLong:()=>Vw,strictParseShort:()=>Ls});var ke=S(()=>{c();jw();Qw();A_();x_();Yp();R_();I_();P_();O_();M_()});var ft,wn=S(()=>{c();ft=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var hc,dm,k_=S(()=>{c();hc=_(Te()),dm=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:s,serdeContext:n,defaultContentType:o}){this.marshaller=t,this.serializer=r,this.deserializer=s,this.serdeContext=n,this.defaultContentType=o}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:s}){let n=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),a=this.serializer,u=this.defaultContentType,l=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(s){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:u}};a.write(r,s);let g=a.flush();yield{[l]:!0,headers:d,body:g}}for await(let d of t)yield d}};return n.serialize(f,d=>{if(d[l])return{headers:d.headers,body:d.body};let g=Object.keys(d).find(N=>N!=="__type")??"",{additionalHeaders:h,body:y,eventType:b,explicitPayloadContentType:R}=this.writeEventBody(g,i,d);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:R??u},...h},body:y}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:s}){let n=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),u=Symbol("initialResponseMarker"),l=n.deserialize(t.body,async g=>{let h=Object.keys(g).find(b=>b!=="__type")??"",y=g[h].body;if(h==="initial-response"){let b=await this.deserializer.read(r,y);return delete b[o],{[u]:!0,...b}}else if(h in a){let b=a[h];if(b.isStructSchema()){let R={},P=!1;for(let[N,$]of b.structIterator()){let{eventHeader:L,eventPayload:q}=$.getMergedTraits();if(P=P||!!(L||q),q)$.isBlobSchema()?R[N]=y:$.isStringSchema()?R[N]=(this.serdeContext?.utf8Encoder??hc.toUtf8)(y):$.isStructSchema()&&(R[N]=await this.deserializer.read($,y));else if(L){let ee=g[h].headers[N]?.value;ee!=null&&($.isNumericSchema()?ee&&typeof ee=="object"&&"bytes"in ee?R[N]=BigInt(ee.toString()):R[N]=Number(ee):R[N]=ee)}}if(P)return{[h]:R};if(y.byteLength===0)return{[h]:{}}}return{[h]:await this.deserializer.read(b,y)}}else return{$unknown:g}}),f=l[Symbol.asyncIterator](),d=await f.next();if(d.done)return l;if(d.value?.[u]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[g,h]of Object.entries(d.value))s[g]=h}return{async*[Symbol.asyncIterator](){for(d?.value?.[u]||(yield d.value);;){let{done:g,value:h}=await f.next();if(g)break;yield h}}}}writeEventBody(t,r,s){let n=this.serializer,o=t,i=null,a,u=r.getSchema()[4].includes(t),l={};if(u){let g=r.getMemberSchema(t);if(g.isStructSchema()){for(let[h,y]of g.structIterator()){let{eventHeader:b,eventPayload:R}=y.getMergedTraits();if(R)i=h;else if(b){let P=s[t][h],N="binary";y.isNumericSchema()?(-2)**31<=P&&P<=2**31-1?N="integer":N="long":y.isTimestampSchema()?N="timestamp":y.isStringSchema()?N="string":y.isBooleanSchema()&&(N="boolean"),P!=null&&(l[h]={type:N,value:P},delete s[t][h])}}if(i!==null){let h=g.getMemberSchema(i);h.isBlobSchema()?a="application/octet-stream":h.isStringSchema()&&(a="text/plain"),n.write(h,s[t][i])}else n.write(g,s[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[g,h]=s[t];o=g,n.write(15,h)}let f=n.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??hc.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var $_={};Ye($_,{EventStreamSerde:()=>dm});var L_=S(()=>{c();k_()});var gc,qs,yc=S(()=>{c();K();gc=_(re());wn();qs=class extends ft{options;constructor(t){super(),this.options=t}getRequestType(){return gc.HttpRequest}getResponseType(){return gc.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[s,n]of r.url.searchParams.entries())t.query[s]=n;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,s){if(this.serdeContext?.disableHostPrefix)return;let n=D.of(r.input),o=sr(r.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let a=[...n.structIterator()].filter(([,u])=>u.getMergedTraits().hostLabel);for(let[u]of a){let l=s[u];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${u} in input must be a string as hostLabel.`);i=i.replace(`{${u}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:s}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:s})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:s}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:s})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(L_(),$_));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,s,n,o){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var U_,F_,Ht,B_=S(()=>{c();K();ke();U_=_(re()),F_=_(Ja());ec();tc();yc();Ht=class extends qs{async serializeRequest(t,r,s){let n={...r??{}},o=this.serializer,i={},a={},u=await s.endpoint(),l=D.of(t?.input),f=l.getSchema(),d=!1,g,h=new U_.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(u){this.updateServiceEndpoint(h,u),this.setHostPrefix(h,t,n);let y=sr(t.traits);if(y.http){h.method=y.http[0];let[b,R]=y.http[1].split("?");h.path=="/"?h.path=b:h.path+=b;let P=new URLSearchParams(R??"");Object.assign(i,Object.fromEntries(P))}}for(let[y,b]of l.structIterator()){let R=b.getMergedTraits()??{},P=n[y];if(P==null&&!b.isIdempotencyToken()){if(R.httpLabel&&(h.path.includes(`{${y}+}`)||h.path.includes(`{${y}}`)))throw new Error(`No value provided for input HTTP label: ${y}.`);continue}if(R.httpPayload)b.isStreaming()?b.isStructSchema()?n[y]&&(g=await this.serializeEventStream({eventStream:n[y],requestSchema:l})):g=P:(o.write(b,P),g=o.flush()),delete n[y];else if(R.httpLabel){o.write(b,P);let N=o.flush();h.path.includes(`{${y}+}`)?h.path=h.path.replace(`{${y}+}`,N.split("/").map(Tt).join("/")):h.path.includes(`{${y}}`)&&(h.path=h.path.replace(`{${y}}`,Tt(N))),delete n[y]}else if(R.httpHeader)o.write(b,P),a[R.httpHeader.toLowerCase()]=String(o.flush()),delete n[y];else if(typeof R.httpPrefixHeaders=="string"){for(let[N,$]of Object.entries(P)){let L=R.httpPrefixHeaders+N;o.write([b.getValueSchema(),{httpHeader:L}],$),a[L.toLowerCase()]=o.flush()}delete n[y]}else R.httpQuery||R.httpQueryParams?(this.serializeQuery(b,P,i),delete n[y]):d=!0}return d&&n&&(o.write(f,n),g=o.flush()),h.headers=a,h.query=i,h.body=g,h}serializeQuery(t,r,s){let n=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in s)){let u=t.getValueSchema();Object.assign(u.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(u,a,s)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let u of r){n.write([t.getValueSchema(),o],u);let l=n.flush();(i||l!==void 0)&&a.push(l)}s[o.httpQuery]=a}else n.write([t,o],r),s[o.httpQuery]=n.flush()}async deserializeResponse(t,r,s){let n=this.deserializer,o=D.of(t.output),i={};if(s.statusCode>=300){let u=await ut(s.body,r);throw u.byteLength>0&&Object.assign(i,await n.read(15,u)),await this.handleError(t,r,s,i,this.deserializeMetadata(s)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in s.headers){let l=s.headers[u];delete s.headers[u],s.headers[u.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,s,i);if(a.length){let u=await ut(s.body,r);if(u.byteLength>0){let l=await n.read(o,u);for(let f of a)i[f]=l[f]}}else a.discardResponseBody&&await ut(s.body,r);return i.$metadata=this.deserializeMetadata(s),i}async deserializeHttpMessage(t,r,s,n,o){let i;n instanceof Set?i=o:i=n;let a=!0,u=this.deserializer,l=D.of(t),f=[];for(let[d,g]of l.structIterator()){let h=g.getMemberTraits();if(h.httpPayload){if(a=!1,g.isStreaming())g.isStructSchema()?i[d]=await this.deserializeEventStream({response:s,responseSchema:l}):i[d]=(0,F_.sdkStreamMixin)(s.body);else if(s.body){let b=await ut(s.body,r);b.byteLength>0&&(i[d]=await u.read(g,b))}}else if(h.httpHeader){let y=String(h.httpHeader).toLowerCase(),b=s.headers[y];if(b!=null)if(g.isListSchema()){let R=g.getValueSchema();R.getMergedTraits().httpHeader=y;let P;R.isTimestampSchema()&&R.getSchema()===4?P=um(b,",",2):P=Go(b);let N=[];for(let $ of P)N.push(await u.read(R,$.trim()));i[d]=N}else i[d]=await u.read(g,b)}else if(h.httpPrefixHeaders!==void 0){i[d]={};for(let[y,b]of Object.entries(s.headers))if(y.startsWith(h.httpPrefixHeaders)){let R=g.getValueSchema();R.getMergedTraits().httpHeader=y,i[d][y.slice(h.httpPrefixHeaders.length)]=await u.read(R,b)}}else h.httpResponseCode?i[d]=s.statusCode:f.push(d)}return f.discardResponseBody=a,f}}});var q_,At,j_=S(()=>{c();K();q_=_(re());ec();yc();At=class extends qs{async serializeRequest(t,r,s){let n=this.serializer,o={},i={},a=await s.endpoint(),u=D.of(t?.input),l=u.getSchema(),f,d=new q_.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,t,r));let g={...r};if(r){let h=u.getEventStreamMember();if(h){if(g[h]){let y={};for(let[b,R]of u.structIterator())b!==h&&g[b]&&(n.write(R,g[b]),y[b]=n.flush());f=await this.serializeEventStream({eventStream:g[h],requestSchema:u,initialRequest:y})}}else n.write(l,g),f=n.flush()}return d.headers=i,d.query=o,d.body=f,d.method="POST",d}async deserializeResponse(t,r,s){let n=this.deserializer,o=D.of(t.output),i={};if(s.statusCode>=300){let u=await ut(s.body,r);throw u.byteLength>0&&Object.assign(i,await n.read(15,u)),await this.handleError(t,r,s,i,this.deserializeMetadata(s)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in s.headers){let l=s.headers[u];delete s.headers[u],s.headers[u.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:s,responseSchema:o,initialResponseContainer:i});else{let u=await ut(s.body,r);u.byteLength>0&&Object.assign(i,await n.read(o,u))}return i.$metadata=this.deserializeMetadata(s),i}}});var fm,pm=S(()=>{c();tc();fm=(e,t,r,s,n,o)=>{if(t!=null&&t[r]!==void 0){let i=s();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(n,o?i.split("/").map(a=>Tt(a)).join("/"):Tt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function mm(e,t){return new Sc(e,t)}var H_,Sc,z_=S(()=>{c();H_=_(re());pm();Sc=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:s,path:n}=await this.context.endpoint();this.path=n;for(let o of this.resolvePathStack)o(this.path);return new H_.HttpRequest({protocol:r,hostname:this.hostname||t,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,s,n){return this.resolvePathStack.push(o=>{this.path=fm(o,this.input,t,r,s,n)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});var V_=v(Ec=>{"use strict";c();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.fromBase64=void 0;var vF=Et(),IF=/^[A-Za-z0-9+/]*={0,2}$/,PF=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!IF.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,vF.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ec.fromBase64=PF});var Q_=v(wc=>{"use strict";c();Object.defineProperty(wc,"__esModule",{value:!0});wc.toBase64=void 0;var OF=Et(),NF=Te(),MF=e=>{let t;if(typeof e=="string"?t=(0,NF.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,OF.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};wc.toBase64=MF});var _c=v(Wo=>{"use strict";c();var K_=V_(),G_=Q_();Object.keys(K_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Wo,e)&&Object.defineProperty(Wo,e,{enumerable:!0,get:function(){return K_[e]}})});Object.keys(G_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Wo,e)&&Object.defineProperty(Wo,e,{enumerable:!0,get:function(){return G_[e]}})})});function $e(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:s,httpHeader:n,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof s=="string"||n?6:o||r?5:void 0:void 0)??t.timestampFormat.default}var bc=S(()=>{c()});var hm,W_,br,gm=S(()=>{c();K();ke();hm=_(_c()),W_=_(Te());wn();bc();br=class extends ft{settings;constructor(t){super(),this.settings=t}read(t,r){let s=D.of(t);if(s.isListSchema())return Go(r).map(n=>this.read(s.getValueSchema(),n));if(s.isBlobSchema())return(this.serdeContext?.base64Decoder??hm.fromBase64)(r);if(s.isTimestampSchema())switch($e(s,this.settings)){case 5:return am(r);case 6:return cm(r);case 7:return En(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isStringSchema()){let n=s.getMergedTraits().mediaType,o=r;if(n)return s.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(n==="application/json"||n.endsWith("+json"))&&(o=Fe.from(o)),o}return s.isNumericSchema()?Number(r):s.isBigIntegerSchema()?BigInt(r):s.isBigDecimalSchema()?new G(r,"bigDecimal"):s.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??W_.toUtf8)((this.serdeContext?.base64Decoder??hm.fromBase64)(t))}}});var Tc,zt,Y_=S(()=>{c();K();Tc=_(Te());wn();gm();zt=class extends ft{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new br(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let s=D.of(t),n=s.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Tc.toUtf8;if(n.httpHeader||n.httpResponseCode)return this.stringDeserializer.read(s,o(r));if(n.httpPayload){if(s.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Tc.fromUtf8;return typeof r=="string"?i(r):r}else if(s.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(s,r)}}});var ym,Yo,Sm=S(()=>{c();K();ke();ym=_(_c());wn();bc();Yo=class extends ft{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let s=D.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(s.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${s.getName(!0)}`);switch($e(s,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Us(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(s.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??ym.toBase64)(r);return}if(s.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([s.getValueSchema(),s.getMergedTraits()],a);let u=this.flush(),l=s.getValueSchema().isTimestampSchema()?u:sm(u);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let n=s.getMergedTraits().mediaType,o=r;if(n&&((n==="application/json"||n.endsWith("+json"))&&(o=Fe.from(o)),s.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??ym.toBase64)(o.toString());return}this.stringBuffer=r;break;default:s.isIdempotencyToken()?this.stringBuffer=(0,je.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Vt,X_=S(()=>{c();K();Sm();Vt=class{codecSerializer;stringSerializer;buffer;constructor(t,r,s=new Yo(r)){this.codecSerializer=t,this.stringSerializer=s}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let s=D.of(t),n=s.getMergedTraits();if(n.httpHeader||n.httpLabel||n.httpQuery){this.stringSerializer.write(s,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(s,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var J_={};Ye(J_,{FromStringShapeDeserializer:()=>br,HttpBindingProtocol:()=>Ht,HttpInterceptingShapeDeserializer:()=>zt,HttpInterceptingShapeSerializer:()=>Vt,HttpProtocol:()=>qs,RequestBuilder:()=>Sc,RpcProtocol:()=>At,SerdeContext:()=>ft,ToStringShapeSerializer:()=>Yo,collectBody:()=>ut,determineTimestampFormat:()=>$e,extendedEncodeURIComponent:()=>Tt,requestBuilder:()=>mm,resolvedPath:()=>fm});var Ie=S(()=>{c();ec();tc();B_();yc();j_();z_();pm();gm();Y_();X_();Sm();bc();wn()});var H=v(he=>{"use strict";c();var tb=uE(),Cm=(Ie(),J(J_)),wm=jr(),DF=(K(),J(ac)),Z_=(ke(),J(D_)),_m=class{config;middlewareStack=tb.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:s}=t;s&&typeof r=="function"&&(t.protocol=new r(s))}send(t,r,s){let n=typeof r!="function"?r:void 0,o=typeof r=="function"?r:s,i=n===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let u=this.handlers;u.has(t.constructor)?a=u.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,n),u.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,n);if(o)a(t).then(u=>o(null,u.output),u=>o(u)).catch(()=>{});else return a(t).then(u=>u.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Em="***SensitiveInformation***";function bm(e,t){if(t==null)return t;let r=DF.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Em;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Em}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Em}else if(r.isStructSchema()&&typeof t=="object"){let s=t,n={};for(let[o,i]of r.structIterator())s[o]!=null&&(n[o]=bm(i,s[o]));return n}return t}var Ac=class{middlewareStack=tb.constructStack();schema;static classBuilder(){return new Tm}resolveMiddlewareWithContext(t,r,s,{middlewareFn:n,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:l,additionalContext:f,CommandCtor:d}){for(let R of n.bind(this)(d,t,r,s))this.middlewareStack.use(R);let g=t.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[wm.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...f},{requestHandler:b}=r;return g.resolve(R=>b.handle(R.request,s||{}),y)}},Tm=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,s={}){return this._smithyContext={service:t,operation:r,...s},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=s=>s,r=s=>s){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Ac{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[s]){super(),this.input=s??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(s,n,o){let i=t._operationSchema,a=i?.[4]??i?.input,u=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(s,n,o,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?bm.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?bm.bind(null,u):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},kF="***SensitiveInformation***",$F=(e,t)=>{for(let r of Object.keys(e)){let s=e[r],n=async function(i,a,u){let l=new s(i);if(typeof a=="function")this.send(l,a);else if(typeof u=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},u)}else return this.send(l,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=n}},Am=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},rb=(e,t={})=>{Object.entries(t).filter(([,s])=>s!==void 0).forEach(([s,n])=>{(e[s]==null||e[s]==="")&&(e[s]=n)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},sb=({output:e,parsedBody:t,exceptionCtor:r,errorCode:s})=>{let n=UF(e),o=n.httpStatusCode?n.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||s||o||"UnknownError",$fault:"client",$metadata:n});throw rb(i,t)},LF=e=>({output:t,parsedBody:r,errorCode:s})=>{sb({output:t,parsedBody:r,exceptionCtor:e,errorCode:s})},UF=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),FF=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},eb=!1,BF=e=>{e&&!eb&&parseInt(e.substring(1,e.indexOf(".")))<16&&(eb=!0)},qF=e=>{let t=[];for(let r in wm.AlgorithmId){let s=wm.AlgorithmId[r];e[s]!==void 0&&t.push({algorithmId:()=>s,checksumConstructor:()=>e[s]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},jF=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},HF=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),zF=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},nb=e=>Object.assign(qF(e),HF(e)),VF=nb,QF=e=>Object.assign(jF(e),zF(e)),KF=e=>Array.isArray(e)?e:[e],ob=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=ob(e[r]));return e},GF=e=>e!=null,xm=class{trace(){}debug(){}info(){}warn(){}error(){}};function ib(e,t,r){let s,n,o;if(typeof t>"u"&&typeof r>"u")s={},o=e;else{if(s=e,typeof t=="function")return n=t,o=r,XF(s,n,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){s[i]=o[i];continue}ab(s,null,o,i)}return s}var WF=e=>{let t={};for(let[r,s]of Object.entries(e||{}))t[r]=[,s];return t},YF=(e,t)=>{let r={};for(let s in t)ab(r,e,t,s);return r},XF=(e,t,r)=>ib(e,Object.entries(r).reduce((s,[n,o])=>(Array.isArray(o)?s[n]=o:typeof o=="function"?s[n]=[t,o()]:s[n]=[t,o],s),{})),ab=(e,t,r,s)=>{if(t!==null){let i=r[s];typeof i=="function"&&(i=[,i]);let[a=JF,u=ZF,l=s]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[s]=u(t[l]));return}let[n,o]=r[s];if(typeof o=="function"){let i,a=n===void 0&&(i=o())!=null,u=typeof n=="function"&&!!n(void 0)||typeof n!="function"&&!!n;a?e[s]=i:u&&(e[s]=o())}else{let i=n===void 0&&o!=null,a=typeof n=="function"&&!!n(o)||typeof n!="function"&&!!n;(i||a)&&(e[s]=o)}},JF=e=>e!=null,ZF=e=>e,eB=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},tB=e=>e.toISOString().replace(".000Z","Z"),Rm=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Rm);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Rm(e[r]));return t}return e};Object.defineProperty(he,"collectBody",{enumerable:!0,get:function(){return Cm.collectBody}});Object.defineProperty(he,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Cm.extendedEncodeURIComponent}});Object.defineProperty(he,"resolvedPath",{enumerable:!0,get:function(){return Cm.resolvedPath}});he.Client=_m;he.Command=Ac;he.NoOpLogger=xm;he.SENSITIVE_STRING=kF;he.ServiceException=Am;he._json=Rm;he.convertMap=WF;he.createAggregatedClient=$F;he.decorateServiceException=rb;he.emitWarningIfUnsupportedVersion=BF;he.getArrayIfSingleItem=KF;he.getDefaultClientConfiguration=VF;he.getDefaultExtensionConfiguration=nb;he.getValueFromTextNode=ob;he.isSerializableHeaderValue=GF;he.loadConfigsForDefaultMode=FF;he.map=ib;he.resolveDefaultRuntimeConfig=QF;he.serializeDateTime=tB;he.serializeFloat=eB;he.take=YF;he.throwDefaultError=sb;he.withBaseException=LF;Object.keys(Z_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(he,e)&&Object.defineProperty(he,e,{enumerable:!0,get:function(){return Z_[e]}})})});var gb=v(wt=>{"use strict";c();var rB=H(),vm=Wa(),Im=Te(),sB=e=>Object.assign(e,{useQueueUrlAsEndpoint:e.useQueueUrlAsEndpoint??!0});function cb({useQueueUrlAsEndpoint:e,endpoint:t}){return(r,s)=>async n=>{let{input:o}=n,i=s.endpointV2;if(!t&&o.QueueUrl&&i&&e){let a=s.logger instanceof rB.NoOpLogger||!s.logger?.warn?console:s.logger;try{let u=new URL(o.QueueUrl),l=new URL(u.origin);i.url.origin!==l.origin&&(a.warn(`QueueUrl=${o.QueueUrl} differs from SQSClient resolved endpoint=${i.url.toString()}, using QueueUrl host as endpoint.
Set [endpoint=string] or [useQueueUrlAsEndpoint=false] on the SQSClient.`),s.endpointV2={...i,url:l})}catch(u){a.warn(u)}}return r(n)}}var ub={name:"queueUrlMiddleware",relation:"after",toMiddleware:"endpointV2Middleware",override:!0},nB=e=>({applyToStack:t=>{t.addRelativeTo(cb(e),ub)}});function lb(e){return t=>async r=>{let s=await t({...r});if(e.md5===!1)return s;let n=s.output,o=[];if(n.Messages!==void 0)for(let i of n.Messages){let a=i.MD5OfBody,u=new e.md5;u.update(Im.toUint8Array(i.Body||"")),a!==vm.toHex(await u.digest())&&o.push(i.MessageId)}if(o.length>0)throw new Error("Invalid MD5 checksum on messages: "+o.join(", "));return s}}var db={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"receiveMessageMiddleware",override:!0},oB=e=>({applyToStack:t=>{t.add(lb(e),db)}}),fb=e=>t=>async r=>{let s=await t({...r});if(e.md5===!1)return s;let n=s.output,o=new e.md5;if(o.update(Im.toUint8Array(r.input.MessageBody||"")),n.MD5OfMessageBody!==vm.toHex(await o.digest()))throw new Error("InvalidChecksumError");return s},pb={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageMiddleware",override:!0},iB=e=>({applyToStack:t=>{t.add(fb(e),pb)}}),mb=e=>t=>async r=>{let s=await t({...r});if(e.md5===!1)return s;let n=s.output,o=[],i={};if(n.Successful!==void 0)for(let a of n.Successful)a.Id!==void 0&&(i[a.Id]=a);for(let a of r.input.Entries)if(i[a.Id]){let u=i[a.Id].MD5OfMessageBody,l=new e.md5;l.update(Im.toUint8Array(a.MessageBody||"")),u!==vm.toHex(await l.digest())&&o.push(i[a.Id].MessageId)}if(o.length>0)throw new Error("Invalid MD5 checksum on messages: "+o.join(", "));return s},hb={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageBatchMiddleware",override:!0},aB=e=>({applyToStack:t=>{t.add(mb(e),hb)}});wt.getQueueUrlPlugin=nB;wt.getReceiveMessagePlugin=oB;wt.getSendMessageBatchPlugin=aB;wt.getSendMessagePlugin=iB;wt.queueUrlMiddleware=cb;wt.queueUrlMiddlewareOptions=ub;wt.receiveMessageMiddleware=lb;wt.receiveMessageMiddlewareOptions=db;wt.resolveQueueUrlConfig=sB;wt.sendMessageBatchMiddleware=mb;wt.sendMessageBatchMiddlewareOptions=hb;wt.sendMessageMiddleware=fb;wt.sendMessageMiddlewareOptions=pb});var Pm,cB,yb=S(()=>{c();Pm=_(jr()),cB=e=>e[Pm.SMITHY_CONTEXT_KEY]||(e[Pm.SMITHY_CONTEXT_KEY]={})});var Sb,Eb=S(()=>{c();Sb=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let s of t)for(let n of e)n.schemeId.split("#")[1]===s&&r.push(n);for(let s of e)r.find(({schemeId:n})=>n===s.schemeId)||r.push(s);return r}});function uB(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var wb,Xo,xc=S(()=>{c();wb=_(dt());Eb();Xo=(e,t)=>(r,s)=>async n=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,s,n.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=Sb(o,i),u=uB(e.httpAuthSchemes),l=(0,wb.getSmithyContext)(s),f=[];for(let d of a){let g=u.get(d.schemeId);if(!g){f.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let h=g.identityProvider(await t.identityProviderConfigProvider(e));if(!h){f.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:b={}}=d.propertiesExtractor?.(e,s)||{};d.identityProperties=Object.assign(d.identityProperties||{},y),d.signingProperties=Object.assign(d.signingProperties||{},b),l.selectedHttpAuthScheme={httpAuthOption:d,identity:await h(d.identityProperties),signer:g.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(f.join(`
`));return r(n)}});var _b,js,bb=S(()=>{c();xc();_b={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},js=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:s=>{s.addRelativeTo(Xo(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),_b)}})});var Nm=v(_n=>{"use strict";c();var lB=re(),Tb=(e,t)=>(r,s)=>async n=>{let{response:o}=await r(n);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!s.logger||s.logger?.constructor?.name==="NoOpLogger"?console.warn(a):s.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(lB.HttpResponse.isInstance(o)){let{headers:u={}}=o,l=Object.entries(u);i.$metadata={httpStatusCode:o.statusCode,requestId:Om(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Om(/^x-[\w-]+-id-2$/,l),cfId:Om(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},Om=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],Ab=(e,t)=>(r,s)=>async n=>{let o=e,i=s.endpointV2?.url&&o.urlParser?async()=>o.urlParser(s.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(n.input,{...e,endpoint:i});return r({...n,request:a})},xb={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Rb={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function dB(e,t,r){return{applyToStack:s=>{s.add(Tb(e,r),xb),s.add(Ab(e,t),Rb)}}}_n.deserializerMiddleware=Tb;_n.deserializerMiddlewareOption=xb;_n.getSerdePlugin=dB;_n.serializerMiddleware=Ab;_n.serializerMiddlewareOption=Rb});var Cb,vb,fB,Ib=S(()=>{c();Cb=_(Nm());xc();vb={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Cb.serializerMiddlewareOption.name},fB=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:s=>{s.addRelativeTo(Xo(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),vb)}})});var Pb=S(()=>{c();xc();bb();Ib()});var Ob,Nb,pB,mB,Mm,Dm=S(()=>{c();Ob=_(re()),Nb=_(dt()),pB=e=>t=>{throw t},mB=(e,t)=>{},Mm=e=>(t,r)=>async s=>{if(!Ob.HttpRequest.isInstance(s.request))return t(s);let o=(0,Nb.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:u}=o,l=await t({...s,request:await u.sign(s.request,a,i)}).catch((u.errorHandler||pB)(i));return(u.successHandler||mB)(l.response,i),l}});var Mb,Hs,Db=S(()=>{c();Dm();Mb={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Hs=e=>({applyToStack:t=>{t.addRelativeTo(Mm(e),Mb)}})});var kb=S(()=>{c();Dm();Db()});var pt,$b=S(()=>{c();pt=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Lb(e,t,r,s,n){return async function*(i,a,...u){let l=a,f=i.startingToken??l[r],d=!0,g;for(;d;){if(l[r]=f,n&&(l[n]=l[n]??i.pageSize),i.client instanceof e)g=await hB(t,i.client,a,i.withCommand,...u);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let h=f;f=gB(g,s),d=!!(f&&(!i.stopOnSameToken||f!==h))}return void 0}}var hB,gB,Ub=S(()=>{c();hB=async(e,t,r,s=o=>o,...n)=>{let o=new e(r);return o=s(o)??o,await t.send(o,...n)};gB=(e,t)=>{let r=e,s=t.split(".");for(let n of s){if(!r||typeof r!="object")return;r=r[n]}return r}});var Fb=S(()=>{c();Ie()});function yB(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var Bb=S(()=>{c()});var Tr,qb=S(()=>{c();Tr=class{authSchemes=new Map;constructor(t){for(let[r,s]of Object.entries(t))s!==void 0&&this.authSchemes.set(r,s)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var jb,km,$m,Hb=S(()=>{c();jb=_(re()),km=_(jr()),$m=class{async sign(t,r,s){if(!s)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!s.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!s.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let n=jb.HttpRequest.clone(t);if(s.in===km.HttpApiKeyAuthLocation.QUERY)n.query[s.name]=r.apiKey;else if(s.in===km.HttpApiKeyAuthLocation.HEADER)n.headers[s.name]=s.scheme?`${s.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+s.in+"`");return n}}});var zb,Lm,Vb=S(()=>{c();zb=_(re()),Lm=class{async sign(t,r,s){let n=zb.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return n.headers.Authorization=`Bearer ${r.token}`,n}}});var Qt,Qb=S(()=>{c();Qt=class{async sign(t,r,s){return t}}});var Kb=S(()=>{c();Hb();Vb();Qb()});var Gb,SB,Jo,bn,Zo,Wb=S(()=>{c();Gb=e=>function(r){return bn(r)&&r.expiration.getTime()-Date.now()<e},SB=3e5,Jo=Gb(3e5),bn=e=>e.expiration!==void 0,Zo=(e,t,r)=>{if(e===void 0)return;let s=typeof e!="function"?async()=>Promise.resolve(e):e,n,o,i,a=!1,u=async l=>{o||(o=s(l));try{n=await o,i=!0,a=!1}finally{o=void 0}return n};return t===void 0?async l=>((!i||l?.forceRefresh)&&(n=await u(l)),n):async l=>((!i||l?.forceRefresh)&&(n=await u(l)),a?n:r(n)?(t(n)&&await u(l),n):(a=!0,n))}});var Yb=S(()=>{c();qb();Kb();Wb()});var zs={};Ye(zs,{DefaultIdentityProviderConfig:()=>Tr,EXPIRATION_MS:()=>SB,HttpApiKeyAuthSigner:()=>$m,HttpBearerAuthSigner:()=>Lm,NoAuthSigner:()=>Qt,createIsIdentityExpiredFunction:()=>Gb,createPaginator:()=>Lb,doesIdentityRequireRefresh:()=>bn,getHttpAuthSchemeEndpointRuleSetPlugin:()=>js,getHttpAuthSchemePlugin:()=>fB,getHttpSigningPlugin:()=>Hs,getSmithyContext:()=>cB,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>_b,httpAuthSchemeMiddleware:()=>Xo,httpAuthSchemeMiddlewareOptions:()=>vb,httpSigningMiddleware:()=>Mm,httpSigningMiddlewareOptions:()=>Mb,isIdentityExpired:()=>Jo,memoizeIdentityProvider:()=>Zo,normalizeProvider:()=>pt,requestBuilder:()=>mm,setFeature:()=>yB});var He=S(()=>{c();yb();Pb();kb();$b();Ub();Fb();Bb();Yb()});var Gr=v(Vs=>{"use strict";c();var Fm=jr(),Bm=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let s=this.hash(t);if(s===!1)return r();if(!this.data.has(s)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:i,done:a}=n.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(s,r())}return this.data.get(s)}size(){return this.data.size}hash(t){let r="",{parameters:s}=this;if(s.length===0)return!1;for(let n of s){let o=String(t[n]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},EB=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Xb=e=>EB.test(e)||e.startsWith("[")&&e.endsWith("]"),wB=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),jm=(e,t=!1)=>{if(!t)return wB.test(e);let r=e.split(".");for(let s of r)if(!jm(s))return!1;return!0},qm={},ei="endpoints";function Kr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Kr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Kr).join(", ")})`:JSON.stringify(e,null,2)}var Je=class extends Error{constructor(t){super(t),this.name="EndpointError"}},_B=(e,t)=>e===t,bB=e=>{let t=e.split("."),r=[];for(let s of t){let n=s.indexOf("[");if(n!==-1){if(s.indexOf("]")!==s.length-1)throw new Je(`Path: '${e}' does not end with ']'`);let o=s.slice(n+1,-1);if(Number.isNaN(parseInt(o)))throw new Je(`Invalid array index: '${o}' in path: '${e}'`);n!==0&&r.push(s.slice(0,n)),r.push(o)}else r.push(s)}return r},Jb=(e,t)=>bB(t).reduce((r,s)=>{if(typeof r!="object")throw new Je(`Index '${s}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(s)]:r[s]},e),TB=e=>e!=null,AB=e=>!e,Um={[Fm.EndpointURLScheme.HTTP]:80,[Fm.EndpointURLScheme.HTTPS]:443},xB=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:h,protocol:y="",path:b="",query:R={}}=e,P=new URL(`${y}//${g}${h?`:${h}`:""}${b}`);return P.search=Object.entries(R).map(([N,$])=>`${N}=${$}`).join("&"),P}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:s,hostname:n,pathname:o,protocol:i,search:a}=t;if(a)return null;let u=i.slice(0,-1);if(!Object.values(Fm.EndpointURLScheme).includes(u))return null;let l=Xb(n),f=r.includes(`${s}:${Um[u]}`)||typeof e=="string"&&e.includes(`${s}:${Um[u]}`),d=`${s}${f?`:${Um[u]}`:""}`;return{scheme:u,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},RB=(e,t)=>e===t,CB=(e,t,r,s)=>t>=r||e.length<r?null:s?e.substring(e.length-r,e.length-t):e.substring(t,r),vB=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),IB={booleanEquals:_B,getAttr:Jb,isSet:TB,isValidHostLabel:jm,not:AB,parseURL:xB,stringEquals:RB,substring:CB,uriEncode:vB},Zb=(e,t)=>{let r=[],s={...t.endpointParams,...t.referenceRecord},n=0;for(;n<e.length;){let o=e.indexOf("{",n);if(o===-1){r.push(e.slice(n));break}r.push(e.slice(n,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),n=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[u,l]=a.split("#");r.push(Jb(s[u],l))}else r.push(s[a]);n=i+1}return r.join("")},PB=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Rc=(e,t,r)=>{if(typeof e=="string")return Zb(e,r);if(e.fn)return tT.callFunction(e,r);if(e.ref)return PB(e,r);throw new Je(`'${t}': ${String(e)} is not a string, function or reference.`)},eT=({fn:e,argv:t},r)=>{let s=t.map(o=>["boolean","number"].includes(typeof o)?o:tT.evaluateExpression(o,"arg",r)),n=e.split(".");return n[0]in qm&&n[1]!=null?qm[n[0]][n[1]](...s):IB[e](...s)},tT={evaluateExpression:Rc,callFunction:eT},OB=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Je(`'${e}' is already defined in Reference Record.`);let s=eT(t,r);return r.logger?.debug?.(`${ei} evaluateCondition: ${Kr(t)} = ${Kr(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},Hm=(e=[],t)=>{let r={};for(let s of e){let{result:n,toAssign:o}=OB(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!n)return{result:n};o&&(r[o.name]=o.value,t.logger?.debug?.(`${ei} assign: ${o.name} := ${Kr(o.value)}`))}return{result:!0,referenceRecord:r}},NB=(e,t)=>Object.entries(e).reduce((r,[s,n])=>({...r,[s]:n.map(o=>{let i=Rc(o,"Header value entry",t);if(typeof i!="string")throw new Je(`Header '${s}' value '${i}' is not a string`);return i})}),{}),rT=(e,t)=>Object.entries(e).reduce((r,[s,n])=>({...r,[s]:nT.getEndpointProperty(n,t)}),{}),sT=(e,t)=>{if(Array.isArray(e))return e.map(r=>sT(r,t));switch(typeof e){case"string":return Zb(e,t);case"object":if(e===null)throw new Je(`Unexpected endpoint property: ${e}`);return nT.getEndpointProperties(e,t);case"boolean":return e;default:throw new Je(`Unexpected endpoint property type: ${typeof e}`)}},nT={getEndpointProperty:sT,getEndpointProperties:rT},MB=(e,t)=>{let r=Rc(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(s){throw console.error(`Failed to construct URL with ${r}`,s),s}throw new Je(`Endpoint URL must be a string, got ${typeof r}`)},DB=(e,t)=>{let{conditions:r,endpoint:s}=e,{result:n,referenceRecord:o}=Hm(r,t);if(!n)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:u,headers:l}=s;return t.logger?.debug?.(`${ei} Resolving endpoint from template: ${Kr(s)}`),{...l!=null&&{headers:NB(l,i)},...u!=null&&{properties:rT(u,i)},url:MB(a,i)}},kB=(e,t)=>{let{conditions:r,error:s}=e,{result:n,referenceRecord:o}=Hm(r,t);if(n)throw new Je(Rc(s,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},oT=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let s=DB(r,t);if(s)return s}else if(r.type==="error")kB(r,t);else if(r.type==="tree"){let s=iT.evaluateTreeRule(r,t);if(s)return s}else throw new Je(`Unknown endpoint rule: ${r}`);throw new Je("Rules evaluation failed")},$B=(e,t)=>{let{conditions:r,rules:s}=e,{result:n,referenceRecord:o}=Hm(r,t);if(n)return iT.evaluateRules(s,{...t,referenceRecord:{...t.referenceRecord,...o}})},iT={evaluateRules:oT,evaluateTreeRule:$B},LB=(e,t)=>{let{endpointParams:r,logger:s}=t,{parameters:n,rules:o}=e;t.logger?.debug?.(`${ei} Initial EndpointParams: ${Kr(r)}`);let i=Object.entries(n).filter(([,l])=>l.default!=null).map(([l,f])=>[l,f.default]);if(i.length>0)for(let[l,f]of i)r[l]=r[l]??f;let a=Object.entries(n).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Je(`Missing required parameter: '${l}'`);let u=oT(o,{endpointParams:r,logger:s,referenceRecord:{}});return t.logger?.debug?.(`${ei} Resolved endpoint: ${Kr(u)}`),u};Vs.EndpointCache=Bm;Vs.EndpointError=Je;Vs.customEndpointFunctions=qm;Vs.isIpAddress=Xb;Vs.isValidHostLabel=jm;Vs.resolveEndpoint=LB});var cT=v(aT=>{"use strict";c();function UB(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[s,n=null]=r.split("=");s=decodeURIComponent(s),n&&(n=decodeURIComponent(n)),s in t?Array.isArray(t[s])?t[s].push(n):t[s]=[t[s],n]:t[s]=n}return t}aT.parseQueryString=UB});var Ar=v(lT=>{"use strict";c();var FB=cT(),uT=e=>{if(typeof e=="string")return uT(new URL(e));let{hostname:t,pathname:r,port:s,protocol:n,search:o}=e,i;return o&&(i=FB.parseQueryString(o)),{hostname:t,port:s?parseInt(s):void 0,protocol:n,path:r,query:i}};lT.parseUrl=uT});var Wr=v(Kt=>{"use strict";c();var Tn=Gr(),BB=Ar(),fT=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!fT(r))return!1;return!0}return!(!Tn.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Tn.isIpAddress(e))},dT=":",qB="/",jB=e=>{let t=e.split(dT);if(t.length<6)return null;let[r,s,n,o,i,...a]=t;if(r!=="arn"||s===""||n===""||a.join(dT)==="")return null;let u=a.map(l=>l.split(qB)).flat();return{partition:s,service:n,region:o,accountId:i,resourceId:u}},HB=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],zB="1.1",pT={partitions:HB,version:zB},mT=pT,hT="",gT=e=>{let{partitions:t}=mT;for(let s of t){let{regions:n,outputs:o}=s;for(let[i,a]of Object.entries(n))if(i===e)return{...o,...a}}for(let s of t){let{regionRegex:n,outputs:o}=s;if(new RegExp(n).test(e))return{...o}}let r=t.find(s=>s.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},yT=(e,t="")=>{mT=e,hT=t},VB=()=>{yT(pT,"")},QB=()=>hT,ST={isVirtualHostableS3Bucket:fT,parseArn:jB,partition:gT};Tn.customEndpointFunctions.aws=ST;var KB=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>ET(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},ET=e=>BB.parseUrl(e.url);Object.defineProperty(Kt,"EndpointError",{enumerable:!0,get:function(){return Tn.EndpointError}});Object.defineProperty(Kt,"isIpAddress",{enumerable:!0,get:function(){return Tn.isIpAddress}});Object.defineProperty(Kt,"resolveEndpoint",{enumerable:!0,get:function(){return Tn.resolveEndpoint}});Kt.awsEndpointFunctions=ST;Kt.getUserAgentPrefix=QB;Kt.partition=gT;Kt.resolveDefaultAwsRegionalEndpointsConfig=KB;Kt.setPartitionInfo=yT;Kt.toEndpointV1=ET;Kt.useDefaultPartitionInfo=VB});var zm,GB,wT=S(()=>{c();zm={warningEmitted:!1},GB=e=>{e&&!zm.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(zm.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Vm(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var _T=S(()=>{c()});function WB(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var bT=S(()=>{c()});function YB(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var TT=S(()=>{c()});var Qm=S(()=>{c();wT();_T();bT();TT()});var AT,Km,xT=S(()=>{c();AT=_(re()),Km=e=>AT.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var An,Gm=S(()=>{c();An=e=>new Date(Date.now()+e)});var RT,CT=S(()=>{c();Gm();RT=(e,t)=>Math.abs(An(t).getTime()-e)>=3e5});var Wm,vT=S(()=>{c();CT();Wm=(e,t)=>{let r=Date.parse(e);return RT(r,t)?r-Date.now():t}});var Ym=S(()=>{c();xT();Gm();vT()});var IT,ti,ri,Qs,PT,Xm=S(()=>{c();IT=_(re());Ym();ti=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ri=async e=>{let t=ti("context",e.context),r=ti("config",e.config),s=t.endpointV2?.properties?.authSchemes?.[0],o=await ti("signer",r.signer)(s),i=e?.signingRegion,a=e?.signingRegionSet,u=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:u}},Qs=class{async sign(t,r,s){if(!IT.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let n=await ri(s),{config:o,signer:i}=n,{signingRegion:a,signingName:u}=n,l=s.context;if(l?.authSchemes?.length??!1){let[d,g]=l.authSchemes;d?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,u=g?.signingName??u)}return await i.sign(t,{signingDate:An(o.systemClockOffset),signingRegion:a,signingService:u})}errorHandler(t){return r=>{let s=r.ServerTime??Km(r.$response);if(s){let n=ti("config",t.config),o=n.systemClockOffset;n.systemClockOffset=Wm(s,n.systemClockOffset),n.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let s=Km(t);if(s){let n=ti("config",r.config);n.systemClockOffset=Wm(s,n.systemClockOffset)}}},PT=Qs});var OT,Cc,NT=S(()=>{c();OT=_(re());Ym();Xm();Cc=class extends Qs{async sign(t,r,s){if(!OT.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:n,signer:o,signingRegion:i,signingRegionSet:a,signingName:u}=await ri(s),f=(await n.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(t,{signingDate:An(n.systemClockOffset),signingRegion:f,signingService:u})}}});var Jm,MT=S(()=>{c();Jm=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Zm,eh=S(()=>{c();Zm=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var DT,kT,XB,$T=S(()=>{c();MT();eh();DT="AWS_AUTH_SCHEME_PREFERENCE",kT="auth_scheme_preference",XB={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Zm(t.signingName)in e)return["httpBearerAuth"];if(DT in e)return Jm(e[DT])},configFileSelector:e=>{if(kT in e)return Jm(e[kT])},default:[]}});var Qe=v(Ks=>{"use strict";c();var xn=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let s,n=!0;typeof r=="boolean"?(s=void 0,n=r):r!=null&&typeof r=="object"&&(s=r.logger,n=r.tryNextLink??!0),super(t),this.tryNextLink=n,Object.setPrototypeOf(this,e.prototype),s?.debug?.(`@smithy/property-provider ${n?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},th=class e extends xn{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},rh=class e extends xn{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},JB=(...e)=>async()=>{if(e.length===0)throw new xn("No providers in chain");let t;for(let r of e)try{return await r()}catch(s){if(t=s,s?.tryNextLink)continue;throw s}throw t},ZB=e=>()=>Promise.resolve(e),eq=(e,t,r)=>{let s,n,o,i=!1,a=async()=>{n||(n=e());try{s=await n,o=!0,i=!1}finally{n=void 0}return s};return t===void 0?async u=>((!o||u?.forceRefresh)&&(s=await a()),s):async u=>((!o||u?.forceRefresh)&&(s=await a()),i?s:r&&!r(s)?(i=!0,s):(t(s)&&await a(),s))};Ks.CredentialsProviderError=th;Ks.ProviderError=xn;Ks.TokenProviderError=rh;Ks.chain=JB;Ks.fromStatic=ZB;Ks.memoize=eq});var sh,tq,rq,LT=S(()=>{c();He();sh=_(Qe()),tq=e=>(e.sigv4aSigningRegionSet=pt(e.sigv4aSigningRegionSet),e),rq={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new sh.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new sh.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var FT=v(nh=>{"use strict";c();var UT=e=>encodeURIComponent(e).replace(/[!'()*]/g,sq),sq=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,nq=e=>e.split("/").map(UT).join("/");nh.escapeUri=UT;nh.escapeUriPath=nq});var kc=v(X=>{"use strict";c();var Yr=Wa(),Gs=Te(),oq=ap(),HT=re(),BT=dt(),vc=FT(),zT="X-Amz-Algorithm",VT="X-Amz-Credential",lh="X-Amz-Date",QT="X-Amz-SignedHeaders",KT="X-Amz-Expires",dh="X-Amz-Signature",fh="X-Amz-Security-Token",iq="X-Amz-Region-Set",ph="authorization",mh=lh.toLowerCase(),GT="date",WT=[ph,mh,GT],YT=dh.toLowerCase(),Mc="x-amz-content-sha256",XT=fh.toLowerCase(),aq="host",JT={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ZT=/^proxy-/,eA=/^sec-/,cq=[/^proxy-/i,/^sec-/i],Ic="AWS4-HMAC-SHA256",uq="AWS4-ECDSA-P256-SHA256",tA="AWS4-HMAC-SHA256-PAYLOAD",rA="UNSIGNED-PAYLOAD",sA=50,hh="aws4_request",nA=60*60*24*7,Rn={},Pc=[],Oc=(e,t,r)=>`${e}/${t}/${r}/${hh}`,oA=async(e,t,r,s,n)=>{let o=await qT(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${s}:${n}:${Yr.toHex(o)}:${t.sessionToken}`;if(i in Rn)return Rn[i];for(Pc.push(i);Pc.length>sA;)delete Rn[Pc.shift()];let a=`AWS4${t.secretAccessKey}`;for(let u of[r,s,n,hh])a=await qT(e,a,u);return Rn[i]=a},lq=()=>{Pc.length=0,Object.keys(Rn).forEach(e=>{delete Rn[e]})},qT=(e,t,r)=>{let s=new e(t);return s.update(Gs.toUint8Array(r)),s.digest()},oh=({headers:e},t,r)=>{let s={};for(let n of Object.keys(e).sort()){if(e[n]==null)continue;let o=n.toLowerCase();(o in JT||t?.has(o)||ZT.test(o)||eA.test(o))&&(!r||r&&!r.has(o))||(s[o]=e[n].trim().replace(/\s+/g," "))}return s},Nc=async({headers:e,body:t},r)=>{for(let s of Object.keys(e))if(s.toLowerCase()===Mc)return e[s];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||oq.isArrayBuffer(t)){let s=new r;return s.update(Gs.toUint8Array(t)),Yr.toHex(await s.digest())}return rA},ih=class{format(t){let r=[];for(let o of Object.keys(t)){let i=Gs.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let s=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),n=0;for(let o of r)s.set(o,n),n+=o.byteLength;return s}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,t.value,!1),new Uint8Array(s.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(t.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=Gs.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);let l=new Uint8Array(u.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(ah.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!dq.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(Yr.fromHex(t.value.replace(/\-/g,"")),1),d}}},dq=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ah=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let s=7,n=Math.abs(Math.round(t));s>-1&&n>0;s--,n/=256)r[s]=n;return t<0&&jT(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&jT(t),parseInt(Yr.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function jT(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var iA=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},aA=(e,t={})=>{let{headers:r,query:s={}}=HT.HttpRequest.clone(e);for(let n of Object.keys(r)){let o=n.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(s[n]=r[n],delete r[n])}return{...e,headers:r,query:s}},ch=e=>{e=HT.HttpRequest.clone(e);for(let t of Object.keys(e.headers))WT.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},cA=({query:e={}})=>{let t=[],r={};for(let s of Object.keys(e)){if(s.toLowerCase()===YT)continue;let n=vc.escapeUri(s);t.push(n);let o=e[s];typeof o=="string"?r[n]=`${n}=${vc.escapeUri(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,a)=>i.concat([`${n}=${vc.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(s=>r[s]).filter(s=>s).join("&")},fq=e=>pq(e).toISOString().replace(/\.\d{3}Z$/,"Z"),pq=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Dc=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:s,service:n,sha256:o,uriEscapePath:i=!0}){this.service=n,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=BT.normalizeProvider(s),this.credentialProvider=BT.normalizeProvider(r)}createCanonicalRequest(t,r,s){let n=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${cA(t)}
${n.map(o=>`${o}:${r[o]}`).join(`
`)}

${n.join(";")}
${s}`}async createStringToSign(t,r,s,n){let o=new this.sha256;o.update(Gs.toUint8Array(s));let i=await o.digest();return`${n}
${t}
${r}
${Yr.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let s=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return vc.escapeUri(s).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=fq(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},uh=class extends Dc{headerFormatter=new ih;constructor({applyChecksum:t,credentials:r,region:s,service:n,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:s,service:n,sha256:o,uriEscapePath:i})}async presign(t,r={}){let{signingDate:s=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:u,signingRegion:l,signingService:f}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let g=l??await this.regionProvider(),{longDate:h,shortDate:y}=this.formatDate(s);if(n>nA)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let b=Oc(y,g,f??this.service),R=aA(ch(t),{unhoistableHeaders:i,hoistableHeaders:u});d.sessionToken&&(R.query[fh]=d.sessionToken),R.query[zT]=Ic,R.query[VT]=`${d.accessKeyId}/${b}`,R.query[lh]=h,R.query[KT]=n.toString(10);let P=oh(R,o,a);return R.query[QT]=this.getCanonicalHeaderList(P),R.query[dh]=await this.getSignature(h,b,this.getSigningKey(d,g,y,f),this.createCanonicalRequest(R,P,await Nc(t,this.sha256))),R}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:s=new Date,priorSignature:n,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:u,longDate:l}=this.formatDate(s),f=Oc(u,a,i??this.service),d=await Nc({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let h=Yr.toHex(await g.digest()),y=[tA,l,f,n,h,d].join(`
`);return this.signString(y,{signingDate:s,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:s,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:s,signingService:n,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:s,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=s??await this.regionProvider(),{shortDate:a}=this.formatDate(r),u=new this.sha256(await this.getSigningKey(o,i,a,n));return u.update(Gs.toUint8Array(t)),Yr.toHex(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:s,unsignableHeaders:n,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let u=o??await this.regionProvider(),l=ch(t),{longDate:f,shortDate:d}=this.formatDate(r),g=Oc(d,u,i??this.service);l.headers[mh]=f,a.sessionToken&&(l.headers[XT]=a.sessionToken);let h=await Nc(l,this.sha256);!iA(Mc,l.headers)&&this.applyChecksum&&(l.headers[Mc]=h);let y=oh(l,n,s),b=await this.getSignature(f,g,this.getSigningKey(a,u,d,i),this.createCanonicalRequest(l,y,h));return l.headers[ph]=`${Ic} Credential=${a.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${b}`,l}async getSignature(t,r,s,n){let o=await this.createStringToSign(t,r,n,Ic),i=new this.sha256(await s);return i.update(Gs.toUint8Array(o)),Yr.toHex(await i.digest())}getSigningKey(t,r,s,n){return oA(this.sha256,t,s,r,n||this.service)}},mq={SignatureV4a:null};X.ALGORITHM_IDENTIFIER=Ic;X.ALGORITHM_IDENTIFIER_V4A=uq;X.ALGORITHM_QUERY_PARAM=zT;X.ALWAYS_UNSIGNABLE_HEADERS=JT;X.AMZ_DATE_HEADER=mh;X.AMZ_DATE_QUERY_PARAM=lh;X.AUTH_HEADER=ph;X.CREDENTIAL_QUERY_PARAM=VT;X.DATE_HEADER=GT;X.EVENT_ALGORITHM_IDENTIFIER=tA;X.EXPIRES_QUERY_PARAM=KT;X.GENERATED_HEADERS=WT;X.HOST_HEADER=aq;X.KEY_TYPE_IDENTIFIER=hh;X.MAX_CACHE_SIZE=sA;X.MAX_PRESIGNED_TTL=nA;X.PROXY_HEADER_PATTERN=ZT;X.REGION_SET_PARAM=iq;X.SEC_HEADER_PATTERN=eA;X.SHA256_HEADER=Mc;X.SIGNATURE_HEADER=YT;X.SIGNATURE_QUERY_PARAM=dh;X.SIGNED_HEADERS_QUERY_PARAM=QT;X.SignatureV4=uh;X.SignatureV4Base=Dc;X.TOKEN_HEADER=XT;X.TOKEN_QUERY_PARAM=fh;X.UNSIGNABLE_PATTERNS=cq;X.UNSIGNED_PAYLOAD=rA;X.clearCredentialCache=lq;X.createScope=Oc;X.getCanonicalHeaders=oh;X.getCanonicalQuery=cA;X.getPayloadHash=Nc;X.getSigningKey=oA;X.hasHeader=iA;X.moveHeadersToQuery=aA;X.prepareRequest=ch;X.signatureV4aContainer=mq});function gq(e,{credentials:t,credentialDefaultProvider:r}){let s;return t?t?.memoized?s=t:s=Zo(t,Jo,bn):r?s=pt(r(Object.assign({},e,{parentClientConfig:e}))):s=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},s.memoized=!0,s}function yq(e,t){if(t.configBound)return t;let r=async s=>t({...s,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var gh,uA,hq,lA=S(()=>{c();Qm();He();gh=_(kc()),uA=e=>{let t=e.credentials,r=!!e.credentials,s;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==s&&(r=!0),t=l;let f=gq(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=yq(e,f);if(r&&!d.attributed){let g=typeof t=="object"&&t!==null;s=async h=>{let b=await d(h);return g&&(!b.$source||Object.keys(b.$source).length===0)?Vm(b,"CREDENTIALS_CODE","e"):b},s.memoized=d.memoized,s.configBound=d.configBound,s.attributed=!0}else s=d},get(){return s},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:n=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=pt(e.signer):e.regionInfoProvider?a=()=>pt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,f])=>{let{signingRegion:d,signingService:g}=l;e.signingRegion=e.signingRegion||d||f,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},y=e.signerConstructor||gh.SignatureV4;return new y(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await pt(e.region)(),properties:{}},l);let f=l.signingRegion,d=l.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||d||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},h=e.signerConstructor||gh.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:n,signer:a})},hq=uA});var dA=S(()=>{c();Xm();NT();$T();LT();lA()});var fA=S(()=>{c();dA();eh()});function Xr(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function $c(e){return e[yh]=!0,e}var yh,Lc=S(()=>{c();yh=Symbol("@smithy/core/cbor::tagSymbol")});function hA(e){ge=e,Rr=new DataView(ge.buffer,ge.byteOffset,ge.byteLength)}function or(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(ge[e]&224)>>5,s=ge[e]&31;switch(r){case 0:case 1:case 6:let n,o;if(s<24)n=s,o=1;else switch(s){case 24:case 25:case 26:case 27:let i=yA[s],a=i+1;if(o=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let u=e+1;i===1?n=ge[u]:i===2?n=Rr.getUint16(u):i===4?n=Rr.getUint32(u):n=Rr.getBigUint64(u);break;default:throw new Error(`unexpected minor value ${s}.`)}if(r===0)return Z=o,Sh(n);if(r===1){let i;return typeof n=="bigint"?i=BigInt(-1)-n:i=-1-n,Z=o,Sh(i)}else if(s===2||s===3){let i=ii(e+o,t),a=BigInt(0),u=e+o+Z;for(let l=u;l<u+i;++l)a=a<<BigInt(8)|BigInt(ge[l]);return Z=o+Z+i,s===3?-a-BigInt(1):a}else if(s===4){let i=or(e+o,t),[a,u]=i,l=u<0?-1:1,f="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(u)),d,g=u<0?"-":"";return d=a===0?f:f.slice(0,f.length+a)+"."+f.slice(a),d=d.replace(/^0+/g,""),d===""&&(d="0"),d[0]==="."&&(d="0"+d),d=g+d,Z=o+Z,lm(d)}else{let i=or(e+o,t);return Z=o+Z,$c({tag:Sh(n),value:i})}case 3:case 5:case 4:case 2:if(s===31)switch(r){case 3:return Aq(e,t);case 5:return Iq(e,t);case 4:return Cq(e,t);case 2:return xq(e,t)}else switch(r){case 3:return Tq(e,t);case 5:return vq(e,t);case 4:return Rq(e,t);case 2:return Ah(e,t)}default:return Pq(e,t)}}function gA(e,t,r){return wq&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):pA?pA.decode(e.subarray(t,r)):(0,mA.toUtf8)(e.subarray(t,r))}function _q(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function bq(e,t){let r=e>>7,s=(e&124)>>2,n=(e&3)<<8|t,o=r===0?1:-1,i,a;if(s===0){if(n===0)return 0;i=Math.pow(2,-14),a=0}else{if(s===31)return n===0?o*(1/0):NaN;i=Math.pow(2,s-15),a=1}return a+=n/1024,o*(i*a)}function ii(e,t){let r=ge[e]&31;if(r<24)return Z=1,r;if(r===24||r===25||r===26||r===27){let s=yA[r];if(Z=s+1,t-e<Z)throw new Error(`countLength ${s} greater than remaining buf len.`);let n=e+1;return s===1?ge[n]:s===2?Rr.getUint16(n):s===4?Rr.getUint32(n):_q(Rr.getBigUint64(n))}throw new Error(`unexpected minor value ${r}.`)}function Tq(e,t){let r=ii(e,t),s=Z;if(e+=s,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let n=gA(ge,e,e+r);return Z=s+r,n}function Aq(e,t){e+=1;let r=[];for(let s=e;e<t;){if(ge[e]===255){let u=Xr(r.length);return u.set(r,0),Z=e-s+2,gA(u,0,u.length)}let n=(ge[e]&224)>>5,o=ge[e]&31;if(n!==3)throw new Error(`unexpected major type ${n} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=Ah(e,t);e+=Z;for(let u=0;u<i.length;++u)r.push(i[u])}throw new Error("expected break marker.")}function Ah(e,t){let r=ii(e,t),s=Z;if(e+=s,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let n=ge.subarray(e,e+r);return Z=s+r,n}function xq(e,t){e+=1;let r=[];for(let s=e;e<t;){if(ge[e]===255){let u=Xr(r.length);return u.set(r,0),Z=e-s+2,u}let n=(ge[e]&224)>>5,o=ge[e]&31;if(n!==2)throw new Error(`unexpected major type ${n} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=Ah(e,t);e+=Z;for(let u=0;u<i.length;++u)r.push(i[u])}throw new Error("expected break marker.")}function Rq(e,t){let r=ii(e,t),s=Z;e+=s;let n=e,o=Array(r);for(let i=0;i<r;++i){let a=or(e,t),u=Z;o[i]=a,e+=u}return Z=s+(e-n),o}function Cq(e,t){e+=1;let r=[];for(let s=e;e<t;){if(ge[e]===255)return Z=e-s+2,r;let n=or(e,t);e+=Z,r.push(n)}throw new Error("expected break marker.")}function vq(e,t){let r=ii(e,t),s=Z;e+=s;let n=e,o={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(ge[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let u=or(e,t);e+=Z;let l=or(e,t);e+=Z,o[u]=l}return Z=s+(e-n),o}function Iq(e,t){e+=1;let r=e,s={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(ge[e]===255)return Z=e-r+2,s;let n=(ge[e]&224)>>5;if(n!==3)throw new Error(`unexpected major type ${n} for map key.`);let o=or(e,t);e+=Z;let i=or(e,t);e+=Z,s[o]=i}throw new Error("expected break marker.")}function Pq(e,t){let r=ge[e]&31;switch(r){case 21:case 20:return Z=1,r===21;case 22:return Z=1,null;case 23:return Z=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return Z=3,bq(ge[e+1],ge[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return Z=5,Rr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return Z=9,Rr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Sh(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var mA,Eq,wq,ge,Rr,pA,Z,yA,SA=S(()=>{c();ke();mA=_(Te());Lc();Eq=typeof TextDecoder<"u",wq=typeof Buffer<"u",ge=Xr(0),Rr=new DataView(ge.buffer,ge.byteOffset,ge.byteLength),pA=Eq?new TextDecoder:null,Z=0;yA={[24]:1,[25]:2,[26]:4,[27]:8}});function Rh(e){z.byteLength-F<e&&(F<16e6?Fc(Math.max(z.byteLength*4,z.byteLength+e)):Fc(z.byteLength+e+16e6))}function Ch(){let e=Xr(F);return e.set(z.subarray(0,F),0),F=0,e}function Fc(e){let t=z;z=Xr(e),t&&(t.copy?t.copy(z,0,0,t.byteLength):z.set(t,0)),Ir=new DataView(z.buffer,z.byteOffset,z.byteLength)}function vr(e,t){t<24?z[F++]=e<<5|t:t<256?(z[F++]=e<<5|24,z[F++]=t):t<65536?(z[F++]=e<<5|25,Ir.setUint16(F,t),F+=2):t<2**32?(z[F++]=e<<5|26,Ir.setUint32(F,t),F+=4):(z[F++]=e<<5|27,Ir.setBigUint64(F,typeof t=="bigint"?t:BigInt(t)),F+=8)}function _A(e){let t=[e];for(;t.length;){let r=t.pop();if(Rh(typeof r=="string"?r.length*4:64),typeof r=="string"){if(EA)vr(3,Buffer.byteLength(r)),F+=z.write(r,F);else{let s=(0,wA.fromUtf8)(r);vr(3,s.byteLength),z.set(s,F),F+=s.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let s=r>=0,n=s?0:1,o=s?r:-r-1;o<24?z[F++]=n<<5|o:o<256?(z[F++]=n<<5|24,z[F++]=o):o<65536?(z[F++]=n<<5|25,z[F++]=o>>8,z[F++]=o):o<4294967296?(z[F++]=n<<5|26,Ir.setUint32(F,o),F+=4):(z[F++]=n<<5|27,Ir.setBigUint64(F,BigInt(o)),F+=8);continue}z[F++]=251,Ir.setFloat64(F,r),F+=8;continue}else if(typeof r=="bigint"){let s=r>=0,n=s?0:1,o=s?r:-r-BigInt(1),i=Number(o);if(i<24)z[F++]=n<<5|i;else if(i<256)z[F++]=n<<5|24,z[F++]=i;else if(i<65536)z[F++]=n<<5|25,z[F++]=i>>8,z[F++]=i&255;else if(i<4294967296)z[F++]=n<<5|26,Ir.setUint32(F,i),F+=4;else if(o<BigInt("18446744073709551616"))z[F++]=n<<5|27,Ir.setBigUint64(F,o),F+=8;else{let a=o.toString(2),u=new Uint8Array(Math.ceil(a.length/8)),l=o,f=0;for(;u.byteLength-++f>=0;)u[u.byteLength-f]=Number(l&BigInt(255)),l>>=BigInt(8);Rh(u.byteLength*2),z[F++]=s?194:195,EA?vr(2,Buffer.byteLength(u)):vr(2,u.byteLength),z.set(u,F),F+=u.byteLength}continue}else if(r===null){z[F++]=246;continue}else if(typeof r=="boolean"){z[F++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let s=r.length-1;s>=0;--s)t.push(r[s]);vr(4,r.length);continue}else if(typeof r.byteLength=="number"){Rh(r.length*2),vr(2,r.length),z.set(r,F),F+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof G){let n=r.string.indexOf("."),o=n===-1?0:n-r.string.length+1,i=BigInt(r.string.replace(".",""));z[F++]=196,t.push(i),t.push(o),vr(4,2);continue}if(r[yh])if("tag"in r&&"value"in r){t.push(r.value),vr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let s=Object.keys(r);for(let n=s.length-1;n>=0;--n){let o=s[n];t.push(r[o]),t.push(o)}vr(5,s.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var wA,EA,Oq,z,Ir,F,bA=S(()=>{c();ke();wA=_(Te());Lc();EA=typeof Buffer<"u",Oq=2048,z=Xr(Oq),Ir=new DataView(z.buffer,z.byteOffset,z.byteLength),F=0});var vh,TA=S(()=>{c();SA();bA();vh={deserialize(e){return hA(e),or(0,e.length)},serialize(e){try{return _A(e),Ch()}catch(t){throw Ch(),t}},resizeEncodingBuffer(e){Fc(e)}}});var Bc,vn,qc=S(()=>{c();Lc();Bc=e=>$c({tag:1,value:e.getTime()/1e3}),vn=(e,t)=>{let r=n=>{let o=n;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(t.__type!==void 0)return r(t.__type);let s=Object.keys(t).find(n=>n.toLowerCase()==="code");if(s&&t[s]!==void 0)return r(t[s])}});var Oh,jc,Ih,Ph,Nh=S(()=>{c();Ie();K();ke();ke();Oh=_(_c());TA();qc();jc=class extends ft{createSerializer(){let t=new Ih;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ph;return t.setSerdeContext(this.serdeContext),t}},Ih=class extends ft{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let s=D.of(t);if(r==null)return s.isIdempotencyToken()?(0,je.v4)():r;if(s.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??Oh.fromBase64)(r):r;if(s.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?Bc(new Date(Number(r)/1e3|0)):Bc(r);if(typeof r=="function"||typeof r=="object"){let n=r;if(s.isListSchema()&&Array.isArray(n)){let i=!!s.getMergedTraits().sparse,a=[],u=0;for(let l of n){let f=this.serialize(s.getValueSchema(),l);(f!=null||i)&&(a[u++]=f)}return a}if(n instanceof Date)return Bc(n);let o={};if(s.isMapSchema()){let i=!!s.getMergedTraits().sparse;for(let a of Object.keys(n)){let u=this.serialize(s.getValueSchema(),n[a]);(u!=null||i)&&(o[a]=u)}}else if(s.isStructSchema()){for(let[a,u]of s.structIterator()){let l=this.serialize(u,n[a]);l!=null&&(o[a]=l)}if(s.isUnionSchema()&&Array.isArray(n.$unknown)){let[a,u]=n.$unknown;o[a]=u}else if(typeof n.__type=="string")for(let[a,u]of Object.entries(n))a in o||(o[a]=this.serialize(15,u))}else if(s.isDocumentSchema())for(let i of Object.keys(n))o[i]=this.serialize(s.getValueSchema(),n[i]);else if(s.isBigDecimalSchema())return n;return o}return r}flush(){let t=vh.serialize(this.value);return this.value=void 0,t}},Ph=class extends ft{read(t,r){let s=vh.deserialize(r);return this.readValue(t,s)}readValue(t,r){let s=D.of(t);if(s.isTimestampSchema()){if(typeof r=="number")return En(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return En(r.value)}if(s.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??Oh.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||s.isDocumentSchema())return r;if(s.isListSchema()){let o=[],i=s.getValueSchema(),a=!!s.getMergedTraits().sparse;for(let u of r){let l=this.readValue(i,u);(l!=null||a)&&o.push(l)}return o}let n={};if(s.isMapSchema()){let o=!!s.getMergedTraits().sparse,i=s.getValueSchema();for(let a of Object.keys(r)){let u=this.readValue(i,r[a]);(u!=null||o)&&(n[a]=u)}}else if(s.isStructSchema()){let o=s.isUnionSchema(),i;o&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,u]of s.structIterator())o&&i.delete(a),r[a]!=null&&(n[a]=this.readValue(u,r[a]));if(o&&i?.size===1&&Object.keys(n).length===0){let a=i.values().next().value;n.$unknown=[a,r[a]]}else if(typeof r.__type=="string")for(let[a,u]of Object.entries(r))a in n||(n[a]=u)}else if(r instanceof G)return r;return n}else return r}}});var AA,In,xA=S(()=>{c();Ie();K();AA=_(dt());Nh();qc();In=class extends At{codec=new jc;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);if(Object.assign(n.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),lt(t.input)==="unit")delete n.body,delete n.headers["content-type"];else{n.body||(this.serializer.write(15,{}),n.body=this.serializer.flush());try{n.headers["content-length"]=String(n.body.byteLength)}catch{}}let{service:o,operation:i}=(0,AA.getSmithyContext)(s),a=`/service/${o}/operation/${i}`;return n.path.endsWith("/")?n.path+=a.slice(1):n.path+=a,n}async deserializeResponse(t,r,s){return super.deserializeResponse(t,r,s)}async handleError(t,r,s,n,o){let i=vn(s,n)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let u={$metadata:o,$fault:s.statusCode<=500?"client":"server"},l=U.for(a),f;try{f=l.getSchema(i)}catch{n.Message&&(n.message=n.Message);let P=U.for("smithy.ts.sdk.synthetic."+a),N=P.getBaseException();if(N){let $=P.getErrorCtor(N);throw Object.assign(new $({name:i}),u,n)}throw Object.assign(new Error(i),u,n)}let d=D.of(f),g=l.getErrorCtor(f),h=n.message??n.Message??"Unknown",y=new g(h),b={};for(let[R,P]of d.structIterator())b[R]=this.deserializer.readValue(P,n[R]);throw Object.assign(y,u,{$fault:d.getMergedTraits().error,message:h},b)}getDefaultContentType(){return"application/cbor"}}});var Mh=S(()=>{c();qc();xA();Nh()});var Dh,It,Pn=S(()=>{c();K();Dh=_(H()),It=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let s=r.getMemberSchemas(),n=Object.values(s).find(o=>!!o.getMergedTraits().httpPayload);if(n){let o=n.getMergedTraits().mediaType;return o||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(s).find(i=>{let{httpQuery:a,httpQueryParams:u,httpHeader:l,httpLabel:f,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!u&&!l&&!f&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,s,n,o,i){let a=r,u=t;t.includes("#")&&([a,u]=t.split("#"));let l={$metadata:o,$fault:s.statusCode<500?"client":"server"},f=U.for(a);try{return{errorSchema:i?.(f,u)??f.getSchema(t),errorMetadata:l}}catch{n.message=n.message??n.Message??"UnknownError";let g=U.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let y=g.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new y({name:u}),l),n)}throw this.decorateServiceException(Object.assign(new Error(u),l),n)}}decorateServiceException(t,r={}){if(this.queryCompat){let s=t.Message??r.Message,n=(0,Dh.decorateServiceException)(t,r);s&&(n.message=s),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??s};let o=n.$metadata.requestId;return o&&(n.RequestId=o),n}return(0,Dh.decorateServiceException)(t,r)}setQueryCompatError(t,r){let s=r.headers?.["x-amzn-query-error"];if(t!==void 0&&s!=null){let[n,o]=s.split(";"),i=Object.entries(t),a={Code:n,Type:o};Object.assign(t,a);for(let[u,l]of i)a[u==="message"?"Message":u]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(n=>D.of(n).getMergedTraits().awsQueryError?.[0]===r)}}}});var Hc,RA=S(()=>{c();Mh();K();Pn();Hc=class extends In{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new It(this.awsQueryCompatible)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);return this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),n}async handleError(t,r,s,n,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,s);let i=(()=>{let y=s.headers["x-amzn-query-error"];return y&&this.awsQueryCompatible?y.split(";")[0]:vn(s,n)??"Unknown"})(),{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f),h={};for(let[y,b]of l.structIterator())n[y]!=null&&(h[y]=this.deserializer.readValue(b,n[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,h),this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}}});var CA,vA,IA,PA=S(()=>{c();CA=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},vA=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},IA=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Ze,ts=S(()=>{c();Ze=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var OA=v(zc=>{"use strict";c();Object.defineProperty(zc,"__esModule",{value:!0});zc.fromBase64=void 0;var Nq=Et(),Mq=/^[A-Za-z0-9+/]*={0,2}$/,Dq=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Mq.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Nq.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};zc.fromBase64=Dq});var NA=v(Vc=>{"use strict";c();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.toBase64=void 0;var kq=Et(),$q=Te(),Lq=e=>{let t;if(typeof e=="string"?t=(0,$q.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,kq.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Vc.toBase64=Lq});var On=v(ai=>{"use strict";c();var MA=OA(),DA=NA();Object.keys(MA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ai,e)&&Object.defineProperty(ai,e,{enumerable:!0,get:function(){return MA[e]}})});Object.keys(DA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ai,e)&&Object.defineProperty(ai,e,{enumerable:!0,get:function(){return DA[e]}})})});function*Nn(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let s=0;s<r[4].length;++s){let n=r[4][s],o=r[5][s],i=new D([o,0],n);!(n in t)&&!i.isIdempotencyToken()||(yield[n,i])}}function*kA(e,t,r){if(e.isUnitSchema())return;let s=e.getSchema(),n=Object.keys(t).filter(o=>o!=="__type").length;for(let o=0;o<s[4].length&&n!==0;++o){let i=s[4][o],a=s[5][o],u=new D([a,0],i),l=i;r&&(l=u.getMergedTraits()[r]??i),l in t&&(yield[i,u],n-=1)}}var ci=S(()=>{c();K()});var Mn,kh=S(()=>{c();Mn=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(s=>s!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function $A(e,t,r){if(r?.source){let s=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||s!==String(t)))return s.includes(".")?new G(s,"bigDecimal"):BigInt(s)}return t}var LA=S(()=>{c();ke()});var UA,FA,Qc,$h=S(()=>{c();UA=_(H()),FA=_(Te()),Qc=(e,t)=>(0,UA.collectBody)(e,t).then(r=>(t?.utf8Encoder??FA.toUtf8)(r))});var ui,BA,Dn,li=S(()=>{c();$h();ui=(e,t)=>Qc(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(s){throw s?.name==="SyntaxError"&&Object.defineProperty(s,"$responseBodyText",{value:r}),s}return{}}),BA=async(e,t)=>{let r=await ui(e,t);return r.message=r.message??r.Message,r},Dn=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),s=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return s(t[o]);if(t.__type!==void 0)return s(t.__type)}}});var qA,kn,Lh=S(()=>{c();Ie();K();ke();qA=_(On());ts();ci();kh();LA();li();kn=class extends Ze{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,$A):await ui(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let s=r!==null&&typeof r=="object",n=D.of(t);if(s){if(n.isStructSchema()){let i=r,a=n.isUnionSchema(),u={},l,{jsonName:f}=this.settings;f&&(l={});let d;a&&(d=new Mn(i,u));for(let[g,h]of kA(n,i,f?"jsonName":!1)){let y=g;f&&(y=h.getMergedTraits().jsonName??y,l[y]=g),a&&d.mark(y),i[y]!=null&&(u[g]=this._read(h,i[y]))}if(a)d.writeUnknown();else if(typeof i.__type=="string")for(let[g,h]of Object.entries(i)){let y=f?l[g]??g:g;y in u||(u[y]=h)}return u}if(Array.isArray(r)&&n.isListSchema()){let i=n.getValueSchema(),a=[],u=!!n.getMergedTraits().sparse;for(let l of r)(u||l!=null)&&a.push(this._read(i,l));return a}if(n.isMapSchema()){let i=n.getValueSchema(),a={},u=!!n.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(u||f!=null)&&(a[l]=this._read(i,f));return a}}if(n.isBlobSchema()&&typeof r=="string")return(0,qA.fromBase64)(r);let o=n.getMergedTraits().mediaType;if(n.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?Fe.from(r):r;if(n.isTimestampSchema()&&r!=null)switch($e(n,this.settings)){case 5:return Vo(r);case 6:return Qo(r);case 7:return Ko(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(n.isBigDecimalSchema()&&r!=null){if(r instanceof G)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new G(i.string,i.type):new G(String(r),"bigDecimal")}if(n.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(n.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof G?i[a]=u:i[a]=this._read(n,u);return i}else return structuredClone(r);return r}}});var jA,Kc,HA=S(()=>{c();ke();jA="\u039D",Kc=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof G){let s=`${jA+"nv"+this.counter++}_`+r.string;return this.values.set(`"${s}"`,r.string),s}if(typeof r=="bigint"){let s=r.toString(),n=`${jA+"b"+this.counter++}_`+s;return this.values.set(`"${n}"`,s),n}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,s]of this.values)t=t.replace(r,s);return t}}});var Uh,$n,Fh=S(()=>{c();Ie();K();ke();Uh=_(On());ts();ci();HA();$n=class extends Ze{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=D.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=D.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let s=new Kc;return s.replaceInJson(JSON.stringify(this.buffer,s.createReplacer(),0))}return this.buffer}_write(t,r,s){let n=r!==null&&typeof r=="object",o=D.of(t);if(n){if(o.isStructSchema()){let i=r,a={},{jsonName:u}=this.settings,l;u&&(l={});for(let[f,d]of Nn(o,i)){let g=this._write(d,i[f],o);if(g!==void 0){let h=f;u&&(h=d.getMergedTraits().jsonName??f,l[f]=h),a[h]=g}}if(o.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:f}=i;if(Array.isArray(f)){let[d,g]=f;a[d]=this._write(15,g)}}else if(typeof i.__type=="string")for(let[f,d]of Object.entries(i)){let g=u?l[f]??f:f;g in a||(a[g]=this._write(15,d))}return a}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],u=!!o.getMergedTraits().sparse;for(let l of r)(u||l!=null)&&a.push(this._write(i,l));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},u=!!o.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(u||f!=null)&&(a[l]=this._write(i,f));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Uh.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch($e(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Us(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof G&&(this.useReplacer=!0)}if(!(r===null&&s?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,je.v4)();let i=o.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?Fe.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Uh.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof G?(this.useReplacer=!0,i[a]=u):i[a]=this._write(o,u);return i}else return structuredClone(r);return r}}}});var rs,Gc=S(()=>{c();ts();Lh();Fh();rs=class extends Ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new $n(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new kn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var ss,Wc=S(()=>{c();Ie();K();Pn();Gc();li();ss=class extends At{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=n??new rs({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!s,this.mixin=new It(this.awsQueryCompatible)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);return n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),(lt(t.input)==="unit"||!n.body)&&(n.body="{}"),n}getPayloadCodec(){return this.codec}async handleError(t,r,s,n,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,s);let i=Dn(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f),h={};for(let[y,b]of l.structIterator())n[y]!=null&&(h[y]=this.codec.createDeserializer().readObject(b,n[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,h),this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}}});var Yc,zA=S(()=>{c();Wc();Yc=class extends ss{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Xc,VA=S(()=>{c();Wc();Xc=class extends ss{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Jc,QA=S(()=>{c();Ie();K();Pn();Gc();li();Jc=class extends Ht{serializer;deserializer;codec;mixin=new It;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new rs(r),this.serializer=new Vt(this.codec.createSerializer(),r),this.deserializer=new zt(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s),o=D.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(n.headers["content-type"]=i)}return n.body==null&&n.headers["content-type"]===this.getDefaultContentType()&&(n.body="{}"),n}async deserializeResponse(t,r,s){let n=await super.deserializeResponse(t,r,s),o=D.of(t.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in n)&&(n[i]=null);return n}async handleError(t,r,s,n,o){let i=Dn(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f);await this.deserializeHttpMessage(a,r,s,n);let h={};for(let[y,b]of l.structIterator()){let R=b.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(b,n[R])}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}getDefaultContentType(){return"application/json"}}});var KA,GA,WA=S(()=>{c();KA=_(H()),GA=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,KA.expectUnion)(e)}});var Bh=v((Mre,YA)=>{c();(()=>{"use strict";var e={d:(p,m)=>{for(var E in m)e.o(m,E)&&!e.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:m[E]})},o:(p,m)=>Object.prototype.hasOwnProperty.call(p,m),r:p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Br,XMLParser:()=>S$,XMLValidator:()=>R$});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function n(p,m){let E=[],A=m.exec(p);for(;A;){let w=[];w.startIndex=m.lastIndex-A[0].length;let T=A.length;for(let O=0;O<T;O++)w.push(A[O]);E.push(w),A=m.exec(p)}return E}let o=function(p){return s.exec(p)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(p,m){m=Object.assign({},i,m);let E=[],A=!1,w=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let T=0;T<p.length;T++)if(p[T]==="<"&&p[T+1]==="?"){if(T+=2,T=l(p,T),T.err)return T}else{if(p[T]!=="<"){if(u(p[T]))continue;return P("InvalidChar","char '"+p[T]+"' is not expected.",$(p,T))}{let O=T;if(T++,p[T]==="!"){T=f(p,T);continue}{let I=!1;p[T]==="/"&&(I=!0,T++);let M="";for(;T<p.length&&p[T]!==">"&&p[T]!==" "&&p[T]!=="	"&&p[T]!==`
`&&p[T]!=="\r";T++)M+=p[T];if(M=M.trim(),M[M.length-1]==="/"&&(M=M.substring(0,M.length-1),T--),!o(M)){let B;return B=M.trim().length===0?"Invalid space after '<'.":"Tag '"+M+"' is an invalid name.",P("InvalidTag",B,$(p,T))}let k=h(p,T);if(k===!1)return P("InvalidAttr","Attributes for '"+M+"' have open quote.",$(p,T));let V=k.value;if(T=k.index,V[V.length-1]==="/"){let B=T-V.length;V=V.substring(0,V.length-1);let oe=b(V,m);if(oe!==!0)return P(oe.err.code,oe.err.msg,$(p,B+oe.err.line));A=!0}else if(I){if(!k.tagClosed)return P("InvalidTag","Closing tag '"+M+"' doesn't have proper closing.",$(p,T));if(V.trim().length>0)return P("InvalidTag","Closing tag '"+M+"' can't have attributes or invalid starting.",$(p,O));if(E.length===0)return P("InvalidTag","Closing tag '"+M+"' has not been opened.",$(p,O));{let B=E.pop();if(M!==B.tagName){let oe=$(p,B.tagStartPos);return P("InvalidTag","Expected closing tag '"+B.tagName+"' (opened in line "+oe.line+", col "+oe.col+") instead of closing tag '"+M+"'.",$(p,O))}E.length==0&&(w=!0)}}else{let B=b(V,m);if(B!==!0)return P(B.err.code,B.err.msg,$(p,T-V.length+B.err.line));if(w===!0)return P("InvalidXml","Multiple possible root nodes found.",$(p,T));m.unpairedTags.indexOf(M)!==-1||E.push({tagName:M,tagStartPos:O}),A=!0}for(T++;T<p.length;T++)if(p[T]==="<"){if(p[T+1]==="!"){T++,T=f(p,T);continue}if(p[T+1]!=="?")break;if(T=l(p,++T),T.err)return T}else if(p[T]==="&"){let B=R(p,T);if(B==-1)return P("InvalidChar","char '&' is not expected.",$(p,T));T=B}else if(w===!0&&!u(p[T]))return P("InvalidXml","Extra text at the end",$(p,T));p[T]==="<"&&T--}}}return A?E.length==1?P("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",$(p,E[0].tagStartPos)):!(E.length>0)||P("InvalidXml","Invalid '"+JSON.stringify(E.map(T=>T.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):P("InvalidXml","Start tag expected.",1)}function u(p){return p===" "||p==="	"||p===`
`||p==="\r"}function l(p,m){let E=m;for(;m<p.length;m++)if(!(p[m]!="?"&&p[m]!=" ")){let A=p.substr(E,m-E);if(m>5&&A==="xml")return P("InvalidXml","XML declaration allowed only at the start of the document.",$(p,m));if(p[m]=="?"&&p[m+1]==">"){m++;break}}return m}function f(p,m){if(p.length>m+5&&p[m+1]==="-"&&p[m+2]==="-"){for(m+=3;m<p.length;m++)if(p[m]==="-"&&p[m+1]==="-"&&p[m+2]===">"){m+=2;break}}else if(p.length>m+8&&p[m+1]==="D"&&p[m+2]==="O"&&p[m+3]==="C"&&p[m+4]==="T"&&p[m+5]==="Y"&&p[m+6]==="P"&&p[m+7]==="E"){let E=1;for(m+=8;m<p.length;m++)if(p[m]==="<")E++;else if(p[m]===">"&&(E--,E===0))break}else if(p.length>m+9&&p[m+1]==="["&&p[m+2]==="C"&&p[m+3]==="D"&&p[m+4]==="A"&&p[m+5]==="T"&&p[m+6]==="A"&&p[m+7]==="["){for(m+=8;m<p.length;m++)if(p[m]==="]"&&p[m+1]==="]"&&p[m+2]===">"){m+=2;break}}return m}let d='"',g="'";function h(p,m){let E="",A="",w=!1;for(;m<p.length;m++){if(p[m]===d||p[m]===g)A===""?A=p[m]:A!==p[m]||(A="");else if(p[m]===">"&&A===""){w=!0;break}E+=p[m]}return A===""&&{value:E,index:m,tagClosed:w}}let y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function b(p,m){let E=n(p,y),A={};for(let w=0;w<E.length;w++){if(E[w][1].length===0)return P("InvalidAttr","Attribute '"+E[w][2]+"' has no space in starting.",L(E[w]));if(E[w][3]!==void 0&&E[w][4]===void 0)return P("InvalidAttr","Attribute '"+E[w][2]+"' is without value.",L(E[w]));if(E[w][3]===void 0&&!m.allowBooleanAttributes)return P("InvalidAttr","boolean attribute '"+E[w][2]+"' is not allowed.",L(E[w]));let T=E[w][2];if(!N(T))return P("InvalidAttr","Attribute '"+T+"' is an invalid name.",L(E[w]));if(A.hasOwnProperty(T))return P("InvalidAttr","Attribute '"+T+"' is repeated.",L(E[w]));A[T]=1}return!0}function R(p,m){if(p[++m]===";")return-1;if(p[m]==="#")return function(A,w){let T=/\d/;for(A[w]==="x"&&(w++,T=/[\da-fA-F]/);w<A.length;w++){if(A[w]===";")return w;if(!A[w].match(T))break}return-1}(p,++m);let E=0;for(;m<p.length;m++,E++)if(!(p[m].match(/\w/)&&E<20)){if(p[m]===";")break;return-1}return m}function P(p,m,E){return{err:{code:p,msg:m,line:E.line||E,col:E.col}}}function N(p){return o(p)}function $(p,m){let E=p.substring(0,m).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function L(p){return p.startIndex+p[1].length}let q={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(p,m){return m},attributeValueProcessor:function(p,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(p,m,E){return p},captureMetaData:!1},ee;ee=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Ae{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,E){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:E})}addChild(m,E){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),E!==void 0&&(this.child[this.child.length-1][ee]={startIndex:E})}static getMetaDataSymbol(){return ee}}function Q(p,m){let E={};if(p[m+3]!=="O"||p[m+4]!=="C"||p[m+5]!=="T"||p[m+6]!=="Y"||p[m+7]!=="P"||p[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let A=1,w=!1,T=!1,O="";for(;m<p.length;m++)if(p[m]!=="<"||T)if(p[m]===">"){if(T?p[m-1]==="-"&&p[m-2]==="-"&&(T=!1,A--):A--,A===0)break}else p[m]==="["?w=!0:O+=p[m];else{if(w&&Ms(p,"!ENTITY",m)){let I,M;m+=7,[I,M,m]=Ee(p,m+1),M.indexOf("&")===-1&&(E[I]={regx:RegExp(`&${I};`,"g"),val:M})}else if(w&&Ms(p,"!ELEMENT",m)){m+=8;let{index:I}=X1(p,m+1);m=I}else if(w&&Ms(p,"!ATTLIST",m))m+=8;else if(w&&Ms(p,"!NOTATION",m)){m+=9;let{index:I}=Ve(p,m+1);m=I}else{if(!Ms(p,"!--",m))throw new Error("Invalid DOCTYPE");T=!0}A++,O=""}if(A!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:m}}let ne=(p,m)=>{for(;m<p.length&&/\s/.test(p[m]);)m++;return m};function Ee(p,m){m=ne(p,m);let E="";for(;m<p.length&&!/\s/.test(p[m])&&p[m]!=='"'&&p[m]!=="'";)E+=p[m],m++;if(Vf(E),m=ne(p,m),p.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(p[m]==="%")throw new Error("Parameter entities are not supported");let A="";return[m,A]=St(p,m,"entity"),[E,A,--m]}function Ve(p,m){m=ne(p,m);let E="";for(;m<p.length&&!/\s/.test(p[m]);)E+=p[m],m++;Vf(E),m=ne(p,m);let A=p.substring(m,m+6).toUpperCase();if(A!=="SYSTEM"&&A!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${A}"`);m+=A.length,m=ne(p,m);let w=null,T=null;if(A==="PUBLIC")[m,w]=St(p,m,"publicIdentifier"),p[m=ne(p,m)]!=='"'&&p[m]!=="'"||([m,T]=St(p,m,"systemIdentifier"));else if(A==="SYSTEM"&&([m,T]=St(p,m,"systemIdentifier"),!T))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:E,publicIdentifier:w,systemIdentifier:T,index:--m}}function St(p,m,E){let A="",w=p[m];if(w!=='"'&&w!=="'")throw new Error(`Expected quoted string, found "${w}"`);for(m++;m<p.length&&p[m]!==w;)A+=p[m],m++;if(p[m]!==w)throw new Error(`Unterminated ${E} value`);return[++m,A]}function X1(p,m){m=ne(p,m);let E="";for(;m<p.length&&!/\s/.test(p[m]);)E+=p[m],m++;if(!Vf(E))throw new Error(`Invalid element name: "${E}"`);let A="";if(p[m=ne(p,m)]==="E"&&Ms(p,"MPTY",m))m+=4;else if(p[m]==="A"&&Ms(p,"NY",m))m+=2;else{if(p[m]!=="(")throw new Error(`Invalid Element Expression, found "${p[m]}"`);for(m++;m<p.length&&p[m]!==")";)A+=p[m],m++;if(p[m]!==")")throw new Error("Unterminated content model")}return{elementName:E,contentModel:A.trim(),index:m}}function Ms(p,m,E){for(let A=0;A<m.length;A++)if(m[A]!==p[E+A+1])return!1;return!0}function Vf(p){if(o(p))return p;throw new Error(`Invalid entity name ${p}`)}let J1=/^[-+]?0x[a-fA-F0-9]+$/,Z1=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,e$={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},t$=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function VS(p){return typeof p=="function"?p:Array.isArray(p)?m=>{for(let E of p)if(typeof E=="string"&&m===E||E instanceof RegExp&&E.test(m))return!0}:()=>!1}class r${constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(E,A)=>String.fromCodePoint(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(E,A)=>String.fromCodePoint(Number.parseInt(A,16))}},this.addExternalEntities=s$,this.parseXml=c$,this.parseTextData=n$,this.resolveNameSpace=o$,this.buildAttributesMap=a$,this.isItStopNode=f$,this.replaceEntitiesValue=l$,this.readStopNodeData=p$,this.saveTextToParentTag=d$,this.addChild=u$,this.ignoreAttributesFn=VS(this.options.ignoreAttributes)}}function s$(p){let m=Object.keys(p);for(let E=0;E<m.length;E++){let A=m[E];this.lastEntities[A]={regex:new RegExp("&"+A+";","g"),val:p[A]}}}function n$(p,m,E,A,w,T,O){if(p!==void 0&&(this.options.trimValues&&!A&&(p=p.trim()),p.length>0)){O||(p=this.replaceEntitiesValue(p));let I=this.options.tagValueProcessor(m,p,E,w,T);return I==null?p:typeof I!=typeof p||I!==p?I:this.options.trimValues||p.trim()===p?QS(p,this.options.parseTagValue,this.options.numberParseOptions):p}}function o$(p){if(this.options.removeNSPrefix){let m=p.split(":"),E=p.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(p=E+m[1])}return p}let i$=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function a$(p,m,E){if(this.options.ignoreAttributes!==!0&&typeof p=="string"){let A=n(p,i$),w=A.length,T={};for(let O=0;O<w;O++){let I=this.resolveNameSpace(A[O][1]);if(this.ignoreAttributesFn(I,m))continue;let M=A[O][4],k=this.options.attributeNamePrefix+I;if(I.length)if(this.options.transformAttributeName&&(k=this.options.transformAttributeName(k)),k==="__proto__"&&(k="#__proto__"),M!==void 0){this.options.trimValues&&(M=M.trim()),M=this.replaceEntitiesValue(M);let V=this.options.attributeValueProcessor(I,M,m);T[k]=V==null?M:typeof V!=typeof M||V!==M?V:QS(M,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(T[k]=!0)}if(!Object.keys(T).length)return;if(this.options.attributesGroupName){let O={};return O[this.options.attributesGroupName]=T,O}return T}}let c$=function(p){p=p.replace(/\r\n?/g,`
`);let m=new Ae("!xml"),E=m,A="",w="";for(let T=0;T<p.length;T++)if(p[T]==="<")if(p[T+1]==="/"){let O=Ds(p,">",T,"Closing Tag is not closed."),I=p.substring(T+2,O).trim();if(this.options.removeNSPrefix){let V=I.indexOf(":");V!==-1&&(I=I.substr(V+1))}this.options.transformTagName&&(I=this.options.transformTagName(I)),E&&(A=this.saveTextToParentTag(A,E,w));let M=w.substring(w.lastIndexOf(".")+1);if(I&&this.options.unpairedTags.indexOf(I)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${I}>`);let k=0;M&&this.options.unpairedTags.indexOf(M)!==-1?(k=w.lastIndexOf(".",w.lastIndexOf(".")-1),this.tagsNodeStack.pop()):k=w.lastIndexOf("."),w=w.substring(0,k),E=this.tagsNodeStack.pop(),A="",T=O}else if(p[T+1]==="?"){let O=Qf(p,T,!1,"?>");if(!O)throw new Error("Pi Tag is not closed.");if(A=this.saveTextToParentTag(A,E,w),!(this.options.ignoreDeclaration&&O.tagName==="?xml"||this.options.ignorePiTags)){let I=new Ae(O.tagName);I.add(this.options.textNodeName,""),O.tagName!==O.tagExp&&O.attrExpPresent&&(I[":@"]=this.buildAttributesMap(O.tagExp,w,O.tagName)),this.addChild(E,I,w,T)}T=O.closeIndex+1}else if(p.substr(T+1,3)==="!--"){let O=Ds(p,"-->",T+4,"Comment is not closed.");if(this.options.commentPropName){let I=p.substring(T+4,O-2);A=this.saveTextToParentTag(A,E,w),E.add(this.options.commentPropName,[{[this.options.textNodeName]:I}])}T=O}else if(p.substr(T+1,2)==="!D"){let O=Q(p,T);this.docTypeEntities=O.entities,T=O.i}else if(p.substr(T+1,2)==="!["){let O=Ds(p,"]]>",T,"CDATA is not closed.")-2,I=p.substring(T+9,O);A=this.saveTextToParentTag(A,E,w);let M=this.parseTextData(I,E.tagname,w,!0,!1,!0,!0);M==null&&(M=""),this.options.cdataPropName?E.add(this.options.cdataPropName,[{[this.options.textNodeName]:I}]):E.add(this.options.textNodeName,M),T=O+2}else{let O=Qf(p,T,this.options.removeNSPrefix),I=O.tagName,M=O.rawTagName,k=O.tagExp,V=O.attrExpPresent,B=O.closeIndex;this.options.transformTagName&&(I=this.options.transformTagName(I)),E&&A&&E.tagname!=="!xml"&&(A=this.saveTextToParentTag(A,E,w,!1));let oe=E;oe&&this.options.unpairedTags.indexOf(oe.tagname)!==-1&&(E=this.tagsNodeStack.pop(),w=w.substring(0,w.lastIndexOf("."))),I!==m.tagname&&(w+=w?"."+I:I);let me=T;if(this.isItStopNode(this.options.stopNodes,w,I)){let ie="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)I[I.length-1]==="/"?(I=I.substr(0,I.length-1),w=w.substr(0,w.length-1),k=I):k=k.substr(0,k.length-1),T=O.closeIndex;else if(this.options.unpairedTags.indexOf(I)!==-1)T=O.closeIndex;else{let rr=this.readStopNodeData(p,M,B+1);if(!rr)throw new Error(`Unexpected end of ${M}`);T=rr.i,ie=rr.tagContent}let Ue=new Ae(I);I!==k&&V&&(Ue[":@"]=this.buildAttributesMap(k,w,I)),ie&&(ie=this.parseTextData(ie,I,w,!0,V,!0,!0)),w=w.substr(0,w.lastIndexOf(".")),Ue.add(this.options.textNodeName,ie),this.addChild(E,Ue,w,me)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){I[I.length-1]==="/"?(I=I.substr(0,I.length-1),w=w.substr(0,w.length-1),k=I):k=k.substr(0,k.length-1),this.options.transformTagName&&(I=this.options.transformTagName(I));let ie=new Ae(I);I!==k&&V&&(ie[":@"]=this.buildAttributesMap(k,w,I)),this.addChild(E,ie,w,me),w=w.substr(0,w.lastIndexOf("."))}else{let ie=new Ae(I);this.tagsNodeStack.push(E),I!==k&&V&&(ie[":@"]=this.buildAttributesMap(k,w,I)),this.addChild(E,ie,w,me),E=ie}A="",T=B}}else A+=p[T];return m.child};function u$(p,m,E,A){this.options.captureMetaData||(A=void 0);let w=this.options.updateTag(m.tagname,E,m[":@"]);w===!1||(typeof w=="string"&&(m.tagname=w),p.addChild(m,A))}let l$=function(p){if(this.options.processEntities){for(let m in this.docTypeEntities){let E=this.docTypeEntities[m];p=p.replace(E.regx,E.val)}for(let m in this.lastEntities){let E=this.lastEntities[m];p=p.replace(E.regex,E.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let E=this.htmlEntities[m];p=p.replace(E.regex,E.val)}p=p.replace(this.ampEntity.regex,this.ampEntity.val)}return p};function d$(p,m,E,A){return p&&(A===void 0&&(A=m.child.length===0),(p=this.parseTextData(p,m.tagname,E,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,A))!==void 0&&p!==""&&m.add(this.options.textNodeName,p),p=""),p}function f$(p,m,E){let A="*."+E;for(let w in p){let T=p[w];if(A===T||m===T)return!0}return!1}function Ds(p,m,E,A){let w=p.indexOf(m,E);if(w===-1)throw new Error(A);return w+m.length-1}function Qf(p,m,E,A=">"){let w=function(B,oe,me=">"){let ie,Ue="";for(let rr=oe;rr<B.length;rr++){let qr=B[rr];if(ie)qr===ie&&(ie="");else if(qr==='"'||qr==="'")ie=qr;else if(qr===me[0]){if(!me[1])return{data:Ue,index:rr};if(B[rr+1]===me[1])return{data:Ue,index:rr}}else qr==="	"&&(qr=" ");Ue+=qr}}(p,m+1,A);if(!w)return;let T=w.data,O=w.index,I=T.search(/\s/),M=T,k=!0;I!==-1&&(M=T.substring(0,I),T=T.substring(I+1).trimStart());let V=M;if(E){let B=M.indexOf(":");B!==-1&&(M=M.substr(B+1),k=M!==w.data.substr(B+1))}return{tagName:M,tagExp:T,closeIndex:O,attrExpPresent:k,rawTagName:V}}function p$(p,m,E){let A=E,w=1;for(;E<p.length;E++)if(p[E]==="<")if(p[E+1]==="/"){let T=Ds(p,">",E,`${m} is not closed`);if(p.substring(E+2,T).trim()===m&&(w--,w===0))return{tagContent:p.substring(A,E),i:T};E=T}else if(p[E+1]==="?")E=Ds(p,"?>",E+1,"StopNode is not closed.");else if(p.substr(E+1,3)==="!--")E=Ds(p,"-->",E+3,"StopNode is not closed.");else if(p.substr(E+1,2)==="![")E=Ds(p,"]]>",E,"StopNode is not closed.")-2;else{let T=Qf(p,E,">");T&&((T&&T.tagName)===m&&T.tagExp[T.tagExp.length-1]!=="/"&&w++,E=T.closeIndex)}}function QS(p,m,E){if(m&&typeof p=="string"){let A=p.trim();return A==="true"||A!=="false"&&function(w,T={}){if(T=Object.assign({},e$,T),!w||typeof w!="string")return w;let O=w.trim();if(T.skipLike!==void 0&&T.skipLike.test(O))return w;if(w==="0")return 0;if(T.hex&&J1.test(O))return function(M){if(parseInt)return parseInt(M,16);if(Number.parseInt)return Number.parseInt(M,16);if(window&&window.parseInt)return window.parseInt(M,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(O);if(O.search(/.+[eE].+/)!==-1)return function(M,k,V){if(!V.eNotation)return M;let B=k.match(t$);if(B){let oe=B[1]||"",me=B[3].indexOf("e")===-1?"E":"e",ie=B[2],Ue=oe?M[ie.length+1]===me:M[ie.length]===me;return ie.length>1&&Ue?M:ie.length!==1||!B[3].startsWith(`.${me}`)&&B[3][0]!==me?V.leadingZeros&&!Ue?(k=(B[1]||"")+B[3],Number(k)):M:Number(k)}return M}(w,O,T);{let M=Z1.exec(O);if(M){let k=M[1]||"",V=M[2],B=((I=M[3])&&I.indexOf(".")!==-1&&((I=I.replace(/0+$/,""))==="."?I="0":I[0]==="."?I="0"+I:I[I.length-1]==="."&&(I=I.substring(0,I.length-1))),I),oe=k?w[V.length+1]===".":w[V.length]===".";if(!T.leadingZeros&&(V.length>1||V.length===1&&!oe))return w;{let me=Number(O),ie=String(me);if(me===0||me===-0)return me;if(ie.search(/[eE]/)!==-1)return T.eNotation?me:w;if(O.indexOf(".")!==-1)return ie==="0"||ie===B||ie===`${k}${B}`?me:w;let Ue=V?B:O;return V?Ue===ie||k+Ue===ie?me:w:Ue===ie||Ue===k+ie?me:w}}return w}var I}(p,E)}return p!==void 0?p:""}let Kf=Ae.getMetaDataSymbol();function m$(p,m){return KS(p,m)}function KS(p,m,E){let A,w={};for(let T=0;T<p.length;T++){let O=p[T],I=h$(O),M="";if(M=E===void 0?I:E+"."+I,I===m.textNodeName)A===void 0?A=O[I]:A+=""+O[I];else{if(I===void 0)continue;if(O[I]){let k=KS(O[I],m,M),V=y$(k,m);O[Kf]!==void 0&&(k[Kf]=O[Kf]),O[":@"]?g$(k,O[":@"],M,m):Object.keys(k).length!==1||k[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(k).length===0&&(m.alwaysCreateTextNode?k[m.textNodeName]="":k=""):k=k[m.textNodeName],w[I]!==void 0&&w.hasOwnProperty(I)?(Array.isArray(w[I])||(w[I]=[w[I]]),w[I].push(k)):m.isArray(I,M,V)?w[I]=[k]:w[I]=k}}}return typeof A=="string"?A.length>0&&(w[m.textNodeName]=A):A!==void 0&&(w[m.textNodeName]=A),w}function h$(p){let m=Object.keys(p);for(let E=0;E<m.length;E++){let A=m[E];if(A!==":@")return A}}function g$(p,m,E,A){if(m){let w=Object.keys(m),T=w.length;for(let O=0;O<T;O++){let I=w[O];A.isArray(I,E+"."+I,!0,!0)?p[I]=[m[I]]:p[I]=m[I]}}}function y$(p,m){let{textNodeName:E}=m,A=Object.keys(p).length;return A===0||!(A!==1||!p[E]&&typeof p[E]!="boolean"&&p[E]!==0)}class S${constructor(m){this.externalEntities={},this.options=function(E){return Object.assign({},q,E)}(m)}parse(m,E){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(E){E===!0&&(E={});let T=a(m,E);if(T!==!0)throw Error(`${T.err.msg}:${T.err.line}:${T.err.col}`)}let A=new r$(this.options);A.addExternalEntities(this.externalEntities);let w=A.parseXml(m);return this.options.preserveOrder||w===void 0?w:m$(w,this.options)}addEntity(m,E){if(E.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(E==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=E}static getMetaDataSymbol(){return Ae.getMetaDataSymbol()}}function E$(p,m){let E="";return m.format&&m.indentBy.length>0&&(E=`
`),GS(p,m,"",E)}function GS(p,m,E,A){let w="",T=!1;for(let O=0;O<p.length;O++){let I=p[O],M=w$(I);if(M===void 0)continue;let k="";if(k=E.length===0?M:`${E}.${M}`,M===m.textNodeName){let me=I[M];_$(k,m)||(me=m.tagValueProcessor(M,me),me=YS(me,m)),T&&(w+=A),w+=me,T=!1;continue}if(M===m.cdataPropName){T&&(w+=A),w+=`<![CDATA[${I[M][0][m.textNodeName]}]]>`,T=!1;continue}if(M===m.commentPropName){w+=A+`<!--${I[M][0][m.textNodeName]}-->`,T=!0;continue}if(M[0]==="?"){let me=WS(I[":@"],m),ie=M==="?xml"?"":A,Ue=I[M][0][m.textNodeName];Ue=Ue.length!==0?" "+Ue:"",w+=ie+`<${M}${Ue}${me}?>`,T=!0;continue}let V=A;V!==""&&(V+=m.indentBy);let B=A+`<${M}${WS(I[":@"],m)}`,oe=GS(I[M],m,k,V);m.unpairedTags.indexOf(M)!==-1?m.suppressUnpairedNode?w+=B+">":w+=B+"/>":oe&&oe.length!==0||!m.suppressEmptyNode?oe&&oe.endsWith(">")?w+=B+`>${oe}${A}</${M}>`:(w+=B+">",oe&&A!==""&&(oe.includes("/>")||oe.includes("</"))?w+=A+m.indentBy+oe+A:w+=oe,w+=`</${M}>`):w+=B+"/>",T=!0}return w}function w$(p){let m=Object.keys(p);for(let E=0;E<m.length;E++){let A=m[E];if(p.hasOwnProperty(A)&&A!==":@")return A}}function WS(p,m){let E="";if(p&&!m.ignoreAttributes)for(let A in p){if(!p.hasOwnProperty(A))continue;let w=m.attributeValueProcessor(A,p[A]);w=YS(w,m),w===!0&&m.suppressBooleanAttributes?E+=` ${A.substr(m.attributeNamePrefix.length)}`:E+=` ${A.substr(m.attributeNamePrefix.length)}="${w}"`}return E}function _$(p,m){let E=(p=p.substr(0,p.length-m.textNodeName.length-1)).substr(p.lastIndexOf(".")+1);for(let A in m.stopNodes)if(m.stopNodes[A]===p||m.stopNodes[A]==="*."+E)return!0;return!1}function YS(p,m){if(p&&p.length>0&&m.processEntities)for(let E=0;E<m.entities.length;E++){let A=m.entities[E];p=p.replace(A.regex,A.val)}return p}let b$={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(p,m){return m},attributeValueProcessor:function(p,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Br(p){this.options=Object.assign({},b$,p),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=VS(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=x$),this.processTextOrObjNode=T$,this.options.format?(this.indentate=A$,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function T$(p,m,E,A){let w=this.j2x(p,E+1,A.concat(m));return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextValNode(p[this.options.textNodeName],m,w.attrStr,E):this.buildObjectNode(w.val,m,w.attrStr,E)}function A$(p){return this.options.indentBy.repeat(p)}function x$(p){return!(!p.startsWith(this.options.attributeNamePrefix)||p===this.options.textNodeName)&&p.substr(this.attrPrefixLen)}Br.prototype.build=function(p){return this.options.preserveOrder?E$(p,this.options):(Array.isArray(p)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(p={[this.options.arrayNodeName]:p}),this.j2x(p,0,[]).val)},Br.prototype.j2x=function(p,m,E){let A="",w="",T=E.join(".");for(let O in p)if(Object.prototype.hasOwnProperty.call(p,O))if(p[O]===void 0)this.isAttribute(O)&&(w+="");else if(p[O]===null)this.isAttribute(O)||O===this.options.cdataPropName?w+="":O[0]==="?"?w+=this.indentate(m)+"<"+O+"?"+this.tagEndChar:w+=this.indentate(m)+"<"+O+"/"+this.tagEndChar;else if(p[O]instanceof Date)w+=this.buildTextValNode(p[O],O,"",m);else if(typeof p[O]!="object"){let I=this.isAttribute(O);if(I&&!this.ignoreAttributesFn(I,T))A+=this.buildAttrPairStr(I,""+p[O]);else if(!I)if(O===this.options.textNodeName){let M=this.options.tagValueProcessor(O,""+p[O]);w+=this.replaceEntitiesValue(M)}else w+=this.buildTextValNode(p[O],O,"",m)}else if(Array.isArray(p[O])){let I=p[O].length,M="",k="";for(let V=0;V<I;V++){let B=p[O][V];if(B!==void 0)if(B===null)O[0]==="?"?w+=this.indentate(m)+"<"+O+"?"+this.tagEndChar:w+=this.indentate(m)+"<"+O+"/"+this.tagEndChar;else if(typeof B=="object")if(this.options.oneListGroup){let oe=this.j2x(B,m+1,E.concat(O));M+=oe.val,this.options.attributesGroupName&&B.hasOwnProperty(this.options.attributesGroupName)&&(k+=oe.attrStr)}else M+=this.processTextOrObjNode(B,O,m,E);else if(this.options.oneListGroup){let oe=this.options.tagValueProcessor(O,B);oe=this.replaceEntitiesValue(oe),M+=oe}else M+=this.buildTextValNode(B,O,"",m)}this.options.oneListGroup&&(M=this.buildObjectNode(M,O,k,m)),w+=M}else if(this.options.attributesGroupName&&O===this.options.attributesGroupName){let I=Object.keys(p[O]),M=I.length;for(let k=0;k<M;k++)A+=this.buildAttrPairStr(I[k],""+p[O][I[k]])}else w+=this.processTextOrObjNode(p[O],O,m,E);return{attrStr:A,val:w}},Br.prototype.buildAttrPairStr=function(p,m){return m=this.options.attributeValueProcessor(p,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+p:" "+p+'="'+m+'"'},Br.prototype.buildObjectNode=function(p,m,E,A){if(p==="")return m[0]==="?"?this.indentate(A)+"<"+m+E+"?"+this.tagEndChar:this.indentate(A)+"<"+m+E+this.closeTag(m)+this.tagEndChar;{let w="</"+m+this.tagEndChar,T="";return m[0]==="?"&&(T="?",w=""),!E&&E!==""||p.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&T.length===0?this.indentate(A)+`<!--${p}-->`+this.newLine:this.indentate(A)+"<"+m+E+T+this.tagEndChar+p+this.indentate(A)+w:this.indentate(A)+"<"+m+E+T+">"+p+w}},Br.prototype.closeTag=function(p){let m="";return this.options.unpairedTags.indexOf(p)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${p}`,m},Br.prototype.buildTextValNode=function(p,m,E,A){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(A)+`<![CDATA[${p}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(A)+`<!--${p}-->`+this.newLine;if(m[0]==="?")return this.indentate(A)+"<"+m+E+"?"+this.tagEndChar;{let w=this.options.tagValueProcessor(m,p);return w=this.replaceEntitiesValue(w),w===""?this.indentate(A)+"<"+m+E+this.closeTag(m)+this.tagEndChar:this.indentate(A)+"<"+m+E+">"+w+"</"+m+this.tagEndChar}},Br.prototype.replaceEntitiesValue=function(p){if(p&&p.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let E=this.options.entities[m];p=p.replace(E.regex,E.val)}return p};let R$={validate:a};YA.exports=t})()});var XA=v(jh=>{"use strict";c();Object.defineProperty(jh,"__esModule",{value:!0});jh.parseXML=Fq;var Uq=Bh(),qh=new Uq.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});qh.addEntity("#xD","\r");qh.addEntity("#10",`
`);function Fq(e){return qh.parse(e,!0)}});var tu=v(eu=>{"use strict";c();var Bq=XA();function qq(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function jq(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Zc=class{value;constructor(t){this.value=t}toString(){return jq(""+this.value)}},Hh=class e{name;children;attributes={};static of(t,r,s){let n=new e(t);return r!==void 0&&n.addChildNode(new Zc(r)),s!==void 0&&n.withName(s),n}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,s=r){if(t[r]!=null){let n=e.of(r,t[r]).withName(s);this.c(n)}}l(t,r,s,n){t[r]!=null&&n().map(i=>{i.withName(s),this.c(i)})}lc(t,r,s,n){if(t[r]!=null){let o=n(),i=new e(s);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,s=this.attributes;for(let n of Object.keys(s)){let o=s[n];o!=null&&(r+=` ${n}="${qq(""+o)}"`)}return r+=t?`>${this.children.map(n=>n.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(eu,"parseXML",{enumerable:!0,get:function(){return Bq.parseXML}});eu.XmlNode=Hh;eu.XmlText=Zc});var JA,ZA,ex,ns,ru=S(()=>{c();JA=_(tu());Ie();K();ZA=_(H()),ex=_(Te());ts();kh();ns=class extends Ze{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new br(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,s){let n=D.of(t),o=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},f=Object.keys(o)[0];return o[f].isBlobSchema()?l[f]=r:l[f]=this.read(o[f],r),l}let a=(this.serdeContext?.utf8Encoder??ex.toUtf8)(r),u=this.parseXml(a);return this.readSchema(t,s?u[s]:u)}readSchema(t,r){let s=D.of(t);if(s.isUnitSchema())return;let n=s.getMergedTraits();if(s.isListSchema()&&!Array.isArray(r))return this.readSchema(s,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!n.sparse,i=!!n.xmlFlattened;if(s.isListSchema()){let u=s.getValueSchema(),l=[],f=u.getMergedTraits().xmlName??"member",d=i?r:(r[0]??r)[f],g=Array.isArray(d)?d:[d];for(let h of g)(h!=null||o)&&l.push(this.readSchema(u,h));return l}let a={};if(s.isMapSchema()){let u=s.getKeySchema(),l=s.getValueSchema(),f;i?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let d=u.getMergedTraits().xmlName??"key",g=l.getMergedTraits().xmlName??"value";for(let h of f){let y=h[d],b=h[g];(b!=null||o)&&(a[y]=this.readSchema(l,b))}return a}if(s.isStructSchema()){let u=s.isUnionSchema(),l;u&&(l=new Mn(r,a));for(let[f,d]of s.structIterator()){let g=d.getMergedTraits(),h=g.httpPayload?g.xmlName??d.getName():d.getMemberTraits().xmlName??f;u&&l.mark(h),r[h]!=null&&(a[f]=this.readSchema(d,r[h]))}return u&&l.writeUnknown(),a}if(s.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${s.getName(!0)}`)}return s.isListSchema()?[]:s.isMapSchema()||s.isStructSchema()?{}:this.stringDeserializer.read(s,r)}parseXml(t){if(t.length){let r;try{r=(0,JA.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let s="#text",n=Object.keys(r)[0],o=r[n];return o[s]&&(o[n]=o[s],delete o[s]),(0,ZA.getValueFromTextNode)(o)}return{}}}});var tx,rx,su,sx=S(()=>{c();Ie();K();ke();tx=_(H()),rx=_(On());ts();ci();su=class extends Ze{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,s=""){this.buffer===void 0&&(this.buffer="");let n=D.of(t);if(s&&!s.endsWith(".")&&(s+="."),n.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(s),this.writeValue((this.serdeContext?.base64Encoder??rx.toBase64)(r)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())r!=null?(this.writeKey(s),this.writeValue(String(r))):n.isIdempotencyToken()&&(this.writeKey(s),this.writeValue((0,je.v4)()));else if(n.isBigIntegerSchema())r!=null&&(this.writeKey(s),this.writeValue(String(r)));else if(n.isBigDecimalSchema())r!=null&&(this.writeKey(s),this.writeValue(r instanceof G?r.string:String(r)));else if(n.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(s),$e(n,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,tx.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(n.isDocumentSchema())Array.isArray(r)?this.write(79,r,s):r instanceof Date?this.write(4,r,s):r instanceof Uint8Array?this.write(21,r,s):r&&typeof r=="object"?this.write(143,r,s):(this.writeKey(s),this.writeValue(String(r)));else if(n.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(s),this.writeValue(""));else{let o=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened,a=1;for(let u of r){if(u==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),f=i?`${s}${a}`:`${s}${l}.${a}`;this.write(o,u,f),++a}}}else if(n.isMapSchema()){if(r&&typeof r=="object"){let o=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened,u=1;for(let[l,f]of Object.entries(r)){if(f==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),g=a?`${s}${u}.${d}`:`${s}entry.${u}.${d}`,h=this.getKey("value",i.getMergedTraits().xmlName),y=a?`${s}${u}.${h}`:`${s}entry.${u}.${h}`;this.write(o,l,g),this.write(i,f,y),++u}}}else if(n.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[i,a]of Nn(n,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let u=this.getKey(i,a.getMergedTraits().xmlName),l=`${s}${u}`;this.write(a,r[i],l),o=!0}if(!o&&n.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,u]=i,l=`${s}${a}`;this.write(15,u,l)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let s=r??t;return this.settings.capitalizeKeys?s[0].toUpperCase()+s.slice(1):s}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Tt(t)}=`}writeValue(t){this.buffer+=Tt(t)}}});var Ln,zh=S(()=>{c();Ie();K();Pn();ru();sx();Ln=class extends At{options;serializer;deserializer;mixin=new It;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new su(r),this.deserializer=new ns(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(lt(t.input)==="unit"||!n.body)&&(n.body="");let o=t.name.split("#")[1]??t.name;return n.body=`Action=${o}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(t,r,s){let n=this.deserializer,o=D.of(t.output),i={};if(s.statusCode>=300){let d=await ut(s.body,r);d.byteLength>0&&Object.assign(i,await n.read(15,d)),await this.handleError(t,r,s,i,this.deserializeMetadata(s))}for(let d in s.headers){let g=s.headers[d];delete s.headers[d],s.headers[d.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,u=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await ut(s.body,r);return l.byteLength>0&&Object.assign(i,await n.read(o,l,u)),{$metadata:this.deserializeMetadata(s),...i}}useNestedResult(){return!0}async handleError(t,r,s,n,o){let i=this.loadQueryErrorCode(s,n)??"Unknown",a=this.loadQueryError(n),u=this.loadQueryErrorMessage(n);a.message=u,a.Error={Type:a.Type,Code:a.Code,Message:u};let{errorSchema:l,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,a,o,this.mixin.findQueryCompatibleError),d=D.of(l),g=U.for(l[1]).getErrorCtor(l)??Error,h=new g(u),y={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[b,R]of d.structIterator()){let P=R.getMergedTraits().xmlName??b,N=a[P]??n[P];y[b]=this.deserializer.readSchema(R,N)}throw this.mixin.decorateServiceException(Object.assign(h,f,{$fault:d.getMergedTraits().error,message:u},y),n)}loadQueryErrorCode(t,r){let s=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(s!==void 0)return s;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var nu,nx=S(()=>{c();zh();nu=class extends Ln{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var ox,ix,Vh,ax,ou,Qh=S(()=>{c();ox=_(tu()),ix=_(H());$h();Vh=(e,t)=>Qc(e,t).then(r=>{if(r.length){let s;try{s=(0,ox.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let n="#text",o=Object.keys(s)[0],i=s[o];return i[n]&&(i[o]=i[n],delete i[n]),(0,ix.getValueFromTextNode)(i)}return{}}),ax=async(e,t)=>{let r=await Vh(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ou=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var mt,Kh,iu,Un,Gh=S(()=>{c();mt=_(tu());Ie();K();ke();Kh=_(H()),iu=_(On());ts();ci();Un=class extends Ze{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let s=D.of(t);if(s.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(s.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??iu.fromBase64)(r);else{this.buffer=this.writeStruct(s,r,void 0);let n=s.getMergedTraits();n.httpPayload&&!n.xmlName&&this.buffer.withName(s.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,s){let n=t.getMergedTraits(),o=t.isMemberSchema()&&!n.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():n.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=mt.XmlNode.of(o),[a,u]=this.getXmlnsAttribute(t,s);for(let[f,d]of Nn(t,r)){let g=r[f];if(g!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??f,this.writeSimple(d,g));continue}if(d.isListSchema())this.writeList(d,g,i,u);else if(d.isMapSchema())this.writeMap(d,g,i,u);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,g,u));else{let h=mt.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,g,h,u),i.addChildNode(h)}}}let{$unknown:l}=r;if(l&&t.isUnionSchema()&&Array.isArray(l)&&Object.keys(r).length===1){let[f,d]=l,g=mt.XmlNode.of(f);if(typeof d!="string")if(r instanceof mt.XmlNode||r instanceof mt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,d,g,u),i.addChildNode(g)}return u&&i.addAttribute(a,u),i}writeList(t,r,s,n){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),u=!!a.sparse,l=!!o.xmlFlattened,[f,d]=this.getXmlnsAttribute(t,n),g=(h,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],h,d);else if(i.isMapSchema())this.writeMap(i,y,h,d);else if(i.isStructSchema()){let b=this.writeStruct(i,y,d);h.addChildNode(b.withName(l?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let b=mt.XmlNode.of(l?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,y,b,d),h.addChildNode(b)}};if(l)for(let h of r)(u||h!=null)&&g(s,h);else{let h=mt.XmlNode.of(o.xmlName??t.getMemberName());d&&h.addAttribute(f,d);for(let y of r)(u||y!=null)&&g(h,y);s.addChildNode(h)}}writeMap(t,r,s,n,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",f=t.getValueSchema(),d=f.getMergedTraits(),g=d.xmlName??"value",h=!!d.sparse,y=!!i.xmlFlattened,[b,R]=this.getXmlnsAttribute(t,n),P=(N,$,L)=>{let q=mt.XmlNode.of(l,$),[ee,Ae]=this.getXmlnsAttribute(a,R);Ae&&q.addAttribute(ee,Ae),N.addChildNode(q);let Q=mt.XmlNode.of(g);f.isListSchema()?this.writeList(f,L,Q,R):f.isMapSchema()?this.writeMap(f,L,Q,R,!0):f.isStructSchema()?Q=this.writeStruct(f,L,R):this.writeSimpleInto(f,L,Q,R),N.addChildNode(Q)};if(y){for(let[N,$]of Object.entries(r))if(h||$!=null){let L=mt.XmlNode.of(i.xmlName??t.getMemberName());P(L,N,$),s.addChildNode(L)}}else{let N;o||(N=mt.XmlNode.of(i.xmlName??t.getMemberName()),R&&N.addAttribute(b,R),s.addChildNode(N));for(let[$,L]of Object.entries(r))if(h||L!=null){let q=mt.XmlNode.of("entry");P(q,$,L),(o?s:N).addChildNode(q)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let s=D.of(t),n=null;if(r&&typeof r=="object")if(s.isBlobSchema())n=(this.serdeContext?.base64Encoder??iu.toBase64)(r);else if(s.isTimestampSchema()&&r instanceof Date)switch($e(s,this.settings)){case 5:n=r.toISOString().replace(".000Z","Z");break;case 6:n=(0,Kh.dateToUtcString)(r);break;case 7:n=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),n=(0,Kh.dateToUtcString)(r);break}else{if(s.isBigDecimalSchema()&&r)return r instanceof G?r.string:String(r);throw s.isMapSchema()||s.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${s.getName(!0)}`)}if((s.isBooleanSchema()||s.isNumericSchema()||s.isBigIntegerSchema()||s.isBigDecimalSchema())&&(n=String(r)),s.isStringSchema()&&(r===void 0&&s.isIdempotencyToken()?n=(0,je.v4)():n=String(r)),n===null)throw new Error(`Unhandled schema-value pair ${s.getName(!0)}=${r}`);return n}writeSimpleInto(t,r,s,n){let o=this.writeSimple(t,r),i=D.of(t),a=new mt.XmlText(o),[u,l]=this.getXmlnsAttribute(i,n);l&&s.addAttribute(u,l),s.addChildNode(a)}getXmlnsAttribute(t,r){let s=t.getMergedTraits(),[n,o]=s.xmlNamespace??[];return o&&o!==r?[n?`xmlns:${n}`:"xmlns",o]:[void 0,void 0]}}});var Fn,Wh=S(()=>{c();ts();ru();Gh();Fn=class extends Ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Un(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ns(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var au,cx=S(()=>{c();Ie();K();Pn();Qh();Wh();au=class extends Ht{codec;serializer;deserializer;mixin=new It;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Fn(r),this.serializer=new Vt(this.codec.createSerializer(),r),this.deserializer=new zt(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s),o=D.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(n.headers["content-type"]=i)}return typeof n.body=="string"&&n.headers["content-type"]===this.getDefaultContentType()&&!n.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(o)&&(n.body='<?xml version="1.0" encoding="UTF-8"?>'+n.body),n}async deserializeResponse(t,r,s){return super.deserializeResponse(t,r,s)}async handleError(t,r,s,n,o){let i=ou(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o),l=D.of(a),f=n.Error?.message??n.Error?.Message??n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f);await this.deserializeHttpMessage(a,r,s,n);let h={};for(let[y,b]of l.structIterator()){let R=b.getMergedTraits().xmlName??y,P=n.Error?.[R]??n[R];h[y]=this.codec.createDeserializer().readSchema(b,P)}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var ux={};Ye(ux,{AwsEc2QueryProtocol:()=>nu,AwsJson1_0Protocol:()=>Yc,AwsJson1_1Protocol:()=>Xc,AwsJsonRpcProtocol:()=>ss,AwsQueryProtocol:()=>Ln,AwsRestJsonProtocol:()=>Jc,AwsRestXmlProtocol:()=>au,AwsSmithyRpcV2CborProtocol:()=>Hc,JsonCodec:()=>rs,JsonShapeDeserializer:()=>kn,JsonShapeSerializer:()=>$n,XmlCodec:()=>Fn,XmlShapeDeserializer:()=>ns,XmlShapeSerializer:()=>Un,_toBool:()=>vA,_toNum:()=>IA,_toStr:()=>CA,awsExpectUnion:()=>GA,loadRestJsonErrorCode:()=>Dn,loadRestXmlErrorCode:()=>ou,parseJsonBody:()=>ui,parseJsonErrorBody:()=>BA,parseXmlBody:()=>Vh,parseXmlErrorBody:()=>ax});var Yh=S(()=>{c();RA();PA();zA();VA();Wc();QA();Gc();Lh();Fh();WA();li();nx();zh();cx();Wh();ru();Gh();Qh()});var di={};Ye(di,{AWSSDKSigV4Signer:()=>PT,AwsEc2QueryProtocol:()=>nu,AwsJson1_0Protocol:()=>Yc,AwsJson1_1Protocol:()=>Xc,AwsJsonRpcProtocol:()=>ss,AwsQueryProtocol:()=>Ln,AwsRestJsonProtocol:()=>Jc,AwsRestXmlProtocol:()=>au,AwsSdkSigV4ASigner:()=>Cc,AwsSdkSigV4Signer:()=>Qs,AwsSmithyRpcV2CborProtocol:()=>Hc,JsonCodec:()=>rs,JsonShapeDeserializer:()=>kn,JsonShapeSerializer:()=>$n,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>XB,NODE_SIGV4A_CONFIG_OPTIONS:()=>rq,XmlCodec:()=>Fn,XmlShapeDeserializer:()=>ns,XmlShapeSerializer:()=>Un,_toBool:()=>vA,_toNum:()=>IA,_toStr:()=>CA,awsExpectUnion:()=>GA,emitWarningIfUnsupportedVersion:()=>GB,getBearerTokenEnvKey:()=>Zm,loadRestJsonErrorCode:()=>Dn,loadRestXmlErrorCode:()=>ou,parseJsonBody:()=>ui,parseJsonErrorBody:()=>BA,parseXmlBody:()=>Vh,parseXmlErrorBody:()=>ax,resolveAWSSDKSigV4Config:()=>hq,resolveAwsSdkSigV4AConfig:()=>tq,resolveAwsSdkSigV4Config:()=>uA,setCredentialFeature:()=>Vm,setFeature:()=>WB,setTokenFeature:()=>YB,state:()=>zm,validateSigningProperties:()=>ri});var fi=S(()=>{c();Qm();fA();Yh()});var Zh=v(Bn=>{"use strict";c();var Hq=(He(),J(zs)),zq=Wr(),Vq=re(),ir=(fi(),J(di)),px=void 0;function Qq(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function Kq(e){let t=Hq.normalizeProvider(e.userAgentAppId??px),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let s=await t();if(!Qq(s)){let n=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof s!="string"?n?.warn("userAgentAppId must be a string or undefined."):s.length>50&&n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return s}})}var Gq=/\d{12}\.ddb/;async function Wq(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&ir.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?ir.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):ir.setFeature(e,"RETRY_MODE_STANDARD","E"):ir.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(Gq)&&ir.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":ir.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":ir.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":ir.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let n=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source){let o=n;o.accountId&&ir.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))ir.setFeature(e,i,a)}}var lx="user-agent",Xh="x-amz-user-agent",dx=" ",Jh="/",Yq=/[^!$%&'*+\-.^_`|~\w]/g,Xq=/[^!$%&'*+\-.^_`|~\w#]/g,fx="-",Jq=1024;function Zq(e){let t="";for(let r in e){let s=e[r];if(t.length+s.length+1<=Jq){t.length?t+=","+s:t+=s;continue}break}return t}var mx=e=>(t,r)=>async s=>{let{request:n}=s;if(!Vq.HttpRequest.isInstance(n))return t(s);let{headers:o}=n,i=r?.userAgent?.map(cu)||[],a=(await e.defaultUserAgentProvider()).map(cu);await Wq(r,e,s);let u=r;a.push(`m/${Zq(Object.assign({},r.__smithy_context?.features,u.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(cu)||[],f=await e.userAgentAppId();f&&a.push(cu(["app",`${f}`]));let d=zq.getUserAgentPrefix(),g=(d?[d]:[]).concat([...a,...i,...l]).join(dx),h=[...a.filter(y=>y.startsWith("aws-sdk-")),...l].join(dx);return e.runtime!=="browser"?(h&&(o[Xh]=o[Xh]?`${o[lx]} ${h}`:h),o[lx]=g):o[Xh]=g,t({...s,request:n})},cu=e=>{let t=e[0].split(Jh).map(i=>i.replace(Yq,fx)).join(Jh),r=e[1]?.replace(Xq,fx),s=t.indexOf(Jh),n=t.substring(0,s),o=t.substring(s+1);return n==="api"&&(o=o.toLowerCase()),[n,o,r].filter(i=>i&&i.length>0).reduce((i,a,u)=>{switch(u){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},hx={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},ej=e=>({applyToStack:t=>{t.add(mx(e),hx)}});Bn.DEFAULT_UA_APP_ID=px;Bn.getUserAgentMiddlewareOptions=hx;Bn.getUserAgentPlugin=ej;Bn.resolveUserAgentConfig=Kq;Bn.userAgentMiddleware=mx});var gx=v(qn=>{"use strict";c();var tj=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},rj=(e,t,r)=>{if(!(t in e))return;let s=parseInt(e[t],10);if(Number.isNaN(s))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return s};qn.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(qn.SelectorType||(qn.SelectorType={}));qn.booleanSelector=tj;qn.numberSelector=rj});var et=v(Ke=>{"use strict";c();var os=gx(),uu=dt(),sj=Gr(),Ex="AWS_USE_DUALSTACK_ENDPOINT",wx="use_dualstack_endpoint",nj=!1,oj={environmentVariableSelector:e=>os.booleanSelector(e,Ex,os.SelectorType.ENV),configFileSelector:e=>os.booleanSelector(e,wx,os.SelectorType.CONFIG),default:!1},_x="AWS_USE_FIPS_ENDPOINT",bx="use_fips_endpoint",ij=!1,aj={environmentVariableSelector:e=>os.booleanSelector(e,_x,os.SelectorType.ENV),configFileSelector:e=>os.booleanSelector(e,bx,os.SelectorType.CONFIG),default:!1},cj=e=>{let{tls:t,endpoint:r,urlParser:s,useDualstackEndpoint:n}=e;return Object.assign(e,{tls:t??!0,endpoint:uu.normalizeProvider(typeof r=="string"?s(r):r),isCustomEndpoint:!0,useDualstackEndpoint:uu.normalizeProvider(n??!1)})},uj=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let n=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:n,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},lj=e=>{let t=uu.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:s,urlParser:n,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?uu.normalizeProvider(typeof r=="string"?n(r):r):()=>uj({...e,useDualstackEndpoint:t,useFipsEndpoint:s}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},Tx="AWS_REGION",Ax="region",dj={environmentVariableSelector:e=>e[Tx],configFileSelector:e=>e[Ax],default:()=>{throw new Error("Region is missing")}},fj={preferredFile:"credentials"},yx=new Set,pj=(e,t=sj.isValidHostLabel)=>{if(!yx.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else yx.add(e)},xx=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),mj=e=>xx(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,hj=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let s=typeof t=="function"?await t():t,n=mj(s);return pj(n),n},useFipsEndpoint:async()=>{let s=typeof t=="string"?t:await t();return xx(s)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},Sx=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack"))?.hostname,gj=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),yj=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",Sj=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:s})=>{if(t)return t;if(s){let n=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(n);if(o)return o[0].slice(1,-1)}},Ej=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:s,regionHash:n,partitionHash:o})=>{let i=yj(e,{partitionHash:o}),a=e in n?e:o[i]?.endpoint??e,u={useFipsEndpoint:t,useDualstackEndpoint:r},l=Sx(n[a]?.variants,u),f=Sx(o[i]?.variants,u),d=gj(a,{regionHostname:l,partitionHostname:f});if(d===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let g=Sj(d,{signingRegion:n[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:s,hostname:d,...g&&{signingRegion:g},...n[a]?.signingService&&{signingService:n[a].signingService}}};Ke.CONFIG_USE_DUALSTACK_ENDPOINT=wx;Ke.CONFIG_USE_FIPS_ENDPOINT=bx;Ke.DEFAULT_USE_DUALSTACK_ENDPOINT=nj;Ke.DEFAULT_USE_FIPS_ENDPOINT=ij;Ke.ENV_USE_DUALSTACK_ENDPOINT=Ex;Ke.ENV_USE_FIPS_ENDPOINT=_x;Ke.NODE_REGION_CONFIG_FILE_OPTIONS=fj;Ke.NODE_REGION_CONFIG_OPTIONS=dj;Ke.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=oj;Ke.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=aj;Ke.REGION_ENV_NAME=Tx;Ke.REGION_INI_NAME=Ax;Ke.getRegionInfo=Ej;Ke.resolveCustomEndpointsConfig=cj;Ke.resolveEndpointsConfig=lj;Ke.resolveRegionConfig=hj});var jn=v(lu=>{"use strict";c();var wj=re(),Rx="content-length";function Cx(e){return t=>async r=>{let s=r.request;if(wj.HttpRequest.isInstance(s)){let{body:n,headers:o}=s;if(n&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(Rx)===-1)try{let i=e(n);s.headers={...s.headers,[Rx]:String(i)}}catch{}}return t({...r,request:s})}}var vx={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},_j=e=>({applyToStack:t=>{t.add(Cx(e.bodyLengthChecker),vx)}});lu.contentLengthMiddleware=Cx;lu.contentLengthMiddlewareOptions=vx;lu.getContentLengthPlugin=_j});var tg=v(du=>{"use strict";c();Object.defineProperty(du,"__esModule",{value:!0});du.getHomeDir=void 0;var bj=Y("os"),Tj=Y("path"),eg={},Aj=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",xj=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:s=`C:${Tj.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${s}${r}`;let n=Aj();return eg[n]||(eg[n]=(0,bj.homedir)()),eg[n]};du.getHomeDir=xj});var rg=v(fu=>{"use strict";c();Object.defineProperty(fu,"__esModule",{value:!0});fu.getSSOTokenFilepath=void 0;var Rj=Y("crypto"),Cj=Y("path"),vj=tg(),Ij=e=>{let r=(0,Rj.createHash)("sha1").update(e).digest("hex");return(0,Cj.join)((0,vj.getHomeDir)(),".aws","sso","cache",`${r}.json`)};fu.getSSOTokenFilepath=Ij});var Ix=v(is=>{"use strict";c();Object.defineProperty(is,"__esModule",{value:!0});is.getSSOTokenFromFile=is.tokenIntercept=void 0;var Pj=Y("fs/promises"),Oj=rg();is.tokenIntercept={};var Nj=async e=>{if(is.tokenIntercept[e])return is.tokenIntercept[e];let t=(0,Oj.getSSOTokenFilepath)(e),r=await(0,Pj.readFile)(t,"utf8");return JSON.parse(r)};is.getSSOTokenFromFile=Nj});var Px=v(xt=>{"use strict";c();Object.defineProperty(xt,"__esModule",{value:!0});xt.readFile=xt.fileIntercept=xt.filePromises=void 0;var Mj=Y("node:fs/promises");xt.filePromises={};xt.fileIntercept={};var Dj=(e,t)=>xt.fileIntercept[e]!==void 0?xt.fileIntercept[e]:((!xt.filePromises[e]||t?.ignoreCache)&&(xt.filePromises[e]=(0,Mj.readFile)(e,"utf8")),xt.filePromises[e]);xt.readFile=Dj});var ar=v(ht=>{"use strict";c();var pi=tg(),Ox=rg(),sg=Ix(),pu=Y("path"),mu=jr(),Hn=Px(),Mx="AWS_PROFILE",Dx="default",kj=e=>e.profile||process.env[Mx]||Dx,Ws=".",$j=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ws);return r===-1?!1:Object.values(mu.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,s])=>{let n=r.indexOf(Ws),o=r.substring(0,n)===mu.IniSectionType.PROFILE?r.substring(n+1):r;return t[o]=s,t},{...e.default&&{default:e.default}}),Lj="AWS_CONFIG_FILE",kx=()=>process.env[Lj]||pu.join(pi.getHomeDir(),".aws","config"),Uj="AWS_SHARED_CREDENTIALS_FILE",Fj=()=>process.env[Uj]||pu.join(pi.getHomeDir(),".aws","credentials"),Bj=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,qj=["__proto__","profile __proto__"],ng=e=>{let t={},r,s;for(let n of e.split(/\r?\n/)){let o=n.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,s=void 0;let a=o.substring(1,o.length-1),u=Bj.exec(a);if(u){let[,l,,f]=u;Object.values(mu.IniSectionType).includes(l)&&(r=[l,f].join(Ws))}else r=a;if(qj.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[u,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")s=u;else{s&&n.trimStart()===n&&(s=void 0),t[r]=t[r]||{};let f=s?[s,u].join(Ws):u;t[r][f]=l}}}}return t},Nx=()=>({}),$x=async(e={})=>{let{filepath:t=Fj(),configFilepath:r=kx()}=e,s=pi.getHomeDir(),n="~/",o=t;t.startsWith(n)&&(o=pu.join(s,t.slice(2)));let i=r;r.startsWith(n)&&(i=pu.join(s,r.slice(2)));let a=await Promise.all([Hn.readFile(i,{ignoreCache:e.ignoreCache}).then(ng).then($j).catch(Nx),Hn.readFile(o,{ignoreCache:e.ignoreCache}).then(ng).catch(Nx)]);return{configFile:a[0],credentialsFile:a[1]}},jj=e=>Object.entries(e).filter(([t])=>t.startsWith(mu.IniSectionType.SSO_SESSION+Ws)).reduce((t,[r,s])=>({...t,[r.substring(r.indexOf(Ws)+1)]:s}),{}),Hj=()=>({}),zj=async(e={})=>Hn.readFile(e.configFilepath??kx()).then(ng).then(jj).catch(Hj),Vj=(...e)=>{let t={};for(let r of e)for(let[s,n]of Object.entries(r))t[s]!==void 0?Object.assign(t[s],n):t[s]=n;return t},Qj=async e=>{let t=await $x(e);return Vj(t.configFile,t.credentialsFile)},Kj={getFileRecord(){return Hn.fileIntercept},interceptFile(e,t){Hn.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return sg.tokenIntercept},interceptToken(e,t){sg.tokenIntercept[e]=t}};Object.defineProperty(ht,"getSSOTokenFromFile",{enumerable:!0,get:function(){return sg.getSSOTokenFromFile}});Object.defineProperty(ht,"readFile",{enumerable:!0,get:function(){return Hn.readFile}});ht.CONFIG_PREFIX_SEPARATOR=Ws;ht.DEFAULT_PROFILE=Dx;ht.ENV_PROFILE=Mx;ht.externalDataInterceptor=Kj;ht.getProfileName=kj;ht.loadSharedConfigFiles=$x;ht.loadSsoSessionData=zj;ht.parseKnownFiles=Qj;Object.keys(pi).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ht,e)&&Object.defineProperty(ht,e,{enumerable:!0,get:function(){return pi[e]}})});Object.keys(Ox).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ht,e)&&Object.defineProperty(ht,e,{enumerable:!0,get:function(){return Ox[e]}})})});var Gt=v(Fx=>{"use strict";c();var mi=Qe(),Lx=ar();function Ux(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var Gj=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new mi.CredentialsProviderError(r.message||`Not found in ENV: ${Ux(e.toString())}`,{logger:t?.logger})}},Wj=(e,{preferredFile:t="config",...r}={})=>async()=>{let s=Lx.getProfileName(r),{configFile:n,credentialsFile:o}=await Lx.loadSharedConfigFiles(r),i=o[s]||{},a=n[s]||{},u=t==="config"?{...i,...a}:{...a,...i};try{let f=e(u,t==="config"?n:o);if(f===void 0)throw new Error;return f}catch(l){throw new mi.CredentialsProviderError(l.message||`Not found in config files w/ profile [${s}]: ${Ux(e.toString())}`,{logger:r.logger})}},Yj=e=>typeof e=="function",Xj=e=>Yj(e)?async()=>await e():mi.fromStatic(e),Jj=({environmentVariableSelector:e,configFileSelector:t,default:r},s={})=>{let{signingName:n,logger:o}=s,i={signingName:n,logger:o};return mi.memoize(mi.chain(Gj(e,i),Wj(t,s),Xj(r)))};Fx.loadConfig=Jj});var Hx=v(hu=>{"use strict";c();Object.defineProperty(hu,"__esModule",{value:!0});hu.getEndpointUrlConfig=void 0;var Bx=ar(),qx="AWS_ENDPOINT_URL",jx="endpoint_url",Zj=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),s=t[[qx,...r].join("_")];if(s)return s;let n=t[qx];if(n)return n},configFileSelector:(t,r)=>{if(r&&t.services){let n=r[["services",t.services].join(Bx.CONFIG_PREFIX_SEPARATOR)];if(n){let o=e.split(" ").map(a=>a.toLowerCase()),i=n[[o.join("_"),jx].join(Bx.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let s=t[jx];if(s)return s},default:void 0});hu.getEndpointUrlConfig=Zj});var zx=v(gu=>{"use strict";c();Object.defineProperty(gu,"__esModule",{value:!0});gu.getEndpointFromConfig=void 0;var eH=Gt(),tH=Hx(),rH=async e=>(0,eH.loadConfig)((0,tH.getEndpointUrlConfig)(e??""))();gu.getEndpointFromConfig=rH});var cr=v(Pr=>{"use strict";c();var Qx=zx(),Vx=Ar(),sH=(He(),J(zs)),yu=dt(),nH=Nm(),oH=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),lH(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!uH(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},iH=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,aH=/(\d+\.){3}\d+/,cH=/\.\./,uH=e=>iH.test(e)&&!aH.test(e)&&!cH.test(e),lH=e=>{let[t,r,s,,,n]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&s&&n);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},dH=(e,t,r,s=!1)=>{let n=async()=>{let o;return s?o=r.clientContextParams?.[e]??r[e]??r[t]:o=r[e]??r[t],typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:a,port:u,path:l}=o;return`${i}//${a}${u?":"+u:""}${l}`}}return o}:n},og=e=>typeof e=="object"?"url"in e?Vx.parseUrl(e.url):e:Vx.parseUrl(e),Kx=async(e,t,r,s)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await Qx.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(og(i)),r.isCustomEndpoint=!0)}let n=await Gx(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(n,s)},Gx=async(e,t,r)=>{let s={},n=t?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(n))switch(i.type){case"staticContextParams":s[o]=i.value;break;case"contextParams":s[o]=e[i.name];break;case"clientContextParams":case"builtInParams":s[o]=await dH(i.name,o,r,i.type!=="builtInParams")();break;case"operationContextParams":s[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(n).length===0&&Object.assign(s,r),String(r.serviceId).toLowerCase()==="s3"&&await oH(s),s},Wx=({config:e,instructions:t})=>(r,s)=>async n=>{e.isCustomEndpoint&&sH.setFeature(s,"ENDPOINT_OVERRIDE","N");let o=await Kx(n.input,{getEndpointParameterInstructions(){return t}},{...e},s);s.endpointV2=o,s.authSchemes=o.properties?.authSchemes;let i=s.authSchemes?.[0];if(i){s.signing_region=i.signingRegion,s.signing_service=i.signingName;let u=yu.getSmithyContext(s)?.selectedHttpAuthScheme?.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...n})},Yx={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:nH.serializerMiddlewareOption.name},fH=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Wx({config:e,instructions:t}),Yx)}}),pH=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:s,useFipsEndpoint:n}=e,o=r!=null?async()=>og(await yu.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:yu.normalizeProvider(s??!1),useFipsEndpoint:yu.normalizeProvider(n??!1)}),u;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!u&&(u=Qx.getEndpointFromConfig(e.serviceId)),u),a},mH=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Pr.endpointMiddleware=Wx;Pr.endpointMiddlewareOptions=Yx;Pr.getEndpointFromInstructions=Kx;Pr.getEndpointPlugin=fH;Pr.resolveEndpointConfig=pH;Pr.resolveEndpointRequiredConfig=mH;Pr.resolveParams=Gx;Pr.toEndpointV1=og});var ag=v(as=>{"use strict";c();var hH=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],gH=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],yH=["TimeoutError","RequestTimeout","RequestTimeoutException"],SH=[500,502,503,504],EH=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],wH=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Xx=e=>e?.$retryable!==void 0,_H=e=>hH.includes(e.name),Jx=e=>e.$metadata?.clockSkewCorrected,Zx=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},bH=e=>e.$metadata?.httpStatusCode===429||gH.includes(e.name)||e.$retryable?.throttling==!0,ig=(e,t=0)=>Xx(e)||Jx(e)||yH.includes(e.name)||EH.includes(e?.code||"")||wH.includes(e?.code||"")||SH.includes(e.$metadata?.httpStatusCode||0)||Zx(e)||e.cause!==void 0&&t<=10&&ig(e.cause,t+1),TH=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!ig(e)}return!1};as.isBrowserNetworkError=Zx;as.isClockSkewCorrectedError=Jx;as.isClockSkewError=_H;as.isRetryableByTrait=Xx;as.isServerError=TH;as.isThrottlingError=bH;as.isTransientError=ig});var Ys=v(Ne=>{"use strict";c();var AH=ag();Ne.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ne.RETRY_MODES||(Ne.RETRY_MODES={}));var cg=3,xH=Ne.RETRY_MODES.STANDARD,Su=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(s=>e.setTimeoutFn(s,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),AH.isThrottlingError(t)){let n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let s=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(s)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let s=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(s*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},hi=100,fg=20*1e3,t0=500,ug=500,r0=5,s0=10,n0=1,RH="amz-sdk-invocation-id",CH="amz-sdk-request",vH=()=>{let e=hi;return{computeNextBackoffDelay:s=>Math.floor(Math.min(fg,Math.random()*2**s*e)),setDelayBase:s=>{e=s}}},e0=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(fg,e),getRetryCost:()=>r}),gi=class{maxAttempts;mode=Ne.RETRY_MODES.STANDARD;capacity=ug;retryBackoffStrategy=vH();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return e0({retryDelay:hi,retryCount:0})}async refreshRetryTokenForRetry(t,r){let s=await this.getMaxAttempts();if(this.shouldRetry(t,r,s)){let n=r.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?t0:hi);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(n);return this.capacity-=a,e0({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(ug,this.capacity+(t.getRetryCost()??n0))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${cg}`),cg}}shouldRetry(t,r,s){return t.getRetryCount()+1<s&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?s0:r0}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},lg=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ne.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:s}=r??{};this.rateLimiter=s??new Su,this.standardRetryStrategy=new gi(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},dg=class extends gi{computeNextBackoffDelay;constructor(t,r=hi){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let s=await super.refreshRetryTokenForRetry(t,r);return s.getRetryDelay=()=>this.computeNextBackoffDelay(s.getRetryCount()),s}};Ne.AdaptiveRetryStrategy=lg;Ne.ConfiguredRetryStrategy=dg;Ne.DEFAULT_MAX_ATTEMPTS=cg;Ne.DEFAULT_RETRY_DELAY_BASE=hi;Ne.DEFAULT_RETRY_MODE=xH;Ne.DefaultRateLimiter=Su;Ne.INITIAL_RETRY_TOKENS=ug;Ne.INVOCATION_ID_HEADER=RH;Ne.MAXIMUM_RETRY_DELAY=fg;Ne.NO_RETRY_INCREMENT=n0;Ne.REQUEST_HEADER=CH;Ne.RETRY_COST=r0;Ne.StandardRetryStrategy=gi;Ne.THROTTLING_RETRY_DELAY_BASE=t0;Ne.TIMEOUT_RETRY_COST=s0});var o0=v(Eu=>{"use strict";c();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.isStreamingPayload=void 0;var IH=Y("stream"),PH=e=>e?.body instanceof IH.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Eu.isStreamingPayload=PH});var Wt=v(Be=>{"use strict";c();var Pe=Ys(),zn=re(),cs=ag(),a0=rm(),i0=dt(),OH=H(),NH=o0(),MH=(e,t)=>{let r=e,s=Pe.NO_RETRY_INCREMENT,n=Pe.RETRY_COST,o=Pe.TIMEOUT_RETRY_COST,i=e,a=d=>d.name==="TimeoutError"?o:n,u=d=>a(d)<=i;return Object.freeze({hasRetryTokens:u,retrieveRetryTokens:d=>{if(!u(d))throw new Error("No retry token available");let g=a(d);return i-=g,g},releaseRetryTokens:d=>{i+=d??s,i=Math.min(i,r)}})},c0=(e,t)=>Math.floor(Math.min(Pe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),u0=e=>e?cs.isRetryableByTrait(e)||cs.isClockSkewError(e)||cs.isThrottlingError(e)||cs.isTransientError(e):!1,l0=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),wu=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Pe.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??u0,this.delayDecider=r?.delayDecider??c0,this.retryQuota=r?.retryQuota??MH(Pe.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,s){return r<s&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Pe.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,s){let n,o=0,i=0,a=await this.getMaxAttempts(),{request:u}=r;for(zn.HttpRequest.isInstance(u)&&(u.headers[Pe.INVOCATION_ID_HEADER]=a0.v4());;)try{zn.HttpRequest.isInstance(u)&&(u.headers[Pe.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),s?.beforeRequest&&await s.beforeRequest();let{response:l,output:f}=await t(r);return s?.afterRequest&&s.afterRequest(l),this.retryQuota.releaseRetryTokens(n),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,{response:l,output:f}}catch(l){let f=l0(l);if(o++,this.shouldRetry(f,o,a)){n=this.retryQuota.retrieveRetryTokens(f);let d=this.delayDecider(cs.isThrottlingError(f)?Pe.THROTTLING_RETRY_DELAY_BASE:Pe.DEFAULT_RETRY_DELAY_BASE,o),g=DH(f.$response),h=Math.max(g||0,d);i+=h,await new Promise(y=>setTimeout(y,h));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=i,f}}},DH=e=>{if(!zn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],s=Number(r);return Number.isNaN(s)?new Date(r).getTime()-Date.now():s*1e3},pg=class extends wu{rateLimiter;constructor(t,r){let{rateLimiter:s,...n}=r??{};super(t,n),this.rateLimiter=s??new Pe.DefaultRateLimiter,this.mode=Pe.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:s=>{this.rateLimiter.updateClientSendingRate(s)}})}},mg="AWS_MAX_ATTEMPTS",hg="max_attempts",kH={environmentVariableSelector:e=>{let t=e[mg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${mg} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[hg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${hg} mast be a number, got "${t}"`);return r},default:Pe.DEFAULT_MAX_ATTEMPTS},$H=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:s}=e,n=i0.normalizeProvider(s??Pe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:n,retryStrategy:async()=>t||(await i0.normalizeProvider(r)()===Pe.RETRY_MODES.ADAPTIVE?new Pe.AdaptiveRetryStrategy(n):new Pe.StandardRetryStrategy(n))})},d0="AWS_RETRY_MODE",f0="retry_mode",LH={environmentVariableSelector:e=>e[d0],configFileSelector:e=>e[f0],default:Pe.DEFAULT_RETRY_MODE},p0=()=>e=>async t=>{let{request:r}=t;return zn.HttpRequest.isInstance(r)&&(delete r.headers[Pe.INVOCATION_ID_HEADER],delete r.headers[Pe.REQUEST_HEADER]),e(t)},m0={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},UH=e=>({applyToStack:t=>{t.addRelativeTo(p0(),m0)}}),h0=e=>(t,r)=>async s=>{let n=await e.retryStrategy(),o=await e.maxAttempts();if(FH(n)){n=n;let i=await n.acquireInitialRetryToken(r.partition_id),a=new Error,u=0,l=0,{request:f}=s,d=zn.HttpRequest.isInstance(f);for(d&&(f.headers[Pe.INVOCATION_ID_HEADER]=a0.v4());;)try{d&&(f.headers[Pe.REQUEST_HEADER]=`attempt=${u+1}; max=${o}`);let{response:g,output:h}=await t(s);return n.recordSuccess(i),h.$metadata.attempts=u+1,h.$metadata.totalRetryDelay=l,{response:g,output:h}}catch(g){let h=BH(g);if(a=l0(g),d&&NH.isStreamingPayload(f))throw(r.logger instanceof OH.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await n.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=l,a}u=i.getRetryCount();let y=i.getRetryDelay();l+=y,await new Promise(b=>setTimeout(b,y))}}else return n=n,n?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(t,s)},FH=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",BH=e=>{let t={error:e,errorType:qH(e)},r=y0(e.$response);return r&&(t.retryAfterHint=r),t},qH=e=>cs.isThrottlingError(e)?"THROTTLING":cs.isTransientError(e)?"TRANSIENT":cs.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",g0={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},jH=e=>({applyToStack:t=>{t.add(h0(e),g0)}}),y0=e=>{if(!zn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],s=Number(r);return Number.isNaN(s)?new Date(r):new Date(s*1e3)};Be.AdaptiveRetryStrategy=pg;Be.CONFIG_MAX_ATTEMPTS=hg;Be.CONFIG_RETRY_MODE=f0;Be.ENV_MAX_ATTEMPTS=mg;Be.ENV_RETRY_MODE=d0;Be.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=kH;Be.NODE_RETRY_MODE_CONFIG_OPTIONS=LH;Be.StandardRetryStrategy=wu;Be.defaultDelayDecider=c0;Be.defaultRetryDecider=u0;Be.getOmitRetryHeadersPlugin=UH;Be.getRetryAfterHint=y0;Be.getRetryPlugin=jH;Be.omitRetryHeadersMiddleware=p0;Be.omitRetryHeadersMiddlewareOptions=m0;Be.resolveRetryConfig=$H;Be.retryMiddleware=h0;Be.retryMiddlewareOptions=g0});var yg=v(us=>{"use strict";c();Object.defineProperty(us,"__esModule",{value:!0});us.resolveHttpAuthSchemeConfig=us.defaultSQSHttpAuthSchemeProvider=us.defaultSQSHttpAuthSchemeParametersProvider=void 0;var HH=(fi(),J(di)),gg=dt(),zH=async(e,t,r)=>({operation:(0,gg.getSmithyContext)(t).operation,region:await(0,gg.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});us.defaultSQSHttpAuthSchemeParametersProvider=zH;function VH(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sqs",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var QH=e=>{let t=[];switch(e.operation){default:t.push(VH(e))}return t};us.defaultSQSHttpAuthSchemeProvider=QH;var KH=e=>{let t=(0,HH.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,gg.normalizeProvider)(e.authSchemePreference??[])})};us.resolveHttpAuthSchemeConfig=KH});var S0=v((kne,GH)=>{GH.exports={name:"@aws-sdk/client-sqs",description:"AWS SDK for JavaScript Sqs Client for Node.js, Browser and React Native",version:"3.974.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sqs","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sqs","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/credential-provider-node":"^3.972.1","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-sdk-sqs":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/md5-js":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sqs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sqs"}}});var _u,ls,E0=S(()=>{c();_u={warningEmitted:!1},ls=e=>{e&&!_u.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(_u.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function ds(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var w0=S(()=>{c()});function _0(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var b0=S(()=>{c()});function T0(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var A0=S(()=>{c()});var Or={};Ye(Or,{emitWarningIfUnsupportedVersion:()=>ls,setCredentialFeature:()=>ds,setFeature:()=>_0,setTokenFeature:()=>T0,state:()=>_u});var Pt=S(()=>{c();E0();w0();b0();A0()});var Sg=v(fs=>{"use strict";c();var WH=(Pt(),J(Or)),YH=Qe(),x0="AWS_ACCESS_KEY_ID",R0="AWS_SECRET_ACCESS_KEY",C0="AWS_SESSION_TOKEN",v0="AWS_CREDENTIAL_EXPIRATION",I0="AWS_CREDENTIAL_SCOPE",P0="AWS_ACCOUNT_ID",XH=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[x0],r=process.env[R0],s=process.env[C0],n=process.env[v0],o=process.env[I0],i=process.env[P0];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...s&&{sessionToken:s},...n&&{expiration:new Date(n)},...o&&{credentialScope:o},...i&&{accountId:i}};return WH.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new YH.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};fs.ENV_ACCOUNT_ID=P0;fs.ENV_CREDENTIAL_SCOPE=I0;fs.ENV_EXPIRATION=v0;fs.ENV_KEY=x0;fs.ENV_SECRET=R0;fs.ENV_SESSION=C0;fs.fromEnv=XH});var Si=v(tt=>{"use strict";c();var ur=Qe(),JH=Y("url"),ZH=Y("buffer"),e2=Y("http"),Tg=Gt(),t2=Ar();function yi(e){return new Promise((t,r)=>{let s=e2.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});s.on("error",n=>{r(Object.assign(new ur.ProviderError("Unable to connect to instance metadata service"),n)),s.destroy()}),s.on("timeout",()=>{r(new ur.ProviderError("TimeoutError from instance metadata service")),s.destroy()}),s.on("response",n=>{let{statusCode:o=400}=n;(o<200||300<=o)&&(r(Object.assign(new ur.ProviderError("Error response received from instance metadata service"),{statusCode:o})),s.destroy());let i=[];n.on("data",a=>{i.push(a)}),n.on("end",()=>{t(ZH.Buffer.concat(i)),s.destroy()})}),s.end()})}var D0=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",k0=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),$0=1e3,L0=0,Ag=({maxRetries:e=L0,timeout:t=$0})=>({maxRetries:e,timeout:t}),wg=(e,t)=>{let r=e();for(let s=0;s<t;s++)r=r.catch(e);return r},bu="AWS_CONTAINER_CREDENTIALS_FULL_URI",Tu="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",_g="AWS_CONTAINER_AUTHORIZATION_TOKEN",r2=(e={})=>{let{timeout:t,maxRetries:r}=Ag(e);return()=>wg(async()=>{let s=await a2({logger:e.logger}),n=JSON.parse(await s2(t,s));if(!D0(n))throw new ur.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return k0(n)},r)},s2=async(e,t)=>(process.env[_g]&&(t.headers={...t.headers,Authorization:process.env[_g]}),(await yi({...t,timeout:e})).toString()),n2="169.254.170.2",o2={localhost:!0,"127.0.0.1":!0},i2={"http:":!0,"https:":!0},a2=async({logger:e})=>{if(process.env[Tu])return{hostname:n2,path:process.env[Tu]};if(process.env[bu]){let t=JH.parse(process.env[bu]);if(!t.hostname||!(t.hostname in o2))throw new ur.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in i2))throw new ur.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new ur.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Tu} or ${bu} environment variable is set`,{tryNextLink:!1,logger:e})},bg=class e extends ur.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};tt.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(tt.Endpoint||(tt.Endpoint={}));var c2="AWS_EC2_METADATA_SERVICE_ENDPOINT",u2="ec2_metadata_service_endpoint",l2={environmentVariableSelector:e=>e[c2],configFileSelector:e=>e[u2],default:void 0},Vn;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Vn||(Vn={}));var d2="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",f2="ec2_metadata_service_endpoint_mode",p2={environmentVariableSelector:e=>e[d2],configFileSelector:e=>e[f2],default:Vn.IPv4},U0=async()=>t2.parseUrl(await m2()||await h2()),m2=async()=>Tg.loadConfig(l2)(),h2=async()=>{let e=await Tg.loadConfig(p2)();switch(e){case Vn.IPv4:return tt.Endpoint.IPv4;case Vn.IPv6:return tt.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Vn)}`)}},g2=5*60,y2=5*60,S2="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",O0=(e,t)=>{let r=g2+Math.floor(Math.random()*y2),s=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(s)}.
For more information, please visit: `+S2);let n=e.originalExpiration??e.expiration;return{...e,...n?{originalExpiration:n}:{},expiration:s}},E2=(e,t={})=>{let r=t?.logger||console,s;return async()=>{let n;try{n=await e(),n.expiration&&n.expiration.getTime()<Date.now()&&(n=O0(n,r))}catch(o){if(s)r.warn("Credential renew failed: ",o),n=O0(s,r);else throw o}return s=n,n}},F0="/latest/meta-data/iam/security-credentials/",w2="/latest/api/token",Eg="AWS_EC2_METADATA_V1_DISABLED",N0="ec2_metadata_v1_disabled",M0="x-aws-ec2-metadata-token",_2=(e={})=>E2(b2(e),{logger:e.logger}),b2=(e={})=>{let t=!1,{logger:r,profile:s}=e,{timeout:n,maxRetries:o}=Ag(e),i=async(a,u)=>{if(t||u.headers?.[M0]==null){let d=!1,g=!1,h=await Tg.loadConfig({environmentVariableSelector:y=>{let b=y[Eg];if(g=!!b&&b!=="false",b===void 0)throw new ur.CredentialsProviderError(`${Eg} not set in env, checking config file next.`,{logger:e.logger});return g},configFileSelector:y=>{let b=y[N0];return d=!!b&&b!=="false",d},default:!1},{profile:s})();if(e.ec2MetadataV1Disabled||h){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&y.push(`config file profile (${N0})`),g&&y.push(`process environment variable (${Eg})`),new bg(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let f=(await wg(async()=>{let d;try{d=await A2(u)}catch(g){throw g.statusCode===401&&(t=!1),g}return d},a)).trim();return wg(async()=>{let d;try{d=await x2(f,u,e)}catch(g){throw g.statusCode===401&&(t=!1),g}return d},a)};return async()=>{let a=await U0();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:n});{let u;try{u=(await T2({...a,timeout:n})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:n})}return i(o,{...a,headers:{[M0]:u},timeout:n})}}},T2=async e=>yi({...e,path:w2,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),A2=async e=>(await yi({...e,path:F0})).toString(),x2=async(e,t,r)=>{let s=JSON.parse((await yi({...t,path:F0+e})).toString());if(!D0(s))throw new ur.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return k0(s)};tt.DEFAULT_MAX_RETRIES=L0;tt.DEFAULT_TIMEOUT=$0;tt.ENV_CMDS_AUTH_TOKEN=_g;tt.ENV_CMDS_FULL_URI=bu;tt.ENV_CMDS_RELATIVE_URI=Tu;tt.fromContainerMetadata=r2;tt.fromInstanceMetadata=_2;tt.getInstanceMetadataEndpoint=U0;tt.httpRequest=yi;tt.providerConfigFromInit=Ag});var B0=v(Au=>{"use strict";c();Object.defineProperty(Au,"__esModule",{value:!0});Au.checkUrl=void 0;var R2=Qe(),C2="169.254.170.2",v2="169.254.170.23",I2="[fd00:ec2::23]",P2=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===C2||e.hostname===v2||e.hostname===I2)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),s=n=>{let o=parseInt(n,10);return 0<=o&&o<=255};if(r[0]==="127"&&s(r[1])&&s(r[2])&&s(r[3])&&r.length===4)return}throw new R2.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Au.checkUrl=P2});var q0=v(xu=>{"use strict";c();Object.defineProperty(xu,"__esModule",{value:!0});xu.createGetRequest=D2;xu.getCredentials=k2;var xg=Qe(),O2=re(),N2=H(),M2=Ja();function D2(e){return new O2.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,s])=>(t[r]=s,t),{}),fragment:e.hash})}async function k2(e,t){let s=await(0,M2.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let n=JSON.parse(s);if(typeof n.AccessKeyId!="string"||typeof n.SecretAccessKey!="string"||typeof n.Token!="string"||typeof n.Expiration!="string")throw new xg.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.Token,expiration:(0,N2.parseRfc3339DateTime)(n.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let n={};try{n=JSON.parse(s)}catch{}throw Object.assign(new xg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:n.Code,Message:n.Message})}throw new xg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var j0=v(Ru=>{"use strict";c();Object.defineProperty(Ru,"__esModule",{value:!0});Ru.retryWrapper=void 0;var $2=(e,t,r)=>async()=>{for(let s=0;s<t;++s)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};Ru.retryWrapper=$2});var V0=v(Cu=>{"use strict";c();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.fromHttp=void 0;var L2=(Bs(),J(Fs)),U2=(Pt(),J(Or)),F2=Vr(),H0=Qe(),B2=L2.__importDefault(Y("fs/promises")),q2=B0(),z0=q0(),j2=j0(),H2="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",z2="http://169.254.170.2",V2="AWS_CONTAINER_CREDENTIALS_FULL_URI",Q2="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",K2="AWS_CONTAINER_AUTHORIZATION_TOKEN",G2=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[H2],s=e.awsContainerCredentialsFullUri??process.env[V2],n=e.awsContainerAuthorizationToken??process.env[K2],o=e.awsContainerAuthorizationTokenFile??process.env[Q2],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),n&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),s)t=s;else if(r)t=`${z2}${r}`;else throw new H0.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,q2.checkUrl)(a,e.logger);let u=F2.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,j2.retryWrapper)(async()=>{let l=(0,z0.createGetRequest)(a);n?l.headers.Authorization=n:o&&(l.headers.Authorization=(await B2.default.readFile(o)).toString());try{let f=await u.handle(l);return(0,z0.getCredentials)(f.response).then(d=>(0,U2.setCredentialFeature)(d,"CREDENTIALS_HTTP","z"))}catch(f){throw new H0.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Cu.fromHttp=G2});var Rg=v(vu=>{"use strict";c();Object.defineProperty(vu,"__esModule",{value:!0});vu.fromHttp=void 0;var W2=V0();Object.defineProperty(vu,"fromHttp",{enumerable:!0,get:function(){return W2.fromHttp}})});var Q0,Cg,K0=S(()=>{c();Q0=_(re()),Cg=e=>Q0.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Qn,vg=S(()=>{c();Qn=e=>new Date(Date.now()+e)});var G0,W0=S(()=>{c();vg();G0=(e,t)=>Math.abs(Qn(t).getTime()-e)>=3e5});var Ig,Y0=S(()=>{c();W0();Ig=(e,t)=>{let r=Date.parse(e);return G0(r,t)?r-Date.now():t}});var Pg=S(()=>{c();K0();vg();Y0()});var X0,Ei,Kn,rt,Og,Ng=S(()=>{c();X0=_(re());Pg();Ei=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Kn=async e=>{let t=Ei("context",e.context),r=Ei("config",e.config),s=t.endpointV2?.properties?.authSchemes?.[0],o=await Ei("signer",r.signer)(s),i=e?.signingRegion,a=e?.signingRegionSet,u=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:u}},rt=class{async sign(t,r,s){if(!X0.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let n=await Kn(s),{config:o,signer:i}=n,{signingRegion:a,signingName:u}=n,l=s.context;if(l?.authSchemes?.length??!1){let[d,g]=l.authSchemes;d?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,u=g?.signingName??u)}return await i.sign(t,{signingDate:Qn(o.systemClockOffset),signingRegion:a,signingService:u})}errorHandler(t){return r=>{let s=r.ServerTime??Cg(r.$response);if(s){let n=Ei("config",t.config),o=n.systemClockOffset;n.systemClockOffset=Ig(s,n.systemClockOffset),n.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let s=Cg(t);if(s){let n=Ei("config",r.config);n.systemClockOffset=Ig(s,n.systemClockOffset)}}},Og=rt});var J0,wi,Z0=S(()=>{c();J0=_(re());Pg();Ng();wi=class extends rt{async sign(t,r,s){if(!J0.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:n,signer:o,signingRegion:i,signingRegionSet:a,signingName:u}=await Kn(s),f=(await n.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(t,{signingDate:Qn(n.systemClockOffset),signingRegion:f,signingService:u})}}});var Mg,eR=S(()=>{c();Mg=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Iu,Dg=S(()=>{c();Iu=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var tR,rR,ps,sR=S(()=>{c();eR();Dg();tR="AWS_AUTH_SCHEME_PREFERENCE",rR="auth_scheme_preference",ps={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Iu(t.signingName)in e)return["httpBearerAuth"];if(tR in e)return Mg(e[tR])},configFileSelector:e=>{if(rR in e)return Mg(e[rR])},default:[]}});var kg,nR,oR,iR=S(()=>{c();He();kg=_(Qe()),nR=e=>(e.sigv4aSigningRegionSet=pt(e.sigv4aSigningRegionSet),e),oR={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new kg.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new kg.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function Y2(e,{credentials:t,credentialDefaultProvider:r}){let s;return t?t?.memoized?s=t:s=Zo(t,Jo,bn):r?s=pt(r(Object.assign({},e,{parentClientConfig:e}))):s=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},s.memoized=!0,s}function X2(e,t){if(t.configBound)return t;let r=async s=>t({...s,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var $g,Nr,aR,cR=S(()=>{c();Pt();He();$g=_(kc()),Nr=e=>{let t=e.credentials,r=!!e.credentials,s;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==s&&(r=!0),t=l;let f=Y2(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=X2(e,f);if(r&&!d.attributed){let g=typeof t=="object"&&t!==null;s=async h=>{let b=await d(h);return g&&(!b.$source||Object.keys(b.$source).length===0)?ds(b,"CREDENTIALS_CODE","e"):b},s.memoized=d.memoized,s.configBound=d.configBound,s.attributed=!0}else s=d},get(){return s},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:n=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=pt(e.signer):e.regionInfoProvider?a=()=>pt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,f])=>{let{signingRegion:d,signingService:g}=l;e.signingRegion=e.signingRegion||d||f,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},y=e.signerConstructor||$g.SignatureV4;return new y(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await pt(e.region)(),properties:{}},l);let f=l.signingRegion,d=l.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||d||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},h=e.signerConstructor||$g.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:n,signer:a})},aR=Nr});var uR=S(()=>{c();Ng();Z0();sR();iR();cR()});var lR={};Ye(lR,{AWSSDKSigV4Signer:()=>Og,AwsSdkSigV4ASigner:()=>wi,AwsSdkSigV4Signer:()=>rt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ps,NODE_SIGV4A_CONFIG_OPTIONS:()=>oR,getBearerTokenEnvKey:()=>Iu,resolveAWSSDKSigV4Config:()=>aR,resolveAwsSdkSigV4AConfig:()=>nR,resolveAwsSdkSigV4Config:()=>Nr,validateSigningProperties:()=>Kn});var Lg=S(()=>{c();uR();Dg()});var bi=v(_i=>{"use strict";c();var J2=re();function Z2(e){return e}var dR=e=>t=>async r=>{if(!J2.HttpRequest.isInstance(r.request))return t(r);let{request:s}=r,{handlerProtocol:n=""}=e.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let o=s.hostname;s.port!=null&&(o+=`:${s.port}`),s.headers.host=o}return t(r)},fR={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},e4=e=>({applyToStack:t=>{t.add(dR(e),fR)}});_i.getHostHeaderPlugin=e4;_i.hostHeaderMiddleware=dR;_i.hostHeaderMiddlewareOptions=fR;_i.resolveHostHeaderConfig=Z2});var Ti=v(Pu=>{"use strict";c();var pR=()=>(e,t)=>async r=>{try{let s=await e(r),{clientName:n,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:l}=a,f=u??t.inputFilterSensitiveLog,d=l??t.outputFilterSensitiveLog,{$metadata:g,...h}=s.output;return i?.info?.({clientName:n,commandName:o,input:f(r.input),output:d(h),metadata:g}),s}catch(s){let{clientName:n,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u}=a,l=u??t.inputFilterSensitiveLog;throw i?.error?.({clientName:n,commandName:o,input:l(r.input),error:s,metadata:s.$metadata}),s}},mR={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},t4=e=>({applyToStack:t=>{t.add(pR(),mR)}});Pu.getLoggerPlugin=t4;Pu.loggerMiddleware=pR;Pu.loggerMiddlewareOptions=mR});var hR=v(Ou=>{"use strict";c();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.recursionDetectionMiddleware=void 0;var r4=(sp(),J(rp)),s4=re(),Ug="X-Amzn-Trace-Id",n4="AWS_LAMBDA_FUNCTION_NAME",o4="_X_AMZN_TRACE_ID",i4=()=>e=>async t=>{let{request:r}=t;if(!s4.HttpRequest.isInstance(r))return e(t);let s=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===Ug.toLowerCase())??Ug;if(r.headers.hasOwnProperty(s))return e(t);let n=process.env[n4],o=process.env[o4],u=(await r4.InvokeStore.getInstanceAsync())?.getXRayTraceId()??o,l=f=>typeof f=="string"&&f.length>0;return l(n)&&l(u)&&(r.headers[Ug]=u),e({...t,request:r})};Ou.recursionDetectionMiddleware=i4});var Ai=v(Nu=>{"use strict";c();var Fg=hR(),a4={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},c4=e=>({applyToStack:t=>{t.add(Fg.recursionDetectionMiddleware(),a4)}});Nu.getRecursionDetectionPlugin=c4;Object.keys(Fg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Nu,e)&&Object.defineProperty(Nu,e,{enumerable:!0,get:function(){return Fg[e]}})})});var Bg,Ot,Gn=S(()=>{c();K();Bg=_(H()),Ot=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let s=r.getMemberSchemas(),n=Object.values(s).find(o=>!!o.getMergedTraits().httpPayload);if(n){let o=n.getMergedTraits().mediaType;return o||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(s).find(i=>{let{httpQuery:a,httpQueryParams:u,httpHeader:l,httpLabel:f,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!u&&!l&&!f&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,s,n,o,i){let a=r,u=t;t.includes("#")&&([a,u]=t.split("#"));let l={$metadata:o,$fault:s.statusCode<500?"client":"server"},f=U.for(a);try{return{errorSchema:i?.(f,u)??f.getSchema(t),errorMetadata:l}}catch{n.message=n.message??n.Message??"UnknownError";let g=U.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let y=g.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new y({name:u}),l),n)}throw this.decorateServiceException(Object.assign(new Error(u),l),n)}}decorateServiceException(t,r={}){if(this.queryCompat){let s=t.Message??r.Message,n=(0,Bg.decorateServiceException)(t,r);s&&(n.message=s),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??s};let o=n.$metadata.requestId;return o&&(n.RequestId=o),n}return(0,Bg.decorateServiceException)(t,r)}setQueryCompatError(t,r){let s=r.headers?.["x-amzn-query-error"];if(t!==void 0&&s!=null){let[n,o]=s.split(";"),i=Object.entries(t),a={Code:n,Type:o};Object.assign(t,a);for(let[u,l]of i)a[u==="message"?"Message":u]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(n=>D.of(n).getMergedTraits().awsQueryError?.[0]===r)}}}});var Mu,gR=S(()=>{c();Mh();K();Gn();Mu=class extends In{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new Ot(this.awsQueryCompatible)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);return this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),n}async handleError(t,r,s,n,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,s);let i=(()=>{let y=s.headers["x-amzn-query-error"];return y&&this.awsQueryCompatible?y.split(";")[0]:vn(s,n)??"Unknown"})(),{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f),h={};for(let[y,b]of l.structIterator())n[y]!=null&&(h[y]=this.deserializer.readValue(b,n[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,h),this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}}});var yR,SR,ER,wR=S(()=>{c();yR=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},SR=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},ER=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var st,ms=S(()=>{c();st=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var _R=v(Du=>{"use strict";c();Object.defineProperty(Du,"__esModule",{value:!0});Du.fromBase64=void 0;var u4=Et(),l4=/^[A-Za-z0-9+/]*={0,2}$/,d4=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!l4.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,u4.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Du.fromBase64=d4});var bR=v(ku=>{"use strict";c();Object.defineProperty(ku,"__esModule",{value:!0});ku.toBase64=void 0;var f4=Et(),p4=Te(),m4=e=>{let t;if(typeof e=="string"?t=(0,p4.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,f4.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ku.toBase64=m4});var Mr=v(xi=>{"use strict";c();var TR=_R(),AR=bR();Object.keys(TR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(xi,e)&&Object.defineProperty(xi,e,{enumerable:!0,get:function(){return TR[e]}})});Object.keys(AR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(xi,e)&&Object.defineProperty(xi,e,{enumerable:!0,get:function(){return AR[e]}})})});function*Wn(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let s=0;s<r[4].length;++s){let n=r[4][s],o=r[5][s],i=new D([o,0],n);!(n in t)&&!i.isIdempotencyToken()||(yield[n,i])}}function*xR(e,t,r){if(e.isUnitSchema())return;let s=e.getSchema(),n=Object.keys(t).filter(o=>o!=="__type").length;for(let o=0;o<s[4].length&&n!==0;++o){let i=s[4][o],a=s[5][o],u=new D([a,0],i),l=i;r&&(l=u.getMergedTraits()[r]??i),l in t&&(yield[i,u],n-=1)}}var Ri=S(()=>{c();K()});var Yn,qg=S(()=>{c();Yn=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(s=>s!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function RR(e,t,r){if(r?.source){let s=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||s!==String(t)))return s.includes(".")?new G(s,"bigDecimal"):BigInt(s)}return t}var CR=S(()=>{c();ke()});var vR,IR,$u,jg=S(()=>{c();vR=_(H()),IR=_(Te()),$u=(e,t)=>(0,vR.collectBody)(e,t).then(r=>(t?.utf8Encoder??IR.toUtf8)(r))});var Ci,PR,Xn,vi=S(()=>{c();jg();Ci=(e,t)=>$u(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(s){throw s?.name==="SyntaxError"&&Object.defineProperty(s,"$responseBodyText",{value:r}),s}return{}}),PR=async(e,t)=>{let r=await Ci(e,t);return r.message=r.message??r.Message,r},Xn=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),s=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return s(t[o]);if(t.__type!==void 0)return s(t.__type)}}});var OR,Jn,Hg=S(()=>{c();Ie();K();ke();OR=_(Mr());ms();Ri();qg();CR();vi();Jn=class extends st{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,RR):await Ci(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let s=r!==null&&typeof r=="object",n=D.of(t);if(s){if(n.isStructSchema()){let i=r,a=n.isUnionSchema(),u={},l,{jsonName:f}=this.settings;f&&(l={});let d;a&&(d=new Yn(i,u));for(let[g,h]of xR(n,i,f?"jsonName":!1)){let y=g;f&&(y=h.getMergedTraits().jsonName??y,l[y]=g),a&&d.mark(y),i[y]!=null&&(u[g]=this._read(h,i[y]))}if(a)d.writeUnknown();else if(typeof i.__type=="string")for(let[g,h]of Object.entries(i)){let y=f?l[g]??g:g;y in u||(u[y]=h)}return u}if(Array.isArray(r)&&n.isListSchema()){let i=n.getValueSchema(),a=[],u=!!n.getMergedTraits().sparse;for(let l of r)(u||l!=null)&&a.push(this._read(i,l));return a}if(n.isMapSchema()){let i=n.getValueSchema(),a={},u=!!n.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(u||f!=null)&&(a[l]=this._read(i,f));return a}}if(n.isBlobSchema()&&typeof r=="string")return(0,OR.fromBase64)(r);let o=n.getMergedTraits().mediaType;if(n.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?Fe.from(r):r;if(n.isTimestampSchema()&&r!=null)switch($e(n,this.settings)){case 5:return Vo(r);case 6:return Qo(r);case 7:return Ko(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(n.isBigDecimalSchema()&&r!=null){if(r instanceof G)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new G(i.string,i.type):new G(String(r),"bigDecimal")}if(n.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(n.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof G?i[a]=u:i[a]=this._read(n,u);return i}else return structuredClone(r);return r}}});var NR,Lu,MR=S(()=>{c();ke();NR="\u039D",Lu=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof G){let s=`${NR+"nv"+this.counter++}_`+r.string;return this.values.set(`"${s}"`,r.string),s}if(typeof r=="bigint"){let s=r.toString(),n=`${NR+"b"+this.counter++}_`+s;return this.values.set(`"${n}"`,s),n}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,s]of this.values)t=t.replace(r,s);return t}}});var zg,Zn,Vg=S(()=>{c();Ie();K();ke();zg=_(Mr());ms();Ri();MR();Zn=class extends st{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=D.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=D.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let s=new Lu;return s.replaceInJson(JSON.stringify(this.buffer,s.createReplacer(),0))}return this.buffer}_write(t,r,s){let n=r!==null&&typeof r=="object",o=D.of(t);if(n){if(o.isStructSchema()){let i=r,a={},{jsonName:u}=this.settings,l;u&&(l={});for(let[f,d]of Wn(o,i)){let g=this._write(d,i[f],o);if(g!==void 0){let h=f;u&&(h=d.getMergedTraits().jsonName??f,l[f]=h),a[h]=g}}if(o.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:f}=i;if(Array.isArray(f)){let[d,g]=f;a[d]=this._write(15,g)}}else if(typeof i.__type=="string")for(let[f,d]of Object.entries(i)){let g=u?l[f]??f:f;g in a||(a[g]=this._write(15,d))}return a}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],u=!!o.getMergedTraits().sparse;for(let l of r)(u||l!=null)&&a.push(this._write(i,l));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},u=!!o.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(u||f!=null)&&(a[l]=this._write(i,f));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??zg.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch($e(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Us(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof G&&(this.useReplacer=!0)}if(!(r===null&&s?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,je.v4)();let i=o.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?Fe.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??zg.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof G?(this.useReplacer=!0,i[a]=u):i[a]=this._write(o,u);return i}else return structuredClone(r);return r}}}});var hs,Uu=S(()=>{c();ms();Hg();Vg();hs=class extends st{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Zn(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Jn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var gs,Fu=S(()=>{c();Ie();K();Gn();Uu();vi();gs=class extends At{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=n??new hs({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!s,this.mixin=new Ot(this.awsQueryCompatible)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);return n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),(lt(t.input)==="unit"||!n.body)&&(n.body="{}"),n}getPayloadCodec(){return this.codec}async handleError(t,r,s,n,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,s);let i=Xn(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f),h={};for(let[y,b]of l.structIterator())n[y]!=null&&(h[y]=this.codec.createDeserializer().readObject(b,n[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,h),this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}}});var Bu,DR=S(()=>{c();Fu();Bu=class extends gs{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var qu,kR=S(()=>{c();Fu();qu=class extends gs{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var ys,$R=S(()=>{c();Ie();K();Gn();Uu();vi();ys=class extends Ht{serializer;deserializer;codec;mixin=new Ot;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new hs(r),this.serializer=new Vt(this.codec.createSerializer(),r),this.deserializer=new zt(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s),o=D.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(n.headers["content-type"]=i)}return n.body==null&&n.headers["content-type"]===this.getDefaultContentType()&&(n.body="{}"),n}async deserializeResponse(t,r,s){let n=await super.deserializeResponse(t,r,s),o=D.of(t.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in n)&&(n[i]=null);return n}async handleError(t,r,s,n,o){let i=Xn(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f);await this.deserializeHttpMessage(a,r,s,n);let h={};for(let[y,b]of l.structIterator()){let R=b.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(b,n[R])}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}getDefaultContentType(){return"application/json"}}});var LR,UR,FR=S(()=>{c();LR=_(H()),UR=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,LR.expectUnion)(e)}});var BR=v(Kg=>{"use strict";c();Object.defineProperty(Kg,"__esModule",{value:!0});Kg.parseXML=g4;var h4=Bh(),Qg=new h4.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Qg.addEntity("#xD","\r");Qg.addEntity("#10",`
`);function g4(e){return Qg.parse(e,!0)}});var zu=v(Hu=>{"use strict";c();var y4=BR();function S4(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function E4(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var ju=class{value;constructor(t){this.value=t}toString(){return E4(""+this.value)}},Gg=class e{name;children;attributes={};static of(t,r,s){let n=new e(t);return r!==void 0&&n.addChildNode(new ju(r)),s!==void 0&&n.withName(s),n}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,s=r){if(t[r]!=null){let n=e.of(r,t[r]).withName(s);this.c(n)}}l(t,r,s,n){t[r]!=null&&n().map(i=>{i.withName(s),this.c(i)})}lc(t,r,s,n){if(t[r]!=null){let o=n(),i=new e(s);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,s=this.attributes;for(let n of Object.keys(s)){let o=s[n];o!=null&&(r+=` ${n}="${S4(""+o)}"`)}return r+=t?`>${this.children.map(n=>n.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Hu,"parseXML",{enumerable:!0,get:function(){return y4.parseXML}});Hu.XmlNode=Gg;Hu.XmlText=ju});var qR,jR,HR,Ss,Vu=S(()=>{c();qR=_(zu());Ie();K();jR=_(H()),HR=_(Te());ms();qg();Ss=class extends st{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new br(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,s){let n=D.of(t),o=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},f=Object.keys(o)[0];return o[f].isBlobSchema()?l[f]=r:l[f]=this.read(o[f],r),l}let a=(this.serdeContext?.utf8Encoder??HR.toUtf8)(r),u=this.parseXml(a);return this.readSchema(t,s?u[s]:u)}readSchema(t,r){let s=D.of(t);if(s.isUnitSchema())return;let n=s.getMergedTraits();if(s.isListSchema()&&!Array.isArray(r))return this.readSchema(s,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!n.sparse,i=!!n.xmlFlattened;if(s.isListSchema()){let u=s.getValueSchema(),l=[],f=u.getMergedTraits().xmlName??"member",d=i?r:(r[0]??r)[f],g=Array.isArray(d)?d:[d];for(let h of g)(h!=null||o)&&l.push(this.readSchema(u,h));return l}let a={};if(s.isMapSchema()){let u=s.getKeySchema(),l=s.getValueSchema(),f;i?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let d=u.getMergedTraits().xmlName??"key",g=l.getMergedTraits().xmlName??"value";for(let h of f){let y=h[d],b=h[g];(b!=null||o)&&(a[y]=this.readSchema(l,b))}return a}if(s.isStructSchema()){let u=s.isUnionSchema(),l;u&&(l=new Yn(r,a));for(let[f,d]of s.structIterator()){let g=d.getMergedTraits(),h=g.httpPayload?g.xmlName??d.getName():d.getMemberTraits().xmlName??f;u&&l.mark(h),r[h]!=null&&(a[f]=this.readSchema(d,r[h]))}return u&&l.writeUnknown(),a}if(s.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${s.getName(!0)}`)}return s.isListSchema()?[]:s.isMapSchema()||s.isStructSchema()?{}:this.stringDeserializer.read(s,r)}parseXml(t){if(t.length){let r;try{r=(0,qR.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let s="#text",n=Object.keys(r)[0],o=r[n];return o[s]&&(o[n]=o[s],delete o[s]),(0,jR.getValueFromTextNode)(o)}return{}}}});var zR,VR,Qu,QR=S(()=>{c();Ie();K();ke();zR=_(H()),VR=_(Mr());ms();Ri();Qu=class extends st{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,s=""){this.buffer===void 0&&(this.buffer="");let n=D.of(t);if(s&&!s.endsWith(".")&&(s+="."),n.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(s),this.writeValue((this.serdeContext?.base64Encoder??VR.toBase64)(r)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())r!=null?(this.writeKey(s),this.writeValue(String(r))):n.isIdempotencyToken()&&(this.writeKey(s),this.writeValue((0,je.v4)()));else if(n.isBigIntegerSchema())r!=null&&(this.writeKey(s),this.writeValue(String(r)));else if(n.isBigDecimalSchema())r!=null&&(this.writeKey(s),this.writeValue(r instanceof G?r.string:String(r)));else if(n.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(s),$e(n,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,zR.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(n.isDocumentSchema())Array.isArray(r)?this.write(79,r,s):r instanceof Date?this.write(4,r,s):r instanceof Uint8Array?this.write(21,r,s):r&&typeof r=="object"?this.write(143,r,s):(this.writeKey(s),this.writeValue(String(r)));else if(n.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(s),this.writeValue(""));else{let o=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened,a=1;for(let u of r){if(u==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),f=i?`${s}${a}`:`${s}${l}.${a}`;this.write(o,u,f),++a}}}else if(n.isMapSchema()){if(r&&typeof r=="object"){let o=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened,u=1;for(let[l,f]of Object.entries(r)){if(f==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),g=a?`${s}${u}.${d}`:`${s}entry.${u}.${d}`,h=this.getKey("value",i.getMergedTraits().xmlName),y=a?`${s}${u}.${h}`:`${s}entry.${u}.${h}`;this.write(o,l,g),this.write(i,f,y),++u}}}else if(n.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[i,a]of Wn(n,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let u=this.getKey(i,a.getMergedTraits().xmlName),l=`${s}${u}`;this.write(a,r[i],l),o=!0}if(!o&&n.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,u]=i,l=`${s}${a}`;this.write(15,u,l)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let s=r??t;return this.settings.capitalizeKeys?s[0].toUpperCase()+s.slice(1):s}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Tt(t)}=`}writeValue(t){this.buffer+=Tt(t)}}});var Es,Wg=S(()=>{c();Ie();K();Gn();Vu();QR();Es=class extends At{options;serializer;deserializer;mixin=new Ot;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Qu(r),this.deserializer=new Ss(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(lt(t.input)==="unit"||!n.body)&&(n.body="");let o=t.name.split("#")[1]??t.name;return n.body=`Action=${o}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(t,r,s){let n=this.deserializer,o=D.of(t.output),i={};if(s.statusCode>=300){let d=await ut(s.body,r);d.byteLength>0&&Object.assign(i,await n.read(15,d)),await this.handleError(t,r,s,i,this.deserializeMetadata(s))}for(let d in s.headers){let g=s.headers[d];delete s.headers[d],s.headers[d.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,u=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await ut(s.body,r);return l.byteLength>0&&Object.assign(i,await n.read(o,l,u)),{$metadata:this.deserializeMetadata(s),...i}}useNestedResult(){return!0}async handleError(t,r,s,n,o){let i=this.loadQueryErrorCode(s,n)??"Unknown",a=this.loadQueryError(n),u=this.loadQueryErrorMessage(n);a.message=u,a.Error={Type:a.Type,Code:a.Code,Message:u};let{errorSchema:l,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,a,o,this.mixin.findQueryCompatibleError),d=D.of(l),g=U.for(l[1]).getErrorCtor(l)??Error,h=new g(u),y={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[b,R]of d.structIterator()){let P=R.getMergedTraits().xmlName??b,N=a[P]??n[P];y[b]=this.deserializer.readSchema(R,N)}throw this.mixin.decorateServiceException(Object.assign(h,f,{$fault:d.getMergedTraits().error,message:u},y),n)}loadQueryErrorCode(t,r){let s=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(s!==void 0)return s;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Ku,KR=S(()=>{c();Wg();Ku=class extends Es{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var GR,WR,Yg,YR,Gu,Xg=S(()=>{c();GR=_(zu()),WR=_(H());jg();Yg=(e,t)=>$u(e,t).then(r=>{if(r.length){let s;try{s=(0,GR.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let n="#text",o=Object.keys(s)[0],i=s[o];return i[n]&&(i[o]=i[n],delete i[n]),(0,WR.getValueFromTextNode)(i)}return{}}),YR=async(e,t)=>{let r=await Yg(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Gu=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var gt,Jg,Wu,eo,Zg=S(()=>{c();gt=_(zu());Ie();K();ke();Jg=_(H()),Wu=_(Mr());ms();Ri();eo=class extends st{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let s=D.of(t);if(s.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(s.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Wu.fromBase64)(r);else{this.buffer=this.writeStruct(s,r,void 0);let n=s.getMergedTraits();n.httpPayload&&!n.xmlName&&this.buffer.withName(s.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,s){let n=t.getMergedTraits(),o=t.isMemberSchema()&&!n.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():n.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=gt.XmlNode.of(o),[a,u]=this.getXmlnsAttribute(t,s);for(let[f,d]of Wn(t,r)){let g=r[f];if(g!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??f,this.writeSimple(d,g));continue}if(d.isListSchema())this.writeList(d,g,i,u);else if(d.isMapSchema())this.writeMap(d,g,i,u);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,g,u));else{let h=gt.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,g,h,u),i.addChildNode(h)}}}let{$unknown:l}=r;if(l&&t.isUnionSchema()&&Array.isArray(l)&&Object.keys(r).length===1){let[f,d]=l,g=gt.XmlNode.of(f);if(typeof d!="string")if(r instanceof gt.XmlNode||r instanceof gt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,d,g,u),i.addChildNode(g)}return u&&i.addAttribute(a,u),i}writeList(t,r,s,n){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),u=!!a.sparse,l=!!o.xmlFlattened,[f,d]=this.getXmlnsAttribute(t,n),g=(h,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],h,d);else if(i.isMapSchema())this.writeMap(i,y,h,d);else if(i.isStructSchema()){let b=this.writeStruct(i,y,d);h.addChildNode(b.withName(l?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let b=gt.XmlNode.of(l?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,y,b,d),h.addChildNode(b)}};if(l)for(let h of r)(u||h!=null)&&g(s,h);else{let h=gt.XmlNode.of(o.xmlName??t.getMemberName());d&&h.addAttribute(f,d);for(let y of r)(u||y!=null)&&g(h,y);s.addChildNode(h)}}writeMap(t,r,s,n,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",f=t.getValueSchema(),d=f.getMergedTraits(),g=d.xmlName??"value",h=!!d.sparse,y=!!i.xmlFlattened,[b,R]=this.getXmlnsAttribute(t,n),P=(N,$,L)=>{let q=gt.XmlNode.of(l,$),[ee,Ae]=this.getXmlnsAttribute(a,R);Ae&&q.addAttribute(ee,Ae),N.addChildNode(q);let Q=gt.XmlNode.of(g);f.isListSchema()?this.writeList(f,L,Q,R):f.isMapSchema()?this.writeMap(f,L,Q,R,!0):f.isStructSchema()?Q=this.writeStruct(f,L,R):this.writeSimpleInto(f,L,Q,R),N.addChildNode(Q)};if(y){for(let[N,$]of Object.entries(r))if(h||$!=null){let L=gt.XmlNode.of(i.xmlName??t.getMemberName());P(L,N,$),s.addChildNode(L)}}else{let N;o||(N=gt.XmlNode.of(i.xmlName??t.getMemberName()),R&&N.addAttribute(b,R),s.addChildNode(N));for(let[$,L]of Object.entries(r))if(h||L!=null){let q=gt.XmlNode.of("entry");P(q,$,L),(o?s:N).addChildNode(q)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let s=D.of(t),n=null;if(r&&typeof r=="object")if(s.isBlobSchema())n=(this.serdeContext?.base64Encoder??Wu.toBase64)(r);else if(s.isTimestampSchema()&&r instanceof Date)switch($e(s,this.settings)){case 5:n=r.toISOString().replace(".000Z","Z");break;case 6:n=(0,Jg.dateToUtcString)(r);break;case 7:n=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),n=(0,Jg.dateToUtcString)(r);break}else{if(s.isBigDecimalSchema()&&r)return r instanceof G?r.string:String(r);throw s.isMapSchema()||s.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${s.getName(!0)}`)}if((s.isBooleanSchema()||s.isNumericSchema()||s.isBigIntegerSchema()||s.isBigDecimalSchema())&&(n=String(r)),s.isStringSchema()&&(r===void 0&&s.isIdempotencyToken()?n=(0,je.v4)():n=String(r)),n===null)throw new Error(`Unhandled schema-value pair ${s.getName(!0)}=${r}`);return n}writeSimpleInto(t,r,s,n){let o=this.writeSimple(t,r),i=D.of(t),a=new gt.XmlText(o),[u,l]=this.getXmlnsAttribute(i,n);l&&s.addAttribute(u,l),s.addChildNode(a)}getXmlnsAttribute(t,r){let s=t.getMergedTraits(),[n,o]=s.xmlNamespace??[];return o&&o!==r?[n?`xmlns:${n}`:"xmlns",o]:[void 0,void 0]}}});var to,ey=S(()=>{c();ms();Vu();Zg();to=class extends st{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new eo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ss(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Yu,XR=S(()=>{c();Ie();K();Gn();Xg();ey();Yu=class extends Ht{codec;serializer;deserializer;mixin=new Ot;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new to(r),this.serializer=new Vt(this.codec.createSerializer(),r),this.deserializer=new zt(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s),o=D.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(n.headers["content-type"]=i)}return typeof n.body=="string"&&n.headers["content-type"]===this.getDefaultContentType()&&!n.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(o)&&(n.body='<?xml version="1.0" encoding="UTF-8"?>'+n.body),n}async deserializeResponse(t,r,s){return super.deserializeResponse(t,r,s)}async handleError(t,r,s,n,o){let i=Gu(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o),l=D.of(a),f=n.Error?.message??n.Error?.Message??n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f);await this.deserializeHttpMessage(a,r,s,n);let h={};for(let[y,b]of l.structIterator()){let R=b.getMergedTraits().xmlName??y,P=n.Error?.[R]??n[R];h[y]=this.codec.createDeserializer().readSchema(b,P)}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var JR={};Ye(JR,{AwsEc2QueryProtocol:()=>Ku,AwsJson1_0Protocol:()=>Bu,AwsJson1_1Protocol:()=>qu,AwsJsonRpcProtocol:()=>gs,AwsQueryProtocol:()=>Es,AwsRestJsonProtocol:()=>ys,AwsRestXmlProtocol:()=>Yu,AwsSmithyRpcV2CborProtocol:()=>Mu,JsonCodec:()=>hs,JsonShapeDeserializer:()=>Jn,JsonShapeSerializer:()=>Zn,XmlCodec:()=>to,XmlShapeDeserializer:()=>Ss,XmlShapeSerializer:()=>eo,_toBool:()=>SR,_toNum:()=>ER,_toStr:()=>yR,awsExpectUnion:()=>UR,loadRestJsonErrorCode:()=>Xn,loadRestXmlErrorCode:()=>Gu,parseJsonBody:()=>Ci,parseJsonErrorBody:()=>PR,parseXmlBody:()=>Yg,parseXmlErrorBody:()=>YR});var ro=S(()=>{c();gR();wR();DR();kR();Fu();$R();Uu();Hg();Vg();FR();vi();KR();Wg();XR();ey();Vu();Zg();Xg()});var Ii={};Ye(Ii,{AWSSDKSigV4Signer:()=>Og,AwsEc2QueryProtocol:()=>Ku,AwsJson1_0Protocol:()=>Bu,AwsJson1_1Protocol:()=>qu,AwsJsonRpcProtocol:()=>gs,AwsQueryProtocol:()=>Es,AwsRestJsonProtocol:()=>ys,AwsRestXmlProtocol:()=>Yu,AwsSdkSigV4ASigner:()=>wi,AwsSdkSigV4Signer:()=>rt,AwsSmithyRpcV2CborProtocol:()=>Mu,JsonCodec:()=>hs,JsonShapeDeserializer:()=>Jn,JsonShapeSerializer:()=>Zn,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ps,NODE_SIGV4A_CONFIG_OPTIONS:()=>oR,XmlCodec:()=>to,XmlShapeDeserializer:()=>Ss,XmlShapeSerializer:()=>eo,_toBool:()=>SR,_toNum:()=>ER,_toStr:()=>yR,awsExpectUnion:()=>UR,emitWarningIfUnsupportedVersion:()=>ls,getBearerTokenEnvKey:()=>Iu,loadRestJsonErrorCode:()=>Xn,loadRestXmlErrorCode:()=>Gu,parseJsonBody:()=>Ci,parseJsonErrorBody:()=>PR,parseXmlBody:()=>Yg,parseXmlErrorBody:()=>YR,resolveAWSSDKSigV4Config:()=>aR,resolveAwsSdkSigV4AConfig:()=>nR,resolveAwsSdkSigV4Config:()=>Nr,setCredentialFeature:()=>ds,setFeature:()=>_0,setTokenFeature:()=>T0,state:()=>_u,validateSigningProperties:()=>Kn});var _t=S(()=>{c();Pt();Lg();ro()});var no=v(so=>{"use strict";c();var w4=(He(),J(zs)),_4=Wr(),b4=re(),lr=(_t(),J(Ii)),rC=void 0;function T4(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function A4(e){let t=w4.normalizeProvider(e.userAgentAppId??rC),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let s=await t();if(!T4(s)){let n=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof s!="string"?n?.warn("userAgentAppId must be a string or undefined."):s.length>50&&n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return s}})}var x4=/\d{12}\.ddb/;async function R4(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&lr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?lr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):lr.setFeature(e,"RETRY_MODE_STANDARD","E"):lr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(x4)&&lr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":lr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":lr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":lr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let n=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source){let o=n;o.accountId&&lr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))lr.setFeature(e,i,a)}}var ZR="user-agent",ty="x-amz-user-agent",eC=" ",ry="/",C4=/[^!$%&'*+\-.^_`|~\w]/g,v4=/[^!$%&'*+\-.^_`|~\w#]/g,tC="-",I4=1024;function P4(e){let t="";for(let r in e){let s=e[r];if(t.length+s.length+1<=I4){t.length?t+=","+s:t+=s;continue}break}return t}var sC=e=>(t,r)=>async s=>{let{request:n}=s;if(!b4.HttpRequest.isInstance(n))return t(s);let{headers:o}=n,i=r?.userAgent?.map(Xu)||[],a=(await e.defaultUserAgentProvider()).map(Xu);await R4(r,e,s);let u=r;a.push(`m/${P4(Object.assign({},r.__smithy_context?.features,u.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Xu)||[],f=await e.userAgentAppId();f&&a.push(Xu(["app",`${f}`]));let d=_4.getUserAgentPrefix(),g=(d?[d]:[]).concat([...a,...i,...l]).join(eC),h=[...a.filter(y=>y.startsWith("aws-sdk-")),...l].join(eC);return e.runtime!=="browser"?(h&&(o[ty]=o[ty]?`${o[ZR]} ${h}`:h),o[ZR]=g):o[ty]=g,t({...s,request:n})},Xu=e=>{let t=e[0].split(ry).map(i=>i.replace(C4,tC)).join(ry),r=e[1]?.replace(v4,tC),s=t.indexOf(ry),n=t.substring(0,s),o=t.substring(s+1);return n==="api"&&(o=o.toLowerCase()),[n,o,r].filter(i=>i&&i.length>0).reduce((i,a,u)=>{switch(u){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},nC={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},O4=e=>({applyToStack:t=>{t.add(sC(e),nC)}});so.DEFAULT_UA_APP_ID=rC;so.getUserAgentMiddlewareOptions=nC;so.getUserAgentPlugin=O4;so.resolveUserAgentConfig=A4;so.userAgentMiddleware=sC});function N4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function M4(e){return{schemeId:"smithy.api#noAuth"}}var Pi,oC,iC,aC,sy=S(()=>{c();_t();Pi=_(dt()),oC=async(e,t,r)=>({operation:(0,Pi.getSmithyContext)(t).operation,region:await(0,Pi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});iC=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(M4(e));break}default:t.push(N4(e))}return t},aC=e=>{let t=Nr(e);return Object.assign(t,{authSchemePreference:(0,Pi.normalizeProvider)(e.authSchemePreference??[])})}});var cC,uC,ny=S(()=>{c();cC=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),uC={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var oo,Ju=S(()=>{oo={name:"@aws-sdk/nested-clients",version:"3.974.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var Oi=v(Xs=>{"use strict";c();var lC=Y("os"),oy=Y("process"),k4=no(),dC={isCrtAvailable:!1},$4=()=>dC.isCrtAvailable?["md/crt-avail"]:null,fC=({serviceId:e,clientVersion:t})=>async r=>{let s=[["aws-sdk-js",t],["ua","2.1"],[`os/${lC.platform()}`,lC.release()],["lang/js"],["md/nodejs",`${oy.versions.node}`]],n=$4();n&&s.push(n),e&&s.push([`api/${e}`,t]),oy.env.AWS_EXECUTION_ENV&&s.push([`exec-env/${oy.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...s,[`app/${o}`]]:[...s]},L4=fC,pC="AWS_SDK_UA_APP_ID",mC="sdk_ua_app_id",U4="sdk-ua-app-id",F4={environmentVariableSelector:e=>e[pC],configFileSelector:e=>e[mC]??e[U4],default:k4.DEFAULT_UA_APP_ID};Xs.NODE_APP_ID_CONFIG_OPTIONS=F4;Xs.UA_APP_ID_ENV_NAME=pC;Xs.UA_APP_ID_INI_NAME=mC;Xs.createDefaultUserAgentProvider=fC;Xs.crtAvailability=dC;Xs.defaultUserAgent=L4});var io=v(yC=>{"use strict";c();var iy=Et(),B4=Te(),q4=Y("buffer"),hC=Y("crypto"),ay=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(B4.toUint8Array(gC(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?hC.createHmac(this.algorithmIdentifier,gC(this.secret)):hC.createHash(this.algorithmIdentifier)}};function gC(e,t){return q4.Buffer.isBuffer(e)?e:typeof e=="string"?iy.fromString(e,t):ArrayBuffer.isView(e)?iy.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):iy.fromArrayBuffer(e)}yC.Hash=ay});var ao=v(SC=>{"use strict";c();var cy=Y("node:fs"),j4=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof cy.ReadStream){if(e.path!=null)return cy.lstatSync(e.path).size;if(typeof e.fd=="number")return cy.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};SC.calculateBodyLength=j4});var co=v(bC=>{"use strict";c();var H4=et(),EC=Gt(),z4=Qe(),V4="AWS_EXECUTION_ENV",wC="AWS_REGION",_C="AWS_DEFAULT_REGION",Q4="AWS_EC2_METADATA_DISABLED",K4=["in-region","cross-region","mobile","standard","legacy"],G4="/latest/meta-data/placement/region",W4="AWS_DEFAULTS_MODE",Y4="defaults_mode",X4={environmentVariableSelector:e=>e[W4],configFileSelector:e=>e[Y4],default:"legacy"},J4=({region:e=EC.loadConfig(H4.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=EC.loadConfig(X4)}={})=>z4.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Z4(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${K4.join(", ")}, got ${r}`)}}),Z4=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await ez();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},ez=async()=>{if(process.env[V4]&&(process.env[wC]||process.env[_C]))return process.env[wC]??process.env[_C];if(!process.env[Q4])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>_(Si())),r=await e();return(await t({...r,path:G4})).toString()}catch{}};bC.resolveDefaultsModeConfig=J4});var NC,Mt,Dt,fo,TC,Ni,uo,lo,Dr,uy,ly,AC,xC,RC,MC,DC,Nt,CC,kC,vC,IC,PC,OC,tz,$C,LC=S(()=>{c();NC="required",Mt="fn",Dt="argv",fo="ref",TC="isSet",Ni="booleanEquals",uo="error",lo="endpoint",Dr="tree",uy="PartitionResult",ly="getAttr",AC={[NC]:!1,type:"string"},xC={[NC]:!0,default:!1,type:"boolean"},RC={[fo]:"Endpoint"},MC={[Mt]:Ni,[Dt]:[{[fo]:"UseFIPS"},!0]},DC={[Mt]:Ni,[Dt]:[{[fo]:"UseDualStack"},!0]},Nt={},CC={[Mt]:ly,[Dt]:[{[fo]:uy},"supportsFIPS"]},kC={[fo]:uy},vC={[Mt]:Ni,[Dt]:[!0,{[Mt]:ly,[Dt]:[kC,"supportsDualStack"]}]},IC=[MC],PC=[DC],OC=[{[fo]:"Region"}],tz={version:"1.0",parameters:{Region:AC,UseDualStack:xC,UseFIPS:xC,Endpoint:AC},rules:[{conditions:[{[Mt]:TC,[Dt]:[RC]}],rules:[{conditions:IC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:uo},{conditions:PC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:uo},{endpoint:{url:RC,properties:Nt,headers:Nt},type:lo}],type:Dr},{conditions:[{[Mt]:TC,[Dt]:OC}],rules:[{conditions:[{[Mt]:"aws.partition",[Dt]:OC,assign:uy}],rules:[{conditions:[MC,DC],rules:[{conditions:[{[Mt]:Ni,[Dt]:[!0,CC]},vC],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:lo}],type:Dr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:uo}],type:Dr},{conditions:IC,rules:[{conditions:[{[Mt]:Ni,[Dt]:[CC,!0]}],rules:[{conditions:[{[Mt]:"stringEquals",[Dt]:[{[Mt]:ly,[Dt]:[kC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Nt,headers:Nt},type:lo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:lo}],type:Dr},{error:"FIPS is enabled but this partition does not support FIPS",type:uo}],type:Dr},{conditions:PC,rules:[{conditions:[vC],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:lo}],type:Dr},{error:"DualStack is enabled but this partition does not support DualStack",type:uo}],type:Dr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:lo}],type:Dr}],type:Dr},{error:"Invalid Configuration: Missing Region",type:uo}]},$C=tz});var UC,po,rz,FC,BC=S(()=>{c();UC=_(Wr()),po=_(Gr());LC();rz=new po.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),FC=(e,t={})=>rz.get(e,()=>(0,po.resolveEndpoint)($C,{endpointParams:e,logger:t.logger}));po.customEndpointFunctions.aws=UC.awsEndpointFunctions});var qC,jC,Zu,el,HC,zC=S(()=>{c();_t();ro();He();qC=_(H()),jC=_(Ar()),Zu=_(Mr()),el=_(Te());sy();BC();HC=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Zu.fromBase64,base64Encoder:e?.base64Encoder??Zu.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??FC,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??iC,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:e?.logger??new qC.NoOpLogger,protocol:e?.protocol??ys,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??jC.parseUrl,utf8Decoder:e?.utf8Decoder??el.fromUtf8,utf8Encoder:e?.utf8Encoder??el.toUtf8})});var tl,_s,VC,rl,ws,sl,nl,QC,KC,GC,WC,YC=S(()=>{c();Ju();_t();tl=_(Oi()),_s=_(et()),VC=_(io()),rl=_(Wt()),ws=_(Gt()),sl=_(Vr()),nl=_(H()),QC=_(ao()),KC=_(co()),GC=_(Ys());zC();WC=e=>{(0,nl.emitWarningIfUnsupportedVersion)(process.version);let t=(0,KC.resolveDefaultsModeConfig)(e),r=()=>t().then(nl.loadConfigsForDefaultMode),s=HC(e);ls(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ws.loadConfig)(ps,n),bodyLengthChecker:e?.bodyLengthChecker??QC.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,tl.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:oo.version}),maxAttempts:e?.maxAttempts??(0,ws.loadConfig)(rl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ws.loadConfig)(_s.NODE_REGION_CONFIG_OPTIONS,{..._s.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:sl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ws.loadConfig)({...rl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||GC.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??VC.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??sl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ws.loadConfig)(_s.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,ws.loadConfig)(_s.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,ws.loadConfig)(tl.NODE_APP_ID_CONFIG_OPTIONS,n)}}});var JC=v(mo=>{"use strict";c();Object.defineProperty(mo,"__esModule",{value:!0});mo.warning=void 0;mo.stsRegionDefaultResolver=nz;var XC=et(),sz=Gt();function nz(e={}){return(0,sz.loadConfig)({...XC.NODE_REGION_CONFIG_OPTIONS,async default(){return mo.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...XC.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}mo.warning={silence:!1}});var ho=v(dr=>{"use strict";c();var ZC=JC(),Mi=et(),oz=e=>({setRegion(t){e.region=t},region(){return e.region}}),iz=e=>({region:e.region()});Object.defineProperty(dr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Mi.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(dr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Mi.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(dr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Mi.REGION_ENV_NAME}});Object.defineProperty(dr,"REGION_INI_NAME",{enumerable:!0,get:function(){return Mi.REGION_INI_NAME}});Object.defineProperty(dr,"resolveRegionConfig",{enumerable:!0,get:function(){return Mi.resolveRegionConfig}});dr.getAwsRegionExtensionConfiguration=oz;dr.resolveAwsRegionExtensionConfiguration=iz;Object.keys(ZC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(dr,e)&&Object.defineProperty(dr,e,{enumerable:!0,get:function(){return ZC[e]}})})});var ev,tv,rv=S(()=>{c();ev=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},tv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ol,il,al,sv,nv=S(()=>{c();ol=_(ho()),il=_(re()),al=_(H());rv();sv=(e,t)=>{let r=Object.assign((0,ol.getAwsRegionExtensionConfiguration)(e),(0,al.getDefaultExtensionConfiguration)(e),(0,il.getHttpHandlerExtensionConfiguration)(e),ev(e));return t.forEach(s=>s.configure(r)),Object.assign(e,(0,ol.resolveAwsRegionExtensionConfiguration)(r),(0,al.resolveDefaultRuntimeConfig)(r),(0,il.resolveHttpHandlerRuntimeConfig)(r),tv(r))}});var cl,ov,iv,ul,av,cv,uv,ll,dy,Di,fy=S(()=>{c();cl=_(bi()),ov=_(Ti()),iv=_(Ai()),ul=_(no()),av=_(et());He();K();cv=_(jn()),uv=_(cr()),ll=_(Wt()),dy=_(H());sy();ny();YC();nv();Di=class extends dy.Client{config;constructor(...[t]){let r=WC(t||{});super(r),this.initConfig=r;let s=cC(r),n=(0,ul.resolveUserAgentConfig)(s),o=(0,ll.resolveRetryConfig)(n),i=(0,av.resolveRegionConfig)(o),a=(0,cl.resolveHostHeaderConfig)(i),u=(0,uv.resolveEndpointConfig)(a),l=aC(u),f=sv(l,t?.extensions||[]);this.config=f,this.middlewareStack.use($s(this.config)),this.middlewareStack.use((0,ul.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ll.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cv.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,cl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ov.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iv.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(js(this.config,{httpAuthSchemeParametersProvider:oC,identityProviderConfigProvider:async d=>new Tr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Hs(this.config))}destroy(){super.destroy()}}});var lv,ze,dl=S(()=>{c();lv=_(H()),ze=class e extends lv.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ki,$i,Li,Ui,Fi,Bi,qi,ji,Hi,zi,Vi,py=S(()=>{c();dl();ki=class e extends ze{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},$i=class e extends ze{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Li=class e extends ze{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ui=class e extends ze{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Fi=class e extends ze{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Bi=class e extends ze{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qi=class e extends ze{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},ji=class e extends ze{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Hi=class e extends ze{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zi=class e extends ze{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vi=class e extends ze{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var az,cz,uz,lz,dz,fz,pz,mz,hz,gz,yz,Sz,Ez,wz,_z,bz,Tz,Az,xz,Rz,fr,Cz,vz,Iz,Pz,Oz,Me,Nz,Yt,Mz,Dz,Xt,kz,dv,fv,$z,Lz,Uz,pv,Fz,le,Bz,qz,jz,Hz,mv,hv,gv,yv,Sv,Ev,wv,_v,bv,Tv,Av,xv,Rv,Cv,vv,my,hy=S(()=>{c();K();py();dl();az="AccessDeniedException",cz="AuthorizationPendingException",uz="AccessToken",lz="ClientSecret",dz="CreateToken",fz="CreateTokenRequest",pz="CreateTokenResponse",mz="CodeVerifier",hz="ExpiredTokenException",gz="InvalidClientException",yz="InvalidGrantException",Sz="InvalidRequestException",Ez="InternalServerException",wz="InvalidScopeException",_z="IdToken",bz="RefreshToken",Tz="SlowDownException",Az="UnauthorizedClientException",xz="UnsupportedGrantTypeException",Rz="accessToken",fr="client",Cz="clientId",vz="clientSecret",Iz="codeVerifier",Pz="code",Oz="deviceCode",Me="error",Nz="expiresIn",Yt="error_description",Mz="grantType",Dz="http",Xt="httpError",kz="idToken",dv="reason",fv="refreshToken",$z="redirectUri",Lz="scope",Uz="server",pv="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",Fz="tokenType",le="com.amazonaws.ssooidc",Bz=[0,le,uz,8,0],qz=[0,le,lz,8,0],jz=[0,le,mz,8,0],Hz=[0,le,_z,8,0],mv=[0,le,bz,8,0],hv=[-3,le,az,{[Me]:fr,[Xt]:400},[Me,dv,Yt],[0,0,0]];U.for(le).registerError(hv,ki);gv=[-3,le,cz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(gv,$i);yv=[3,le,fz,0,[Cz,vz,Mz,Oz,Pz,fv,Lz,$z,Iz],[0,[()=>qz,0],0,0,0,[()=>mv,0],64,0,[()=>jz,0]],3],Sv=[3,le,pz,0,[Rz,Fz,Nz,fv,kz],[[()=>Bz,0],0,1,[()=>mv,0],[()=>Hz,0]]],Ev=[-3,le,hz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Ev,Li);wv=[-3,le,Ez,{[Me]:Uz,[Xt]:500},[Me,Yt],[0,0]];U.for(le).registerError(wv,Ui);_v=[-3,le,gz,{[Me]:fr,[Xt]:401},[Me,Yt],[0,0]];U.for(le).registerError(_v,Fi);bv=[-3,le,yz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(bv,Bi);Tv=[-3,le,Sz,{[Me]:fr,[Xt]:400},[Me,dv,Yt],[0,0,0]];U.for(le).registerError(Tv,qi);Av=[-3,le,wz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Av,ji);xv=[-3,le,Tz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(xv,Hi);Rv=[-3,le,Az,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Rv,zi);Cv=[-3,le,xz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Cv,Vi);vv=[-3,pv,"SSOOIDCServiceException",0,[],[]];U.for(pv).registerError(vv,ze);my=[9,le,dz,{[Dz]:["POST","/token",200]},()=>yv,()=>Sv]});var Iv,gy,Qi,yy=S(()=>{c();Iv=_(cr()),gy=_(H());ny();hy();Qi=class extends gy.Command.classBuilder().ep(uC).m(function(t,r,s,n){return[(0,Iv.getEndpointPlugin)(s,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(my).build(){}});var Pv,zz,fl,Ov=S(()=>{c();Pv=_(H());yy();fy();zz={CreateTokenCommand:Qi},fl=class extends Di{};(0,Pv.createAggregatedClient)(zz,fl)});var Nv=S(()=>{c();yy()});var Vz,Qz,Mv=S(()=>{c();Vz={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Qz={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var Dv=S(()=>{c()});var Sy={};Ye(Sy,{$Command:()=>gy.Command,AccessDeniedException:()=>ki,AccessDeniedException$:()=>hv,AccessDeniedExceptionReason:()=>Vz,AuthorizationPendingException:()=>$i,AuthorizationPendingException$:()=>gv,CreateToken$:()=>my,CreateTokenCommand:()=>Qi,CreateTokenRequest$:()=>yv,CreateTokenResponse$:()=>Sv,ExpiredTokenException:()=>Li,ExpiredTokenException$:()=>Ev,InternalServerException:()=>Ui,InternalServerException$:()=>wv,InvalidClientException:()=>Fi,InvalidClientException$:()=>_v,InvalidGrantException:()=>Bi,InvalidGrantException$:()=>bv,InvalidRequestException:()=>qi,InvalidRequestException$:()=>Tv,InvalidRequestExceptionReason:()=>Qz,InvalidScopeException:()=>ji,InvalidScopeException$:()=>Av,SSOOIDC:()=>fl,SSOOIDCClient:()=>Di,SSOOIDCServiceException:()=>ze,SSOOIDCServiceException$:()=>vv,SlowDownException:()=>Hi,SlowDownException$:()=>xv,UnauthorizedClientException:()=>zi,UnauthorizedClientException$:()=>Rv,UnsupportedGrantTypeException:()=>Vi,UnsupportedGrantTypeException$:()=>Cv,__Client:()=>dy.Client});var Ey=S(()=>{c();fy();Ov();Nv();hy();Mv();py();Dv();dl()});var Uv=v(Gi=>{"use strict";c();var Kz=(Pt(),J(Or)),Gz=(Lg(),J(lR)),Rt=Qe(),Ki=ar(),Wz=Y("fs"),Yz=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Rt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=Gz.getBearerTokenEnvKey(t);if(!(r in process.env))throw new Rt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let s={token:process.env[r]};return Kz.setTokenFeature(s,"BEARER_SERVICE_ENV_VARS","3"),s},Xz=5*60*1e3,wy="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Jz=async(e,t={},r)=>{let{SSOOIDCClient:s}=await Promise.resolve().then(()=>(Ey(),Sy)),n=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new s(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))},Zz=async(e,t,r={},s)=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Ey(),Sy));return(await Jz(t,r,s)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},kv=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Rt.TokenProviderError(`Token is expired. ${wy}`,!1)},Js=(e,t,r=!1)=>{if(typeof t>"u")throw new Rt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${wy}`,!1)},{writeFile:eV}=Wz.promises,tV=(e,t)=>{let r=Ki.getSSOTokenFilepath(e),s=JSON.stringify(t,null,2);return eV(r,s)},$v=new Date(0),Lv=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Ki.parseKnownFiles(e),s=Ki.getProfileName({profile:e.profile??t?.profile}),n=r[s];if(n){if(!n.sso_session)throw new Rt.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new Rt.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=n.sso_session,a=(await Ki.loadSsoSessionData(e))[o];if(!a)throw new Rt.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new Rt.TokenProviderError(`Sso session '${o}' is missing required property '${h}'.`,!1);a.sso_start_url;let u=a.sso_region,l;try{l=await Ki.getSSOTokenFromFile(o)}catch{throw new Rt.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${wy}`,!1)}Js("accessToken",l.accessToken),Js("expiresAt",l.expiresAt);let{accessToken:f,expiresAt:d}=l,g={token:f,expiration:new Date(d)};if(g.expiration.getTime()-Date.now()>Xz)return g;if(Date.now()-$v.getTime()<30*1e3)return kv(g),g;Js("clientId",l.clientId,!0),Js("clientSecret",l.clientSecret,!0),Js("refreshToken",l.refreshToken,!0);try{$v.setTime(Date.now());let h=await Zz(l,u,e,t);Js("accessToken",h.accessToken),Js("expiresIn",h.expiresIn);let y=new Date(Date.now()+h.expiresIn*1e3);try{await tV(o,{...l,accessToken:h.accessToken,expiresAt:y.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:y}}catch{return kv(g),g}},rV=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Rt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},sV=(e={})=>Rt.memoize(Rt.chain(Lv(e),async()=>{throw new Rt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Gi.fromEnvSigningName=Yz;Gi.fromSso=Lv;Gi.fromStatic=rV;Gi.nodeProvider=sV});var by=v(bs=>{"use strict";c();Object.defineProperty(bs,"__esModule",{value:!0});bs.resolveHttpAuthSchemeConfig=bs.defaultSSOHttpAuthSchemeProvider=bs.defaultSSOHttpAuthSchemeParametersProvider=void 0;var nV=(_t(),J(Ii)),_y=dt(),oV=async(e,t,r)=>({operation:(0,_y.getSmithyContext)(t).operation,region:await(0,_y.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});bs.defaultSSOHttpAuthSchemeParametersProvider=oV;function iV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function pl(e){return{schemeId:"smithy.api#noAuth"}}var aV=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(pl(e));break}case"ListAccountRoles":{t.push(pl(e));break}case"ListAccounts":{t.push(pl(e));break}case"Logout":{t.push(pl(e));break}default:t.push(iV(e))}return t};bs.defaultSSOHttpAuthSchemeProvider=aV;var cV=e=>{let t=(0,nV.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,_y.normalizeProvider)(e.authSchemePreference??[])})};bs.resolveHttpAuthSchemeConfig=cV});var Fv=v((Nle,uV)=>{uV.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.974.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var eI=v(ml=>{"use strict";c();Object.defineProperty(ml,"__esModule",{value:!0});ml.ruleSet=void 0;var Yv="required",$t="fn",Lt="argv",So="ref",Bv=!0,qv="isSet",Wi="booleanEquals",go="error",yo="endpoint",kr="tree",Ty="PartitionResult",Ay="getAttr",jv={[Yv]:!1,type:"string"},Hv={[Yv]:!0,default:!1,type:"boolean"},zv={[So]:"Endpoint"},Xv={[$t]:Wi,[Lt]:[{[So]:"UseFIPS"},!0]},Jv={[$t]:Wi,[Lt]:[{[So]:"UseDualStack"},!0]},kt={},Vv={[$t]:Ay,[Lt]:[{[So]:Ty},"supportsFIPS"]},Zv={[So]:Ty},Qv={[$t]:Wi,[Lt]:[!0,{[$t]:Ay,[Lt]:[Zv,"supportsDualStack"]}]},Kv=[Xv],Gv=[Jv],Wv=[{[So]:"Region"}],lV={version:"1.0",parameters:{Region:jv,UseDualStack:Hv,UseFIPS:Hv,Endpoint:jv},rules:[{conditions:[{[$t]:qv,[Lt]:[zv]}],rules:[{conditions:Kv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:go},{conditions:Gv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:go},{endpoint:{url:zv,properties:kt,headers:kt},type:yo}],type:kr},{conditions:[{[$t]:qv,[Lt]:Wv}],rules:[{conditions:[{[$t]:"aws.partition",[Lt]:Wv,assign:Ty}],rules:[{conditions:[Xv,Jv],rules:[{conditions:[{[$t]:Wi,[Lt]:[Bv,Vv]},Qv],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:kt,headers:kt},type:yo}],type:kr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:go}],type:kr},{conditions:Kv,rules:[{conditions:[{[$t]:Wi,[Lt]:[Vv,Bv]}],rules:[{conditions:[{[$t]:"stringEquals",[Lt]:[{[$t]:Ay,[Lt]:[Zv,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:kt,headers:kt},type:yo},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:kt,headers:kt},type:yo}],type:kr},{error:"FIPS is enabled but this partition does not support FIPS",type:go}],type:kr},{conditions:Gv,rules:[{conditions:[Qv],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:kt,headers:kt},type:yo}],type:kr},{error:"DualStack is enabled but this partition does not support DualStack",type:go}],type:kr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:kt,headers:kt},type:yo}],type:kr}],type:kr},{error:"Invalid Configuration: Missing Region",type:go}]};ml.ruleSet=lV});var tI=v(hl=>{"use strict";c();Object.defineProperty(hl,"__esModule",{value:!0});hl.defaultEndpointResolver=void 0;var dV=Wr(),xy=Gr(),fV=eI(),pV=new xy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),mV=(e,t={})=>pV.get(e,()=>(0,xy.resolveEndpoint)(fV.ruleSet,{endpointParams:e,logger:t.logger}));hl.defaultEndpointResolver=mV;xy.customEndpointFunctions.aws=dV.awsEndpointFunctions});var nI=v(gl=>{"use strict";c();Object.defineProperty(gl,"__esModule",{value:!0});gl.getRuntimeConfig=void 0;var hV=(_t(),J(Ii)),gV=(ro(),J(JR)),yV=(He(),J(zs)),SV=H(),EV=Ar(),rI=Mr(),sI=Te(),wV=by(),_V=tI(),bV=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??rI.fromBase64,base64Encoder:e?.base64Encoder??rI.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_V.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??wV.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new hV.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new yV.NoAuthSigner}],logger:e?.logger??new SV.NoOpLogger,protocol:e?.protocol??gV.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??EV.parseUrl,utf8Decoder:e?.utf8Decoder??sI.fromUtf8,utf8Encoder:e?.utf8Encoder??sI.toUtf8});gl.getRuntimeConfig=bV});var lI=v(Sl=>{"use strict";c();Object.defineProperty(Sl,"__esModule",{value:!0});Sl.getRuntimeConfig=void 0;var TV=(Bs(),J(Fs)),AV=TV.__importDefault(Fv()),oI=(_t(),J(Ii)),iI=Oi(),yl=et(),xV=io(),aI=Wt(),Zs=Gt(),cI=Vr(),uI=H(),RV=ao(),CV=co(),vV=Ys(),IV=nI(),PV=e=>{(0,uI.emitWarningIfUnsupportedVersion)(process.version);let t=(0,CV.resolveDefaultsModeConfig)(e),r=()=>t().then(uI.loadConfigsForDefaultMode),s=(0,IV.getRuntimeConfig)(e);(0,oI.emitWarningIfUnsupportedVersion)(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Zs.loadConfig)(oI.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,n),bodyLengthChecker:e?.bodyLengthChecker??RV.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,iI.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:AV.default.version}),maxAttempts:e?.maxAttempts??(0,Zs.loadConfig)(aI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Zs.loadConfig)(yl.NODE_REGION_CONFIG_OPTIONS,{...yl.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:cI.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Zs.loadConfig)({...aI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||vV.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??xV.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??cI.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Zs.loadConfig)(yl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,Zs.loadConfig)(yl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,Zs.loadConfig)(iI.NODE_APP_ID_CONFIG_OPTIONS,n)}};Sl.getRuntimeConfig=PV});var jI=v(se=>{"use strict";c();var dI=bi(),OV=Ti(),NV=Ai(),fI=no(),MV=et(),Yi=(He(),J(zs)),wo=(K(),J(ac)),DV=jn(),Zi=cr(),pI=Wt(),Jt=H(),mI=by(),kV=lI(),hI=ho(),gI=re(),$V=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Rl={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},LV=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},UV=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),FV=(e,t)=>{let r=Object.assign(hI.getAwsRegionExtensionConfiguration(e),Jt.getDefaultExtensionConfiguration(e),gI.getHttpHandlerExtensionConfiguration(e),LV(e));return t.forEach(s=>s.configure(r)),Object.assign(e,hI.resolveAwsRegionExtensionConfiguration(r),Jt.resolveDefaultRuntimeConfig(r),gI.resolveHttpHandlerRuntimeConfig(r),UV(r))},Eo=class extends Jt.Client{config;constructor(...[t]){let r=kV.getRuntimeConfig(t||{});super(r),this.initConfig=r;let s=$V(r),n=fI.resolveUserAgentConfig(s),o=pI.resolveRetryConfig(n),i=MV.resolveRegionConfig(o),a=dI.resolveHostHeaderConfig(i),u=Zi.resolveEndpointConfig(a),l=mI.resolveHttpAuthSchemeConfig(u),f=FV(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(wo.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(fI.getUserAgentPlugin(this.config)),this.middlewareStack.use(pI.getRetryPlugin(this.config)),this.middlewareStack.use(DV.getContentLengthPlugin(this.config)),this.middlewareStack.use(dI.getHostHeaderPlugin(this.config)),this.middlewareStack.use(OV.getLoggerPlugin(this.config)),this.middlewareStack.use(NV.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Yi.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:mI.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async d=>new Yi.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Yi.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Ts=class e extends Jt.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},El=class e extends Ts{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wl=class e extends Ts{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_l=class e extends Ts{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bl=class e extends Ts{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},BV="AccountInfo",qV="AccountListType",jV="AccessTokenType",HV="GetRoleCredentials",zV="GetRoleCredentialsRequest",VV="GetRoleCredentialsResponse",QV="InvalidRequestException",KV="Logout",GV="ListAccounts",WV="ListAccountsRequest",YV="ListAccountRolesRequest",XV="ListAccountRolesResponse",JV="ListAccountsResponse",ZV="ListAccountRoles",e3="LogoutRequest",t3="RoleCredentials",r3="RoleInfo",s3="RoleListType",n3="ResourceNotFoundException",o3="SecretAccessKeyType",i3="SessionTokenType",a3="TooManyRequestsException",c3="UnauthorizedException",Cl="accountId",u3="accessKeyId",l3="accountList",d3="accountName",vl="accessToken",yI="account_id",Il="client",Pl="error",f3="emailAddress",p3="expiration",Ol="http",Nl="httpError",Ml="httpHeader",en="httpQuery",Dl="message",SI="maxResults",EI="max_result",kl="nextToken",wI="next_token",m3="roleCredentials",h3="roleList",_I="roleName",g3="role_name",bI="smithy.ts.sdk.synthetic.com.amazonaws.sso",y3="secretAccessKey",S3="sessionToken",$l="x-amz-sso_bearer_token",_e="com.amazonaws.sso",Ll=[0,_e,jV,8,0],E3=[0,_e,o3,8,0],w3=[0,_e,i3,8,0],TI=[3,_e,BV,0,[Cl,d3,f3],[0,0,0]],AI=[3,_e,zV,0,[_I,Cl,vl],[[0,{[en]:g3}],[0,{[en]:yI}],[()=>Ll,{[Ml]:$l}]],3],xI=[3,_e,VV,0,[m3],[[()=>MI,0]]],RI=[-3,_e,QV,{[Pl]:Il,[Nl]:400},[Dl],[0]];wo.TypeRegistry.for(_e).registerError(RI,El);var CI=[3,_e,YV,0,[vl,Cl,kl,SI],[[()=>Ll,{[Ml]:$l}],[0,{[en]:yI}],[0,{[en]:wI}],[1,{[en]:EI}]],2],vI=[3,_e,XV,0,[kl,h3],[0,()=>T3]],II=[3,_e,WV,0,[vl,kl,SI],[[()=>Ll,{[Ml]:$l}],[0,{[en]:wI}],[1,{[en]:EI}]],1],PI=[3,_e,JV,0,[kl,l3],[0,()=>b3]],OI=[3,_e,e3,0,[vl],[[()=>Ll,{[Ml]:$l}]],1],NI=[-3,_e,n3,{[Pl]:Il,[Nl]:404},[Dl],[0]];wo.TypeRegistry.for(_e).registerError(NI,wl);var MI=[3,_e,t3,0,[u3,y3,S3,p3],[0,[()=>E3,0],[()=>w3,0],1]],DI=[3,_e,r3,0,[_I,Cl],[0,0]],kI=[-3,_e,a3,{[Pl]:Il,[Nl]:429},[Dl],[0]];wo.TypeRegistry.for(_e).registerError(kI,_l);var $I=[-3,_e,c3,{[Pl]:Il,[Nl]:401},[Dl],[0]];wo.TypeRegistry.for(_e).registerError($I,bl);var _3="unit",LI=[-3,bI,"SSOServiceException",0,[],[]];wo.TypeRegistry.for(bI).registerError(LI,Ts);var b3=[1,_e,qV,0,()=>TI],T3=[1,_e,s3,0,()=>DI],UI=[9,_e,HV,{[Ol]:["GET","/federation/credentials",200]},()=>AI,()=>xI],FI=[9,_e,ZV,{[Ol]:["GET","/assignment/roles",200]},()=>CI,()=>vI],BI=[9,_e,GV,{[Ol]:["GET","/assignment/accounts",200]},()=>II,()=>PI],qI=[9,_e,KV,{[Ol]:["POST","/logout",200]},()=>OI,()=>_3],Tl=class extends Jt.Command.classBuilder().ep(Rl).m(function(t,r,s,n){return[Zi.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(UI).build(){},Xi=class extends Jt.Command.classBuilder().ep(Rl).m(function(t,r,s,n){return[Zi.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(FI).build(){},Ji=class extends Jt.Command.classBuilder().ep(Rl).m(function(t,r,s,n){return[Zi.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(BI).build(){},Al=class extends Jt.Command.classBuilder().ep(Rl).m(function(t,r,s,n){return[Zi.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(qI).build(){},A3={GetRoleCredentialsCommand:Tl,ListAccountRolesCommand:Xi,ListAccountsCommand:Ji,LogoutCommand:Al},xl=class extends Eo{};Jt.createAggregatedClient(A3,xl);var x3=Yi.createPaginator(Eo,Xi,"nextToken","nextToken","maxResults"),R3=Yi.createPaginator(Eo,Ji,"nextToken","nextToken","maxResults");Object.defineProperty(se,"$Command",{enumerable:!0,get:function(){return Jt.Command}});Object.defineProperty(se,"__Client",{enumerable:!0,get:function(){return Jt.Client}});se.AccountInfo$=TI;se.GetRoleCredentials$=UI;se.GetRoleCredentialsCommand=Tl;se.GetRoleCredentialsRequest$=AI;se.GetRoleCredentialsResponse$=xI;se.InvalidRequestException=El;se.InvalidRequestException$=RI;se.ListAccountRoles$=FI;se.ListAccountRolesCommand=Xi;se.ListAccountRolesRequest$=CI;se.ListAccountRolesResponse$=vI;se.ListAccounts$=BI;se.ListAccountsCommand=Ji;se.ListAccountsRequest$=II;se.ListAccountsResponse$=PI;se.Logout$=qI;se.LogoutCommand=Al;se.LogoutRequest$=OI;se.ResourceNotFoundException=wl;se.ResourceNotFoundException$=NI;se.RoleCredentials$=MI;se.RoleInfo$=DI;se.SSO=xl;se.SSOClient=Eo;se.SSOServiceException=Ts;se.SSOServiceException$=LI;se.TooManyRequestsException=_l;se.TooManyRequestsException$=kI;se.UnauthorizedException=bl;se.UnauthorizedException$=$I;se.paginateListAccountRoles=x3;se.paginateListAccounts=R3});var zI=v(Ry=>{"use strict";c();var HI=jI();Object.defineProperty(Ry,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return HI.GetRoleCredentialsCommand}});Object.defineProperty(Ry,"SSOClient",{enumerable:!0,get:function(){return HI.SSOClient}})});var Cy=v(Fl=>{"use strict";c();var Zt=Qe(),Ul=ar(),VI=(Pt(),J(Or)),C3=Uv(),KI=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ea=!1,QI=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:s,ssoRoleName:n,ssoClient:o,clientConfig:i,parentClientConfig:a,callerClientConfig:u,profile:l,filepath:f,configFilepath:d,ignoreCache:g,logger:h})=>{let y,b="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let St=await C3.fromSso({profile:l,filepath:f,configFilepath:d,ignoreCache:g})();y={accessToken:St.token,expiresAt:new Date(St.expiration).toISOString()}}catch(St){throw new Zt.CredentialsProviderError(St.message,{tryNextLink:ea,logger:h})}else try{y=await Ul.getSSOTokenFromFile(e)}catch{throw new Zt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${b}`,{tryNextLink:ea,logger:h})}if(new Date(y.expiresAt).getTime()-Date.now()<=0)throw new Zt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${b}`,{tryNextLink:ea,logger:h});let{accessToken:R}=y,{SSOClient:P,GetRoleCredentialsCommand:N}=await Promise.resolve().then(function(){return zI()}),$=o||new P(Object.assign({},i??{},{logger:i?.logger??u?.logger??a?.logger,region:i?.region??s,userAgentAppId:i?.userAgentAppId??u?.userAgentAppId??a?.userAgentAppId})),L;try{L=await $.send(new N({accountId:r,roleName:n,accessToken:R}))}catch(St){throw new Zt.CredentialsProviderError(St,{tryNextLink:ea,logger:h})}let{roleCredentials:{accessKeyId:q,secretAccessKey:ee,sessionToken:Ae,expiration:Q,credentialScope:ne,accountId:Ee}={}}=L;if(!q||!ee||!Ae||!Q)throw new Zt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ea,logger:h});let Ve={accessKeyId:q,secretAccessKey:ee,sessionToken:Ae,expiration:new Date(Q),...ne&&{credentialScope:ne},...Ee&&{accountId:Ee}};return t?VI.setCredentialFeature(Ve,"CREDENTIALS_SSO","s"):VI.setCredentialFeature(Ve,"CREDENTIALS_SSO_LEGACY","u"),Ve},GI=(e,t)=>{let{sso_start_url:r,sso_account_id:s,sso_region:n,sso_role_name:o}=e;if(!r||!s||!n||!o)throw new Zt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},v3=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:s,ssoRegion:n,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,u=Ul.getProfileName({profile:e.profile??t?.profile});if(!r&&!s&&!n&&!o&&!i){let f=(await Ul.parseKnownFiles(e))[u];if(!f)throw new Zt.CredentialsProviderError(`Profile ${u} was not found.`,{logger:e.logger});if(!KI(f))throw new Zt.CredentialsProviderError(`Profile ${u} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let P=(await Ul.loadSsoSessionData(e))[f.sso_session],N=` configurations in profile ${u} and sso-session ${f.sso_session}`;if(n&&n!==P.sso_region)throw new Zt.CredentialsProviderError("Conflicting SSO region"+N,{tryNextLink:!1,logger:e.logger});if(r&&r!==P.sso_start_url)throw new Zt.CredentialsProviderError("Conflicting SSO start_url"+N,{tryNextLink:!1,logger:e.logger});f.sso_region=P.sso_region,f.sso_start_url=P.sso_start_url}let{sso_start_url:d,sso_account_id:g,sso_region:h,sso_role_name:y,sso_session:b}=GI(f,e.logger);return QI({ssoStartUrl:d,ssoSession:b,ssoAccountId:g,ssoRegion:h,ssoRoleName:y,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:u,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!s||!n||!o)throw new Zt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return QI({ssoStartUrl:r,ssoSession:i,ssoAccountId:s,ssoRegion:n,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:u,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Fl.fromSSO=v3;Fl.isSsoProfile=KI;Fl.validateSsoProfile=GI});function I3(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function P3(e){return{schemeId:"smithy.api#noAuth"}}var ta,WI,YI,XI,vy=S(()=>{c();_t();ta=_(dt()),WI=async(e,t,r)=>({operation:(0,ta.getSmithyContext)(t).operation,region:await(0,ta.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});YI=e=>{let t=[];switch(e.operation){case"CreateOAuth2Token":{t.push(P3(e));break}default:t.push(I3(e))}return t},XI=e=>{let t=Nr(e);return Object.assign(t,{authSchemePreference:(0,ta.normalizeProvider)(e.authSchemePreference??[])})}});var JI,ZI,Iy=S(()=>{c();JI=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),ZI={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var aP,ot,it,$r,eP,tn,_o,As,er,jl,Py,tP,rP,sP,Oy,Ny,nt,My,Bl,ql,nP,oP,iP,O3,cP,uP=S(()=>{c();aP="required",ot="fn",it="argv",$r="ref",eP="isSet",tn="booleanEquals",_o="error",As="endpoint",er="tree",jl="PartitionResult",Py="stringEquals",tP={[aP]:!0,default:!1,type:"boolean"},rP={[aP]:!1,type:"string"},sP={[$r]:"Endpoint"},Oy={[ot]:tn,[it]:[{[$r]:"UseFIPS"},!0]},Ny={[ot]:tn,[it]:[{[$r]:"UseDualStack"},!0]},nt={},My={[ot]:"getAttr",[it]:[{[$r]:jl},"name"]},Bl={[ot]:tn,[it]:[{[$r]:"UseFIPS"},!1]},ql={[ot]:tn,[it]:[{[$r]:"UseDualStack"},!1]},nP={[ot]:"getAttr",[it]:[{[$r]:jl},"supportsFIPS"]},oP={[ot]:tn,[it]:[!0,{[ot]:"getAttr",[it]:[{[$r]:jl},"supportsDualStack"]}]},iP=[{[$r]:"Region"}],O3={version:"1.0",parameters:{UseDualStack:tP,UseFIPS:tP,Endpoint:rP,Region:rP},rules:[{conditions:[{[ot]:eP,[it]:[sP]}],rules:[{conditions:[Oy],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:_o},{rules:[{conditions:[Ny],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:_o},{endpoint:{url:sP,properties:nt,headers:nt},type:As}],type:er}],type:er},{rules:[{conditions:[{[ot]:eP,[it]:iP}],rules:[{conditions:[{[ot]:"aws.partition",[it]:iP,assign:jl}],rules:[{conditions:[{[ot]:Py,[it]:[My,"aws"]},Bl,ql],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:nt,headers:nt},type:As},{conditions:[{[ot]:Py,[it]:[My,"aws-cn"]},Bl,ql],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:nt,headers:nt},type:As},{conditions:[{[ot]:Py,[it]:[My,"aws-us-gov"]},Bl,ql],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:nt,headers:nt},type:As},{conditions:[Oy,Ny],rules:[{conditions:[{[ot]:tn,[it]:[!0,nP]},oP],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nt,headers:nt},type:As}],type:er},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:_o}],type:er},{conditions:[Oy,ql],rules:[{conditions:[{[ot]:tn,[it]:[nP,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nt,headers:nt},type:As}],type:er},{error:"FIPS is enabled but this partition does not support FIPS",type:_o}],type:er},{conditions:[Bl,Ny],rules:[{conditions:[oP],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nt,headers:nt},type:As}],type:er},{error:"DualStack is enabled but this partition does not support DualStack",type:_o}],type:er},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:nt,headers:nt},type:As}],type:er}],type:er},{error:"Invalid Configuration: Missing Region",type:_o}],type:er}]},cP=O3});var lP,bo,N3,dP,fP=S(()=>{c();lP=_(Wr()),bo=_(Gr());uP();N3=new bo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),dP=(e,t={})=>N3.get(e,()=>(0,bo.resolveEndpoint)(cP,{endpointParams:e,logger:t.logger}));bo.customEndpointFunctions.aws=lP.awsEndpointFunctions});var pP,mP,Hl,zl,hP,gP=S(()=>{c();_t();ro();He();pP=_(H()),mP=_(Ar()),Hl=_(Mr()),zl=_(Te());vy();fP();hP=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??Hl.fromBase64,base64Encoder:e?.base64Encoder??Hl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??dP,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??YI,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:e?.logger??new pP.NoOpLogger,protocol:e?.protocol??ys,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??mP.parseUrl,utf8Decoder:e?.utf8Decoder??zl.fromUtf8,utf8Encoder:e?.utf8Encoder??zl.toUtf8})});var Vl,Rs,yP,Ql,xs,Kl,Gl,SP,EP,wP,_P,bP=S(()=>{c();Ju();_t();Vl=_(Oi()),Rs=_(et()),yP=_(io()),Ql=_(Wt()),xs=_(Gt()),Kl=_(Vr()),Gl=_(H()),SP=_(ao()),EP=_(co()),wP=_(Ys());gP();_P=e=>{(0,Gl.emitWarningIfUnsupportedVersion)(process.version);let t=(0,EP.resolveDefaultsModeConfig)(e),r=()=>t().then(Gl.loadConfigsForDefaultMode),s=hP(e);ls(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,xs.loadConfig)(ps,n),bodyLengthChecker:e?.bodyLengthChecker??SP.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Vl.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:oo.version}),maxAttempts:e?.maxAttempts??(0,xs.loadConfig)(Ql.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xs.loadConfig)(Rs.NODE_REGION_CONFIG_OPTIONS,{...Rs.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:Kl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,xs.loadConfig)({...Ql.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||wP.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??yP.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Kl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xs.loadConfig)(Rs.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,xs.loadConfig)(Rs.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,xs.loadConfig)(Vl.NODE_APP_ID_CONFIG_OPTIONS,n)}}});var TP,AP,xP=S(()=>{c();TP=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},AP=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Wl,Yl,Xl,RP,CP=S(()=>{c();Wl=_(ho()),Yl=_(re()),Xl=_(H());xP();RP=(e,t)=>{let r=Object.assign((0,Wl.getAwsRegionExtensionConfiguration)(e),(0,Xl.getDefaultExtensionConfiguration)(e),(0,Yl.getHttpHandlerExtensionConfiguration)(e),TP(e));return t.forEach(s=>s.configure(r)),Object.assign(e,(0,Wl.resolveAwsRegionExtensionConfiguration)(r),(0,Xl.resolveDefaultRuntimeConfig)(r),(0,Yl.resolveHttpHandlerRuntimeConfig)(r),AP(r))}});var Jl,vP,IP,Zl,PP,OP,NP,ed,Dy,ra,ky=S(()=>{c();Jl=_(bi()),vP=_(Ti()),IP=_(Ai()),Zl=_(no()),PP=_(et());He();K();OP=_(jn()),NP=_(cr()),ed=_(Wt()),Dy=_(H());vy();Iy();bP();CP();ra=class extends Dy.Client{config;constructor(...[t]){let r=_P(t||{});super(r),this.initConfig=r;let s=JI(r),n=(0,Zl.resolveUserAgentConfig)(s),o=(0,ed.resolveRetryConfig)(n),i=(0,PP.resolveRegionConfig)(o),a=(0,Jl.resolveHostHeaderConfig)(i),u=(0,NP.resolveEndpointConfig)(a),l=XI(u),f=RP(l,t?.extensions||[]);this.config=f,this.middlewareStack.use($s(this.config)),this.middlewareStack.use((0,Zl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ed.getRetryPlugin)(this.config)),this.middlewareStack.use((0,OP.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Jl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,vP.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,IP.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(js(this.config,{httpAuthSchemeParametersProvider:WI,identityProviderConfigProvider:async d=>new Tr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Hs(this.config))}destroy(){super.destroy()}}});var MP,tr,td=S(()=>{c();MP=_(H()),tr=class e extends MP.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var sa,na,oa,ia,$y=S(()=>{c();td();sa=class e extends tr{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},na=class e extends tr{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},oa=class e extends tr{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},ia=class e extends tr{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var M3,D3,k3,$3,L3,U3,F3,B3,q3,j3,H3,DP,kP,Ly,$P,LP,z3,Cs,UP,FP,V3,Uy,BP,Ct,sd,rd,qP,Q3,jP,HP,VP,K3,G3,zP,yt,QP,KP,GP,WP,YP,XP,JP,ZP,eO,tO,rO,Fy,By=S(()=>{c();K();$y();td();M3="AccessDeniedException",D3="AccessToken",k3="CreateOAuth2Token",$3="CreateOAuth2TokenRequest",L3="CreateOAuth2TokenRequestBody",U3="CreateOAuth2TokenResponseBody",F3="CreateOAuth2TokenResponse",B3="InternalServerException",q3="RefreshToken",j3="TooManyRequestsError",H3="ValidationException",DP="accessKeyId",kP="accessToken",Ly="client",$P="clientId",LP="codeVerifier",z3="code",Cs="error",UP="expiresIn",FP="grantType",V3="http",Uy="httpError",BP="idToken",Ct="jsonName",sd="message",rd="refreshToken",qP="redirectUri",Q3="server",jP="secretAccessKey",HP="sessionToken",VP="smithy.ts.sdk.synthetic.com.amazonaws.signin",K3="tokenInput",G3="tokenOutput",zP="tokenType",yt="com.amazonaws.signin",QP=[0,yt,q3,8,0],KP=[-3,yt,M3,{[Cs]:Ly},[Cs,sd],[0,0],2];U.for(yt).registerError(KP,sa);GP=[3,yt,D3,8,[DP,jP,HP],[[0,{[Ct]:DP}],[0,{[Ct]:jP}],[0,{[Ct]:HP}]],3],WP=[3,yt,$3,0,[K3],[[()=>YP,16]],1],YP=[3,yt,L3,0,[$P,FP,z3,qP,LP,rd],[[0,{[Ct]:$P}],[0,{[Ct]:FP}],0,[0,{[Ct]:qP}],[0,{[Ct]:LP}],[()=>QP,{[Ct]:rd}]],2],XP=[3,yt,F3,0,[G3],[[()=>JP,16]],1],JP=[3,yt,U3,0,[kP,zP,UP,rd,BP],[[()=>GP,{[Ct]:kP}],[0,{[Ct]:zP}],[1,{[Ct]:UP}],[()=>QP,{[Ct]:rd}],[0,{[Ct]:BP}]],4],ZP=[-3,yt,B3,{[Cs]:Q3,[Uy]:500},[Cs,sd],[0,0],2];U.for(yt).registerError(ZP,na);eO=[-3,yt,j3,{[Cs]:Ly,[Uy]:429},[Cs,sd],[0,0],2];U.for(yt).registerError(eO,oa);tO=[-3,yt,H3,{[Cs]:Ly,[Uy]:400},[Cs,sd],[0,0],2];U.for(yt).registerError(tO,ia);rO=[-3,VP,"SigninServiceException",0,[],[]];U.for(VP).registerError(rO,tr);Fy=[9,yt,k3,{[V3]:["POST","/v1/token",200]},()=>WP,()=>XP]});var sO,qy,aa,jy=S(()=>{c();sO=_(cr()),qy=_(H());Iy();By();aa=class extends qy.Command.classBuilder().ep(ZI).m(function(t,r,s,n){return[(0,sO.getEndpointPlugin)(s,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(Fy).build(){}});var nO,W3,nd,oO=S(()=>{c();nO=_(H());jy();ky();W3={CreateOAuth2TokenCommand:aa},nd=class extends ra{};(0,nO.createAggregatedClient)(W3,nd)});var iO=S(()=>{c();jy()});var Y3,aO=S(()=>{c();Y3={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var cO=S(()=>{c()});var uO={};Ye(uO,{$Command:()=>qy.Command,AccessDeniedException:()=>sa,AccessDeniedException$:()=>KP,AccessToken$:()=>GP,CreateOAuth2Token$:()=>Fy,CreateOAuth2TokenCommand:()=>aa,CreateOAuth2TokenRequest$:()=>WP,CreateOAuth2TokenRequestBody$:()=>YP,CreateOAuth2TokenResponse$:()=>XP,CreateOAuth2TokenResponseBody$:()=>JP,InternalServerException:()=>na,InternalServerException$:()=>ZP,OAuth2ErrorCode:()=>Y3,Signin:()=>nd,SigninClient:()=>ra,SigninServiceException:()=>tr,SigninServiceException$:()=>rO,TooManyRequestsError:()=>oa,TooManyRequestsError$:()=>eO,ValidationException:()=>ia,ValidationException$:()=>tO,__Client:()=>Dy.Client});var lO=S(()=>{c();ky();oO();iO();By();aO();$y();cO();td()});var fO=v(dO=>{"use strict";c();var X3=(Pt(),J(Or)),vs=Qe(),Vy=ar(),J3=re(),od=Y("node:crypto"),Hy=Y("node:fs"),Z3=Y("node:os"),zy=Y("node:path"),Qy=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(t,r,s){this.profileData=t,this.init=r,this.callerClientConfig=s}async loadCredentials(){let t=await this.loadToken();if(!t)throw new vs.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,s=Date.now();return new Date(r.expiresAt).getTime()-s<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:s}=await Promise.resolve().then(()=>(lO(),uO)),{logger:n,userAgentAppId:o}=this.callerClientConfig??{},a=(d=>d?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,u=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,l=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:u,requestHandler:a,logger:n,userAgentAppId:o,...this.init?.clientConfig});this.createDPoPInterceptor(l.middlewareStack);let f={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let d=await l.send(new s(f)),{accessKeyId:g,secretAccessKey:h,sessionToken:y}=d.tokenOutput?.accessToken??{},{refreshToken:b,expiresIn:R}=d.tokenOutput??{};if(!g||!h||!y||!b)throw new vs.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let P=(R??900)*1e3,N=new Date(Date.now()+P),$={...t,accessToken:{...t.accessToken,accessKeyId:g,secretAccessKey:h,sessionToken:y,expiresAt:N.toISOString()},refreshToken:b};await this.saveToken($);let L=$.accessToken;return{accessKeyId:L.accessKeyId,secretAccessKey:L.secretAccessKey,sessionToken:L.sessionToken,accountId:L.accountId,expiration:N}}catch(d){if(d.name==="AccessDeniedException"){let g=d.error,h;switch(g){case"TOKEN_EXPIRED":h="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":h="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":h="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:h=`Failed to refresh token: ${String(d)}. Please re-authenticate using \`aws login\``}throw new vs.CredentialsProviderError(h,{logger:this.logger,tryNextLink:!1})}throw new vs.CredentialsProviderError(`Failed to refresh token: ${String(d)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await Vy.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await Hy.promises.readFile(t,"utf8")}let s=JSON.parse(r),n=["accessToken","clientId","refreshToken","dpopKey"].filter(o=>!s[o]);if(s.accessToken?.accountId||n.push("accountId"),n.length>0)throw new vs.CredentialsProviderError(`Token validation failed, missing fields: ${n.join(", ")}`,{logger:this.logger,tryNextLink:!1});return s}catch(r){throw new vs.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),s=zy.dirname(r);try{await Hy.promises.mkdir(s,{recursive:!0})}catch{}await Hy.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??zy.join(Z3.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),s=od.createHash("sha256").update(r).digest("hex");return zy.join(t,`${s}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let s=t[r++],n=t.subarray(r,r+s);if(r+=s,t[r]!==2)throw new Error("Invalid DER signature");r++;let o=t[r++],i=t.subarray(r,r+o);n=n[0]===0?n.subarray(1):n,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-n.length),n]),u=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,u])}createDPoPInterceptor(t){t.add(r=>async s=>{if(J3.HttpRequest.isInstance(s.request)){let n=s.request,o=`${n.protocol}//${n.hostname}${n.port?`:${n.port}`:""}${n.path}`,i=await this.generateDpop(n.method,o);n.headers={...n.headers,DPoP:i}}return r(s)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let s=await this.loadToken();try{let n=od.createPrivateKey({key:s.dpopKey,format:"pem",type:"sec1"}),i=od.createPublicKey(n).export({format:"der",type:"spki"}),a=-1;for(let N=0;N<i.length;N++)if(i[N]===4){a=N;break}let u=i.slice(a+1,a+33),l=i.slice(a+33,a+65),f={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:u.toString("base64url"),y:l.toString("base64url")}},d={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},g=Buffer.from(JSON.stringify(f)).toString("base64url"),h=Buffer.from(JSON.stringify(d)).toString("base64url"),y=`${g}.${h}`,b=od.sign("sha256",Buffer.from(y),n),P=this.derToRawSignature(b).toString("base64url");return`${y}.${P}`}catch(n){throw new vs.CredentialsProviderError(`Failed to generate Dpop proof: ${n instanceof Error?n.message:String(n)}`,{logger:this.logger,tryNextLink:!1})}}},e6=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await Vy.parseKnownFiles(e||{}),s=Vy.getProfileName({profile:e?.profile??t?.profile}),n=r[s];if(!n?.login_session)throw new vs.CredentialsProviderError(`Profile ${s} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new Qy(n,e,t).loadCredentials();return X3.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};dO.fromLoginCredentials=e6});function t6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function r6(e){return{schemeId:"smithy.api#noAuth"}}var ca,pO,mO,s6,hO,Ky=S(()=>{c();_t();ca=_(dt());ua();pO=async(e,t,r)=>({operation:(0,ca.getSmithyContext)(t).operation,region:await(0,ca.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});mO=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(r6(e));break}default:t.push(t6(e))}return t},s6=e=>Object.assign(e,{stsClientCtor:pr}),hO=e=>{let t=s6(e),r=Nr(t);return Object.assign(r,{authSchemePreference:(0,ca.normalizeProvider)(e.authSchemePreference??[])})}});var gO,id,ad=S(()=>{c();gO=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),id={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var CO,W,ae,ce,Ps,Is,Ge,vO,IO,PO,xe,yO,mr,To,Wy,SO,Gy,OO,EO,We,wO,NO,MO,at,vt,_O,DO,kO,bO,$O,TO,AO,xO,RO,n6,LO,UO=S(()=>{c();CO="required",W="type",ae="fn",ce="argv",Ps="ref",Is="booleanEquals",Ge="stringEquals",vO="sigv4",IO="sts",PO="us-east-1",xe="endpoint",yO="https://sts.{Region}.{PartitionResult#dnsSuffix}",mr="tree",To="error",Wy="getAttr",SO={[CO]:!1,[W]:"string"},Gy={[CO]:!0,default:!1,[W]:"boolean"},OO={[Ps]:"Endpoint"},EO={[ae]:"isSet",[ce]:[{[Ps]:"Region"}]},We={[Ps]:"Region"},wO={[ae]:"aws.partition",[ce]:[We],assign:"PartitionResult"},NO={[Ps]:"UseFIPS"},MO={[Ps]:"UseDualStack"},at={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:vO,signingName:IO,signingRegion:PO}]},headers:{}},vt={},_O={conditions:[{[ae]:Ge,[ce]:[We,"aws-global"]}],[xe]:at,[W]:xe},DO={[ae]:Is,[ce]:[NO,!0]},kO={[ae]:Is,[ce]:[MO,!0]},bO={[ae]:Wy,[ce]:[{[Ps]:"PartitionResult"},"supportsFIPS"]},$O={[Ps]:"PartitionResult"},TO={[ae]:Is,[ce]:[!0,{[ae]:Wy,[ce]:[$O,"supportsDualStack"]}]},AO=[{[ae]:"isSet",[ce]:[OO]}],xO=[DO],RO=[kO],n6={version:"1.0",parameters:{Region:SO,UseDualStack:Gy,UseFIPS:Gy,Endpoint:SO,UseGlobalEndpoint:Gy},rules:[{conditions:[{[ae]:Is,[ce]:[{[Ps]:"UseGlobalEndpoint"},!0]},{[ae]:"not",[ce]:AO},EO,wO,{[ae]:Is,[ce]:[NO,!1]},{[ae]:Is,[ce]:[MO,!1]}],rules:[{conditions:[{[ae]:Ge,[ce]:[We,"ap-northeast-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"ap-south-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"ap-southeast-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"ap-southeast-2"]}],endpoint:at,[W]:xe},_O,{conditions:[{[ae]:Ge,[ce]:[We,"ca-central-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-central-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-north-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-west-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-west-2"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-west-3"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"sa-east-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,PO]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"us-east-2"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"us-west-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"us-west-2"]}],endpoint:at,[W]:xe},{endpoint:{url:yO,properties:{authSchemes:[{name:vO,signingName:IO,signingRegion:"{Region}"}]},headers:vt},[W]:xe}],[W]:mr},{conditions:AO,rules:[{conditions:xO,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[W]:To},{conditions:RO,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[W]:To},{endpoint:{url:OO,properties:vt,headers:vt},[W]:xe}],[W]:mr},{conditions:[EO],rules:[{conditions:[wO],rules:[{conditions:[DO,kO],rules:[{conditions:[{[ae]:Is,[ce]:[!0,bO]},TO],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vt,headers:vt},[W]:xe}],[W]:mr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[W]:To}],[W]:mr},{conditions:xO,rules:[{conditions:[{[ae]:Is,[ce]:[bO,!0]}],rules:[{conditions:[{[ae]:Ge,[ce]:[{[ae]:Wy,[ce]:[$O,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:vt,headers:vt},[W]:xe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vt,headers:vt},[W]:xe}],[W]:mr},{error:"FIPS is enabled but this partition does not support FIPS",[W]:To}],[W]:mr},{conditions:RO,rules:[{conditions:[TO],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vt,headers:vt},[W]:xe}],[W]:mr},{error:"DualStack is enabled but this partition does not support DualStack",[W]:To}],[W]:mr},_O,{endpoint:{url:yO,properties:vt,headers:vt},[W]:xe}],[W]:mr}],[W]:mr},{error:"Invalid Configuration: Missing Region",[W]:To}]},LO=n6});var FO,Ao,o6,BO,qO=S(()=>{c();FO=_(Wr()),Ao=_(Gr());UO();o6=new Ao.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),BO=(e,t={})=>o6.get(e,()=>(0,Ao.resolveEndpoint)(LO,{endpointParams:e,logger:t.logger}));Ao.customEndpointFunctions.aws=FO.awsEndpointFunctions});var jO,HO,cd,ud,zO,VO=S(()=>{c();_t();ro();He();jO=_(H()),HO=_(Ar()),cd=_(Mr()),ud=_(Te());Ky();qO();zO=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??cd.fromBase64,base64Encoder:e?.base64Encoder??cd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??BO,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??mO,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:e?.logger??new jO.NoOpLogger,protocol:e?.protocol??Es,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??HO.parseUrl,utf8Decoder:e?.utf8Decoder??ud.fromUtf8,utf8Encoder:e?.utf8Encoder??ud.toUtf8})});var ld,Ns,QO,dd,Os,fd,pd,KO,GO,WO,YO,XO=S(()=>{c();Ju();_t();ld=_(Oi()),Ns=_(et());He();QO=_(io()),dd=_(Wt()),Os=_(Gt()),fd=_(Vr()),pd=_(H()),KO=_(ao()),GO=_(co()),WO=_(Ys());VO();YO=e=>{(0,pd.emitWarningIfUnsupportedVersion)(process.version);let t=(0,GO.resolveDefaultsModeConfig)(e),r=()=>t().then(pd.loadConfigsForDefaultMode),s=zO(e);ls(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Os.loadConfig)(ps,n),bodyLengthChecker:e?.bodyLengthChecker??KO.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ld.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:oo.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],maxAttempts:e?.maxAttempts??(0,Os.loadConfig)(dd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Os.loadConfig)(Ns.NODE_REGION_CONFIG_OPTIONS,{...Ns.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:fd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Os.loadConfig)({...dd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||WO.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??QO.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??fd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Os.loadConfig)(Ns.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,Os.loadConfig)(Ns.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,Os.loadConfig)(ld.NODE_APP_ID_CONFIG_OPTIONS,n)}}});var JO,ZO,eN=S(()=>{c();JO=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},ZO=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var md,hd,gd,tN,rN=S(()=>{c();md=_(ho()),hd=_(re()),gd=_(H());eN();tN=(e,t)=>{let r=Object.assign((0,md.getAwsRegionExtensionConfiguration)(e),(0,gd.getDefaultExtensionConfiguration)(e),(0,hd.getHttpHandlerExtensionConfiguration)(e),JO(e));return t.forEach(s=>s.configure(r)),Object.assign(e,(0,md.resolveAwsRegionExtensionConfiguration)(r),(0,gd.resolveDefaultRuntimeConfig)(r),(0,hd.resolveHttpHandlerRuntimeConfig)(r),ZO(r))}});var yd,sN,nN,Sd,oN,iN,aN,Ed,Yy,pr,ua=S(()=>{c();yd=_(bi()),sN=_(Ti()),nN=_(Ai()),Sd=_(no()),oN=_(et());He();K();iN=_(jn()),aN=_(cr()),Ed=_(Wt()),Yy=_(H());Ky();ad();XO();rN();pr=class extends Yy.Client{config;constructor(...[t]){let r=YO(t||{});super(r),this.initConfig=r;let s=gO(r),n=(0,Sd.resolveUserAgentConfig)(s),o=(0,Ed.resolveRetryConfig)(n),i=(0,oN.resolveRegionConfig)(o),a=(0,yd.resolveHostHeaderConfig)(i),u=(0,aN.resolveEndpointConfig)(a),l=hO(u),f=tN(l,t?.extensions||[]);this.config=f,this.middlewareStack.use($s(this.config)),this.middlewareStack.use((0,Sd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ed.getRetryPlugin)(this.config)),this.middlewareStack.use((0,iN.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,yd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,sN.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,nN.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(js(this.config,{httpAuthSchemeParametersProvider:pO,identityProviderConfigProvider:async d=>new Tr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Hs(this.config))}destroy(){super.destroy()}}});var cN,bt,wd=S(()=>{c();cN=_(H()),bt=class e extends cN.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var la,da,fa,pa,ma,ha,ga,Xy=S(()=>{c();wd();la=class e extends bt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},da=class e extends bt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fa=class e extends bt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pa=class e extends bt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ma=class e extends bt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ha=class e extends bt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ga=class e extends bt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var i6,a6,c6,u6,l6,d6,Jy,f6,p6,m6,h6,Zy,g6,uN,y6,S6,E6,w6,_6,b6,T6,A6,lN,dN,x6,R6,C6,v6,I6,P6,fN,O6,N6,pN,M6,mN,D6,k6,eS,$6,L6,U6,F6,B6,q6,j6,H6,z6,V6,rn,sn,Q6,nn,on,an,K6,hN,G6,de,W6,Y6,tS,gN,yN,SN,EN,rS,wN,_N,bN,TN,AN,xN,RN,CN,vN,IN,PN,ON,X6,J6,sS,nS,_d=S(()=>{c();K();Xy();wd();i6="Arn",a6="AccessKeyId",c6="AssumeRole",u6="AssumedRoleId",l6="AssumeRoleRequest",d6="AssumeRoleResponse",Jy="AssumedRoleUser",f6="AssumeRoleWithWebIdentity",p6="AssumeRoleWithWebIdentityRequest",m6="AssumeRoleWithWebIdentityResponse",h6="Audience",Zy="Credentials",g6="ContextAssertion",uN="DurationSeconds",y6="Expiration",S6="ExternalId",E6="ExpiredTokenException",w6="IDPCommunicationErrorException",_6="IDPRejectedClaimException",b6="InvalidIdentityTokenException",T6="Key",A6="MalformedPolicyDocumentException",lN="Policy",dN="PolicyArns",x6="ProviderArn",R6="ProvidedContexts",C6="ProvidedContextsListType",v6="ProvidedContext",I6="PolicyDescriptorType",P6="ProviderId",fN="PackedPolicySize",O6="PackedPolicyTooLargeException",N6="Provider",pN="RoleArn",M6="RegionDisabledException",mN="RoleSessionName",D6="SecretAccessKey",k6="SubjectFromWebIdentityToken",eS="SourceIdentity",$6="SerialNumber",L6="SessionToken",U6="Tags",F6="TokenCode",B6="TransitiveTagKeys",q6="Tag",j6="Value",H6="WebIdentityToken",z6="arn",V6="accessKeySecretType",rn="awsQueryError",sn="client",Q6="clientTokenType",nn="error",on="httpError",an="message",K6="policyDescriptorListType",hN="smithy.ts.sdk.synthetic.com.amazonaws.sts",G6="tagListType",de="com.amazonaws.sts",W6=[0,de,V6,8,0],Y6=[0,de,Q6,8,0],tS=[3,de,Jy,0,[u6,i6],[0,0],2],gN=[3,de,l6,0,[pN,mN,dN,lN,uN,U6,B6,S6,$6,F6,eS,R6],[0,0,()=>ON,0,1,()=>J6,64,0,0,0,0,()=>X6],2],yN=[3,de,d6,0,[Zy,Jy,fN,eS],[[()=>rS,0],()=>tS,1,0]],SN=[3,de,p6,0,[pN,mN,H6,P6,dN,lN,uN],[0,0,[()=>Y6,0],0,()=>ON,0,1],3],EN=[3,de,m6,0,[Zy,k6,Jy,fN,N6,h6,eS],[[()=>rS,0],0,()=>tS,1,0,0,0]],rS=[3,de,Zy,0,[a6,D6,L6,y6],[0,[()=>W6,0],0,4],4],wN=[-3,de,E6,{[rn]:["ExpiredTokenException",400],[nn]:sn,[on]:400},[an],[0]];U.for(de).registerError(wN,la);_N=[-3,de,w6,{[rn]:["IDPCommunicationError",400],[nn]:sn,[on]:400},[an],[0]];U.for(de).registerError(_N,ga);bN=[-3,de,_6,{[rn]:["IDPRejectedClaim",403],[nn]:sn,[on]:403},[an],[0]];U.for(de).registerError(bN,ma);TN=[-3,de,b6,{[rn]:["InvalidIdentityToken",400],[nn]:sn,[on]:400},[an],[0]];U.for(de).registerError(TN,ha);AN=[-3,de,A6,{[rn]:["MalformedPolicyDocument",400],[nn]:sn,[on]:400},[an],[0]];U.for(de).registerError(AN,da);xN=[-3,de,O6,{[rn]:["PackedPolicyTooLarge",400],[nn]:sn,[on]:400},[an],[0]];U.for(de).registerError(xN,fa);RN=[3,de,I6,0,[z6],[0]],CN=[3,de,v6,0,[x6,g6],[0,0]],vN=[-3,de,M6,{[rn]:["RegionDisabledException",403],[nn]:sn,[on]:403},[an],[0]];U.for(de).registerError(vN,pa);IN=[3,de,q6,0,[T6,j6],[0,0],2],PN=[-3,hN,"STSServiceException",0,[],[]];U.for(hN).registerError(PN,bt);ON=[1,de,K6,0,()=>RN],X6=[1,de,C6,0,()=>CN],J6=[1,de,G6,0,()=>IN],sS=[9,de,c6,0,()=>gN,()=>yN],nS=[9,de,f6,0,()=>SN,()=>EN]});var NN,MN,cn,bd=S(()=>{c();NN=_(cr()),MN=_(H());ad();_d();cn=class extends MN.Command.classBuilder().ep(id).m(function(t,r,s,n){return[(0,NN.getEndpointPlugin)(s,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(sS).build(){}});var DN,kN,un,Td=S(()=>{c();DN=_(cr()),kN=_(H());ad();_d();un=class extends kN.Command.classBuilder().ep(id).m(function(t,r,s,n){return[(0,DN.getEndpointPlugin)(s,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(nS).build(){}});var $N,Z6,Ad,LN=S(()=>{c();$N=_(H());bd();Td();ua();Z6={AssumeRoleCommand:cn,AssumeRoleWithWebIdentityCommand:un},Ad=class extends pr{};(0,$N.createAggregatedClient)(Z6,Ad)});var UN=S(()=>{c();bd();Td()});var FN=S(()=>{c()});var BN,qN,jN,HN,zN,VN,QN=S(()=>{c();Pt();BN=_(ho());bd();Td();qN=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},jN=async(e,t,r,s={})=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t,i="",a=n??o??(i=await(0,BN.stsRegionDefaultResolver)(s)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (credential provider clientConfig)`,`${o} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},HN=(e,t)=>{let r,s;return async(n,o)=>{if(s=n,!r){let{logger:f=e?.parentClientConfig?.logger,profile:d=e?.parentClientConfig?.profile,region:g,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:b=e?.parentClientConfig?.userAgentAppId}=e,R=await jN(g,e?.parentClientConfig?.region,y,{logger:f,profile:d}),P=!VN(h);r=new t({...e,userAgentAppId:b,profile:d,credentialDefaultProvider:()=>async()=>s,region:R,requestHandler:P?h:void 0,logger:f})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new cn(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let u=qN(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...u&&{accountId:u}};return ds(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},zN=(e,t)=>{let r;return async s=>{if(!r){let{logger:u=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:f,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g,userAgentAppId:h=e?.parentClientConfig?.userAgentAppId}=e,y=await jN(f,e?.parentClientConfig?.region,g,{logger:u,profile:l}),b=!VN(d);r=new t({...e,userAgentAppId:h,profile:l,region:y,requestHandler:b?d:void 0,logger:u})}let{Credentials:n,AssumedRoleUser:o}=await r.send(new un(s));if(!n||!n.AccessKeyId||!n.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${s.RoleArn}`);let i=qN(o),a={accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.SessionToken,expiration:n.Expiration,...n.CredentialScope&&{credentialScope:n.CredentialScope},...i&&{accountId:i}};return i&&ds(a,"RESOLVED_ACCOUNT_ID","T"),ds(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},VN=e=>e?.metadata?.handlerProtocol==="h2"});var KN,GN,WN,eQ,YN=S(()=>{c();QN();ua();KN=(e,t)=>t?class extends e{constructor(s){super(s);for(let n of t)this.middlewareStack.use(n)}}:e,GN=(e={},t)=>HN(e,KN(pr,t)),WN=(e={},t)=>zN(e,KN(pr,t)),eQ=e=>t=>e({roleAssumer:GN(t),roleAssumerWithWebIdentity:WN(t),...t})});var oS={};Ye(oS,{AssumeRole$:()=>sS,AssumeRoleCommand:()=>cn,AssumeRoleRequest$:()=>gN,AssumeRoleResponse$:()=>yN,AssumeRoleWithWebIdentity$:()=>nS,AssumeRoleWithWebIdentityCommand:()=>un,AssumeRoleWithWebIdentityRequest$:()=>SN,AssumeRoleWithWebIdentityResponse$:()=>EN,AssumedRoleUser$:()=>tS,Credentials$:()=>rS,ExpiredTokenException:()=>la,ExpiredTokenException$:()=>wN,IDPCommunicationErrorException:()=>ga,IDPCommunicationErrorException$:()=>_N,IDPRejectedClaimException:()=>ma,IDPRejectedClaimException$:()=>bN,InvalidIdentityTokenException:()=>ha,InvalidIdentityTokenException$:()=>TN,MalformedPolicyDocumentException:()=>da,MalformedPolicyDocumentException$:()=>AN,PackedPolicyTooLargeException:()=>fa,PackedPolicyTooLargeException$:()=>xN,PolicyDescriptorType$:()=>RN,ProvidedContext$:()=>CN,RegionDisabledException:()=>pa,RegionDisabledException$:()=>vN,STS:()=>Ad,STSClient:()=>pr,STSServiceException:()=>bt,STSServiceException$:()=>PN,Tag$:()=>IN,__Client:()=>Yy.Client,decorateDefaultCredentialProvider:()=>eQ,getDefaultRoleAssumer:()=>GN,getDefaultRoleAssumerWithWebIdentity:()=>WN});var iS=S(()=>{c();ua();LN();UN();_d();Xy();FN();YN();wd()});var uS=v(XN=>{"use strict";c();var cS=ar(),aS=Qe(),tQ=Y("child_process"),rQ=Y("util"),sQ=(Pt(),J(Or)),nQ=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let s=t.AccountId;!s&&r?.[e]?.aws_account_id&&(s=r[e].aws_account_id);let n={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...s&&{accountId:s}};return sQ.setCredentialFeature(n,"CREDENTIALS_PROCESS","w"),n},oQ=async(e,t,r)=>{let s=t[e];if(t[e]){let n=s.credential_process;if(n!==void 0){let o=rQ.promisify(cS.externalDataInterceptor?.getTokenRecord?.().exec??tQ.exec);try{let{stdout:i}=await o(n),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return nQ(e,a,t)}catch(i){throw new aS.CredentialsProviderError(i.message,{logger:r})}}else throw new aS.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new aS.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},iQ=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await cS.parseKnownFiles(e);return oQ(cS.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};XN.fromProcess=iQ});var lS=v(hr=>{"use strict";c();var aQ=hr&&hr.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),cQ=hr&&hr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uQ=hr&&hr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var s=[];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[s.length]=n);return s},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var s=e(t),n=0;n<s.length;n++)s[n]!=="default"&&aQ(r,t,s[n]);return cQ(r,t),r}}();Object.defineProperty(hr,"__esModule",{value:!0});hr.fromWebToken=void 0;var lQ=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:s,webIdentityToken:n,providerId:o,policyArns:i,policy:a,durationSeconds:u}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>uQ((iS(),J(oS))));l=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:s??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:u})};hr.fromWebToken=lQ});var ZN=v(xd=>{"use strict";c();Object.defineProperty(xd,"__esModule",{value:!0});xd.fromTokenFile=void 0;var dQ=(Pt(),J(Or)),fQ=Qe(),pQ=ar(),mQ=Y("fs"),hQ=lS(),JN="AWS_WEB_IDENTITY_TOKEN_FILE",gQ="AWS_ROLE_ARN",yQ="AWS_ROLE_SESSION_NAME",SQ=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[JN],s=e?.roleArn??process.env[gQ],n=e?.roleSessionName??process.env[yQ];if(!r||!s)throw new fQ.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,hQ.fromWebToken)({...e,webIdentityToken:pQ.externalDataInterceptor?.getTokenRecord?.()[r]??(0,mQ.readFileSync)(r,{encoding:"ascii"}),roleArn:s,roleSessionName:n})(t);return r===process.env[JN]&&(0,dQ.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};xd.fromTokenFile=SQ});var dS=v(ya=>{"use strict";c();var eM=ZN(),tM=lS();Object.keys(eM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ya,e)&&Object.defineProperty(ya,e,{enumerable:!0,get:function(){return eM[e]}})});Object.keys(tM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ya,e)&&Object.defineProperty(ya,e,{enumerable:!0,get:function(){return tM[e]}})})});var aM=v(iM=>{"use strict";c();var pS=ar(),Sa=Qe(),Lr=(Pt(),J(Or)),EQ=fO(),wQ=(e,t,r)=>{let s={EcsContainer:async n=>{let{fromHttp:o}=await Promise.resolve().then(()=>_(Rg())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>_(Si()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Sa.chain(o(n??{}),i(n))().then(fS)},Ec2InstanceMetadata:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>_(Si()));return async()=>o(n)().then(fS)},Environment:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>_(Sg()));return async()=>o(n)().then(fS)}};if(e in s)return s[e];throw new Sa.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},fS=e=>Lr.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),_Q=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(bQ(e,{profile:t,logger:r})||TQ(e,{profile:t,logger:r})),bQ=(e,{profile:t,logger:r})=>{let s=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return s&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),s},TQ=(e,{profile:t,logger:r})=>{let s=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return s&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),s},AQ=async(e,t,r,s,n={},o)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:u}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:f}=await Promise.resolve().then(()=>(iS(),oS));r.roleAssumer=f({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...s,...r?.parentClientConfig,region:u??r?.parentClientConfig?.region??s?.region}},r.clientPlugins)}if(a&&a in n)throw new Sa.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${pS.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let l=a?o(a,t,r,s,{...n,[a]:!0},rM(t[a]??{})):(await wQ(i.credential_source,e,r.logger)(r))();if(rM(i))return l.then(f=>Lr.setCredentialFeature(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let f={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:d}=i;if(d){if(!r.mfaCodeProvider)throw new Sa.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});f.SerialNumber=d,f.TokenCode=await r.mfaCodeProvider(d)}let g=await l;return r.roleAssumer(g,f).then(h=>Lr.setCredentialFeature(h,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},rM=e=>!e.role_arn&&!!e.credential_source,xQ=e=>!!(e&&e.login_session),RQ=async(e,t,r)=>{let s=await EQ.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return Lr.setCredentialFeature(s,"CREDENTIALS_PROFILE_LOGIN","AC")},CQ=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",vQ=async(e,t)=>Promise.resolve().then(()=>_(uS())).then(({fromProcess:r})=>r({...e,profile:t})().then(s=>Lr.setCredentialFeature(s,"CREDENTIALS_PROFILE_PROCESS","v"))),IQ=async(e,t,r={},s)=>{let{fromSSO:n}=await Promise.resolve().then(()=>_(Cy()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:s}).then(o=>t.sso_session?Lr.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO","r"):Lr.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},PQ=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),sM=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,nM=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Lr.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},OQ=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,NQ=async(e,t,r)=>Promise.resolve().then(()=>_(dS())).then(({fromTokenFile:s})=>s({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(n=>Lr.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),oM=async(e,t,r,s,n={},o=!1)=>{let i=t[e];if(Object.keys(n).length>0&&sM(i))return nM(i,r);if(o||_Q(i,{profile:e,logger:r.logger}))return AQ(e,t,r,s,n,oM);if(sM(i))return nM(i,r);if(OQ(i))return NQ(i,r,s);if(CQ(i))return vQ(r,e);if(PQ(i))return await IQ(e,i,r,s);if(xQ(i))return RQ(e,r,s);throw new Sa.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},MQ=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await pS.parseKnownFiles(e);return oM(pS.getProfileName({profile:e.profile??t?.profile}),r,e,t)};iM.fromIni=MQ});var hS=v(Rd=>{"use strict";c();var mS=Sg(),Ea=Qe(),DQ=ar(),cM="AWS_EC2_METADATA_DISABLED",kQ=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:s,fromInstanceMetadata:n}=await Promise.resolve().then(()=>_(Si()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>_(Rg()));return Ea.chain(o(e),s(e))}return process.env[cM]&&process.env[cM]!=="false"?async()=>{throw new Ea.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),n(e))};function $Q(e,t){let r=LQ(e),s,n,o,i=async a=>{if(a?.forceRefresh)return await r(a);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),s)await s;else if(!o||t?.(o))if(o)n||(n=r(a).then(u=>{o=u,n=void 0}));else return s=r(a).then(u=>{o=u,s=void 0}),i(a);return o};return i}var LQ=e=>async t=>{let r;for(let s of e)try{return await s(t)}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r},uM=!1,UQ=(e={})=>$Q([async()=>{if(e.profile??process.env[DQ.ENV_PROFILE])throw process.env[mS.ENV_KEY]&&process.env[mS.ENV_SECRET]&&(uM||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),uM=!0)),new Ea.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),mS.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:s,ssoRegion:n,ssoRoleName:o,ssoSession:i}=e;if(!r&&!s&&!n&&!o&&!i)throw new Ea.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>_(Cy()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>_(aM()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>_(uS()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>_(dS()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await kQ(e))()),async()=>{throw new Ea.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],lM),FQ=e=>e?.expiration!==void 0,lM=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Rd.credentialsTreatedAsExpired=lM;Rd.credentialsWillNeedRefresh=FQ;Rd.defaultProvider=UQ});var gM=v(ln=>{"use strict";c();var dM=Y("os"),gS=Y("process"),BQ=Zh(),fM={isCrtAvailable:!1},qQ=()=>fM.isCrtAvailable?["md/crt-avail"]:null,pM=({serviceId:e,clientVersion:t})=>async r=>{let s=[["aws-sdk-js",t],["ua","2.1"],[`os/${dM.platform()}`,dM.release()],["lang/js"],["md/nodejs",`${gS.versions.node}`]],n=qQ();n&&s.push(n),e&&s.push([`api/${e}`,t]),gS.env.AWS_EXECUTION_ENV&&s.push([`exec-env/${gS.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...s,[`app/${o}`]]:[...s]},jQ=pM,mM="AWS_SDK_UA_APP_ID",hM="sdk_ua_app_id",HQ="sdk-ua-app-id",zQ={environmentVariableSelector:e=>e[mM],configFileSelector:e=>e[hM]??e[HQ],default:BQ.DEFAULT_UA_APP_ID};ln.NODE_APP_ID_CONFIG_OPTIONS=zQ;ln.UA_APP_ID_ENV_NAME=mM;ln.UA_APP_ID_INI_NAME=hM;ln.createDefaultUserAgentProvider=pM;ln.crtAvailability=fM;ln.defaultUserAgent=jQ});var OM=v(Cd=>{"use strict";c();Object.defineProperty(Cd,"__esModule",{value:!0});Cd.ruleSet=void 0;var CM="required",Ft="fn",Bt="argv",Co="ref",yM=!0,SM="isSet",wa="booleanEquals",xo="error",Ro="endpoint",Ur="tree",yS="PartitionResult",SS="getAttr",EM={[CM]:!1,type:"string"},wM={[CM]:!0,default:!1,type:"boolean"},_M={[Co]:"Endpoint"},vM={[Ft]:wa,[Bt]:[{[Co]:"UseFIPS"},!0]},IM={[Ft]:wa,[Bt]:[{[Co]:"UseDualStack"},!0]},Ut={},bM={[Ft]:SS,[Bt]:[{[Co]:yS},"supportsFIPS"]},PM={[Co]:yS},TM={[Ft]:wa,[Bt]:[!0,{[Ft]:SS,[Bt]:[PM,"supportsDualStack"]}]},AM=[vM],xM=[IM],RM=[{[Co]:"Region"}],VQ={version:"1.0",parameters:{Region:EM,UseDualStack:wM,UseFIPS:wM,Endpoint:EM},rules:[{conditions:[{[Ft]:SM,[Bt]:[_M]}],rules:[{conditions:AM,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xo},{conditions:xM,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xo},{endpoint:{url:_M,properties:Ut,headers:Ut},type:Ro}],type:Ur},{conditions:[{[Ft]:SM,[Bt]:RM}],rules:[{conditions:[{[Ft]:"aws.partition",[Bt]:RM,assign:yS}],rules:[{conditions:[vM,IM],rules:[{conditions:[{[Ft]:wa,[Bt]:[yM,bM]},TM],rules:[{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ut,headers:Ut},type:Ro}],type:Ur},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xo}],type:Ur},{conditions:AM,rules:[{conditions:[{[Ft]:wa,[Bt]:[bM,yM]}],rules:[{conditions:[{[Ft]:"stringEquals",[Bt]:[{[Ft]:SS,[Bt]:[PM,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sqs.{Region}.amazonaws.com",properties:Ut,headers:Ut},type:Ro},{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ut,headers:Ut},type:Ro}],type:Ur},{error:"FIPS is enabled but this partition does not support FIPS",type:xo}],type:Ur},{conditions:xM,rules:[{conditions:[TM],rules:[{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ut,headers:Ut},type:Ro}],type:Ur},{error:"DualStack is enabled but this partition does not support DualStack",type:xo}],type:Ur},{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dnsSuffix}",properties:Ut,headers:Ut},type:Ro}],type:Ur}],type:Ur},{error:"Invalid Configuration: Missing Region",type:xo}]};Cd.ruleSet=VQ});var NM=v(vd=>{"use strict";c();Object.defineProperty(vd,"__esModule",{value:!0});vd.defaultEndpointResolver=void 0;var QQ=Wr(),ES=Gr(),KQ=OM(),GQ=new ES.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),WQ=(e,t={})=>GQ.get(e,()=>(0,ES.resolveEndpoint)(KQ.ruleSet,{endpointParams:e,logger:t.logger}));vd.defaultEndpointResolver=WQ;ES.customEndpointFunctions.aws=QQ.awsEndpointFunctions});var kM=v(Id=>{"use strict";c();Object.defineProperty(Id,"__esModule",{value:!0});Id.getRuntimeConfig=void 0;var YQ=(fi(),J(di)),XQ=(Yh(),J(ux)),JQ=H(),ZQ=Ar(),MM=On(),DM=Te(),e8=yg(),t8=NM(),r8=e=>({apiVersion:"2012-11-05",base64Decoder:e?.base64Decoder??MM.fromBase64,base64Encoder:e?.base64Encoder??MM.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??t8.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??e8.defaultSQSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new YQ.AwsSdkSigV4Signer}],logger:e?.logger??new JQ.NoOpLogger,protocol:e?.protocol??XQ.AwsJson1_0Protocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sqs",version:"2012-11-05",serviceTarget:"AmazonSQS",awsQueryCompatible:!0},serviceId:e?.serviceId??"SQS",urlParser:e?.urlParser??ZQ.parseUrl,utf8Decoder:e?.utf8Decoder??DM.fromUtf8,utf8Encoder:e?.utf8Encoder??DM.toUtf8});Id.getRuntimeConfig=r8});var jM=v(Od=>{"use strict";c();Object.defineProperty(Od,"__esModule",{value:!0});Od.getRuntimeConfig=void 0;var s8=(Bs(),J(Fs)),n8=s8.__importDefault(S0()),$M=(fi(),J(di)),o8=hS(),LM=gM(),Pd=et(),UM=io(),FM=Wt(),dn=Gt(),BM=Vr(),qM=H(),i8=ao(),a8=co(),c8=Ys(),u8=kM(),l8=e=>{(0,qM.emitWarningIfUnsupportedVersion)(process.version);let t=(0,a8.resolveDefaultsModeConfig)(e),r=()=>t().then(qM.loadConfigsForDefaultMode),s=(0,u8.getRuntimeConfig)(e);(0,$M.emitWarningIfUnsupportedVersion)(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,dn.loadConfig)($M.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,n),bodyLengthChecker:e?.bodyLengthChecker??i8.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??o8.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,LM.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:n8.default.version}),maxAttempts:e?.maxAttempts??(0,dn.loadConfig)(FM.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??UM.Hash.bind(null,"md5"),region:e?.region??(0,dn.loadConfig)(Pd.NODE_REGION_CONFIG_OPTIONS,{...Pd.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:BM.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,dn.loadConfig)({...FM.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||c8.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??UM.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??BM.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,dn.loadConfig)(Pd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,dn.loadConfig)(Pd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,dn.loadConfig)(LM.NODE_APP_ID_CONFIG_OPTIONS,n)}};Od.getRuntimeConfig=l8});var zM=v(vo=>{"use strict";c();Object.defineProperty(vo,"__esModule",{value:!0});vo.warning=void 0;vo.stsRegionDefaultResolver=f8;var HM=et(),d8=Gt();function f8(e={}){return(0,d8.loadConfig)({...HM.NODE_REGION_CONFIG_OPTIONS,async default(){return vo.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...HM.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}vo.warning={silence:!1}});var QM=v(gr=>{"use strict";c();var VM=zM(),_a=et(),p8=e=>({setRegion(t){e.region=t},region(){return e.region}}),m8=e=>({region:e.region()});Object.defineProperty(gr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return _a.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(gr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return _a.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(gr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return _a.REGION_ENV_NAME}});Object.defineProperty(gr,"REGION_INI_NAME",{enumerable:!0,get:function(){return _a.REGION_INI_NAME}});Object.defineProperty(gr,"resolveRegionConfig",{enumerable:!0,get:function(){return _a.resolveRegionConfig}});gr.getAwsRegionExtensionConfiguration=p8;gr.resolveAwsRegionExtensionConfiguration=m8;Object.keys(VM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(gr,e)&&Object.defineProperty(gr,e,{enumerable:!0,get:function(){return VM[e]}})})});var A1=v(x=>{"use strict";c();var KM=eE(),h8=sE(),g8=oE(),Ta=gb(),GM=Zh(),y8=et(),ba=(He(),J(zs)),pe=(K(),J(ac)),S8=jn(),Re=cr(),WM=Wt(),fe=H(),YM=yg(),E8=jM(),XM=QM(),JM=re(),w8=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sqs"}),Oe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},_8=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},b8=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),T8=(e,t)=>{let r=Object.assign(XM.getAwsRegionExtensionConfiguration(e),fe.getDefaultExtensionConfiguration(e),JM.getHttpHandlerExtensionConfiguration(e),_8(e));return t.forEach(s=>s.configure(r)),Object.assign(e,XM.resolveAwsRegionExtensionConfiguration(r),fe.resolveDefaultRuntimeConfig(r),JM.resolveHttpHandlerRuntimeConfig(r),b8(r))},Io=class extends fe.Client{config;constructor(...[t]){let r=E8.getRuntimeConfig(t||{});super(r),this.initConfig=r;let s=w8(r),n=GM.resolveUserAgentConfig(s),o=WM.resolveRetryConfig(n),i=y8.resolveRegionConfig(o),a=KM.resolveHostHeaderConfig(i),u=Re.resolveEndpointConfig(a),l=Ta.resolveQueueUrlConfig(u),f=YM.resolveHttpAuthSchemeConfig(l),d=T8(f,t?.extensions||[]);this.config=d,this.middlewareStack.use(pe.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(GM.getUserAgentPlugin(this.config)),this.middlewareStack.use(WM.getRetryPlugin(this.config)),this.middlewareStack.use(S8.getContentLengthPlugin(this.config)),this.middlewareStack.use(KM.getHostHeaderPlugin(this.config)),this.middlewareStack.use(h8.getLoggerPlugin(this.config)),this.middlewareStack.use(g8.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ta.getQueueUrlPlugin(this.config)),this.middlewareStack.use(ba.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:YM.defaultSQSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new ba.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(ba.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},ue=class e extends fe.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Nd=class e extends ue{name="InvalidAddress";$fault="client";constructor(t){super({name:"InvalidAddress",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Md=class e extends ue{name="InvalidSecurity";$fault="client";constructor(t){super({name:"InvalidSecurity",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Dd=class e extends ue{name="OverLimit";$fault="client";constructor(t){super({name:"OverLimit",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},kd=class e extends ue{name="QueueDoesNotExist";$fault="client";constructor(t){super({name:"QueueDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$d=class e extends ue{name="RequestThrottled";$fault="client";constructor(t){super({name:"RequestThrottled",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ld=class e extends ue{name="UnsupportedOperation";$fault="client";constructor(t){super({name:"UnsupportedOperation",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ud=class e extends ue{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fd=class e extends ue{name="MessageNotInflight";$fault="client";constructor(t){super({name:"MessageNotInflight",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bd=class e extends ue{name="ReceiptHandleIsInvalid";$fault="client";constructor(t){super({name:"ReceiptHandleIsInvalid",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qd=class e extends ue{name="BatchEntryIdsNotDistinct";$fault="client";constructor(t){super({name:"BatchEntryIdsNotDistinct",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jd=class e extends ue{name="EmptyBatchRequest";$fault="client";constructor(t){super({name:"EmptyBatchRequest",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Hd=class e extends ue{name="InvalidBatchEntryId";$fault="client";constructor(t){super({name:"InvalidBatchEntryId",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zd=class e extends ue{name="TooManyEntriesInBatchRequest";$fault="client";constructor(t){super({name:"TooManyEntriesInBatchRequest",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vd=class e extends ue{name="InvalidAttributeName";$fault="client";constructor(t){super({name:"InvalidAttributeName",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Qd=class e extends ue{name="InvalidAttributeValue";$fault="client";constructor(t){super({name:"InvalidAttributeValue",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Kd=class e extends ue{name="QueueDeletedRecently";$fault="client";constructor(t){super({name:"QueueDeletedRecently",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gd=class e extends ue{name="QueueNameExists";$fault="client";constructor(t){super({name:"QueueNameExists",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Wd=class e extends ue{name="InvalidIdFormat";$fault="client";constructor(t){super({name:"InvalidIdFormat",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yd=class e extends ue{name="PurgeQueueInProgress";$fault="client";constructor(t){super({name:"PurgeQueueInProgress",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xd=class e extends ue{name="KmsAccessDenied";$fault="client";constructor(t){super({name:"KmsAccessDenied",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jd=class e extends ue{name="KmsDisabled";$fault="client";constructor(t){super({name:"KmsDisabled",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Zd=class e extends ue{name="KmsInvalidKeyUsage";$fault="client";constructor(t){super({name:"KmsInvalidKeyUsage",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ef=class e extends ue{name="KmsInvalidState";$fault="client";constructor(t){super({name:"KmsInvalidState",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tf=class e extends ue{name="KmsNotFound";$fault="client";constructor(t){super({name:"KmsNotFound",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rf=class e extends ue{name="KmsOptInRequired";$fault="client";constructor(t){super({name:"KmsOptInRequired",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sf=class e extends ue{name="KmsThrottled";$fault="client";constructor(t){super({name:"KmsThrottled",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nf=class e extends ue{name="InvalidMessageContents";$fault="client";constructor(t){super({name:"InvalidMessageContents",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},of=class e extends ue{name="BatchRequestTooLong";$fault="client";constructor(t){super({name:"BatchRequestTooLong",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},A8="Actions",x8="ActionName",eD="ApproximateNumberOfMessagesMoved",R8="ApproximateNumberOfMessagesToMove",tD="AttributeNames",wS="AttributeName",C8="AddPermission",v8="AddPermissionRequest",I8="AWSAccountIds",P8="AWSAccountId",If="Attributes",Pf="Attribute",O8="Body",N8="BatchEntryIdsNotDistinct",M8="BinaryList",rD="BinaryListValues",_S="BinaryListValue",Of="BatchResultErrorEntry",D8="BatchResultErrorEntryList",k8="BatchRequestTooLong",sD="BinaryValue",$8="Code",L8="CancelMessageMoveTask",U8="CancelMessageMoveTaskRequest",F8="CancelMessageMoveTaskResult",B8="ChangeMessageVisibility",q8="ChangeMessageVisibilityBatch",j8="ChangeMessageVisibilityBatchRequest",nD="ChangeMessageVisibilityBatchRequestEntry",H8="ChangeMessageVisibilityBatchRequestEntryList",z8="ChangeMessageVisibilityBatchResultEntryList",oD="ChangeMessageVisibilityBatchResultEntry",V8="ChangeMessageVisibilityBatchResult",Q8="ChangeMessageVisibilityRequest",K8="CreateQueue",G8="CreateQueueRequest",W8="CreateQueueResult",iD="DestinationArn",Y8="DeleteMessage",X8="DeleteMessageBatch",J8="DeleteMessageBatchRequest",aD="DeleteMessageBatchRequestEntry",Z8="DeleteMessageBatchRequestEntryList",eK="DeleteMessageBatchResultEntryList",cD="DeleteMessageBatchResultEntry",tK="DeleteMessageBatchResult",rK="DeleteMessageRequest",sK="DeleteQueue",nK="DeleteQueueRequest",uD="DelaySeconds",lD="DataType",bS="Entries",oK="EmptyBatchRequest",TS="Failed",iK="FailureReason",aK="GetQueueAttributes",cK="GetQueueAttributesRequest",uK="GetQueueAttributesResult",lK="GetQueueUrl",dK="GetQueueUrlRequest",fK="GetQueueUrlResult",fn="Id",pK="InvalidAddress",mK="InvalidAttributeName",hK="InvalidAttributeValue",gK="InvalidBatchEntryId",yK="InvalidIdFormat",SK="InvalidMessageContents",EK="InvalidSecurity",wK="Key",_K="KmsAccessDenied",bK="KmsDisabled",TK="KmsInvalidKeyUsage",AK="KmsInvalidState",xK="KmsNotFound",RK="KmsOptInRequired",CK="KmsThrottled",dD="Label",vK="ListDeadLetterSourceQueues",IK="ListDeadLetterSourceQueuesRequest",PK="ListDeadLetterSourceQueuesResult",OK="ListMessageMoveTasks",NK="ListMessageMoveTasksRequest",fD="ListMessageMoveTasksResultEntry",MK="ListMessageMoveTasksResultEntryList",ZM="ListMessageMoveTasksResult",DK="ListQueues",kK="ListQueuesRequest",$K="ListQueuesResult",LK="ListQueueTags",UK="ListQueueTagsRequest",FK="ListQueueTagsResult",AS="Message",xS="MessageAttributes",BK="MessageAttributeNames",qK="MessageAttributeName",jK="MessageAttributeValue",RS="MessageAttribute",pD="MessageBody",HK="MessageBodyAttributeMap",zK="MessageBodySystemAttributeMap",mD="MessageDeduplicationId",VK="MD5OfBody",CS="MD5OfMessageAttributes",hD="MD5OfMessageBody",gD="MD5OfMessageSystemAttributes",yD="MessageGroupId",vS="MessageId",QK="MessageList",KK="MessageNotInflight",GK="MaxNumberOfMessages",SD="MaxNumberOfMessagesPerSecond",IS="MaxResults",ED="MessageSystemAttributes",WK="MessageSystemAttributeMap",YK="MessageSystemAttributeNames",XK="MessageSystemAttributeValue",wD="MessageSystemAttribute",JK="Messages",Nf="Name",Mf="NextToken",ZK="OverLimit",eG="PurgeQueue",tG="PurgeQueueInProgress",rG="PurgeQueueRequest",sG="QueueAttributeMap",nG="QueueDoesNotExist",oG="QueueDeletedRecently",_D="QueueName",iG="QueueNameExists",aG="QueueNamePrefix",cG="QueueOwnerAWSAccountId",Le="QueueUrl",uG="QueueUrls",lG="Results",Ra="ReceiptHandle",dG="ReceiptHandleIsInvalid",fG="ReceiveMessage",pG="ReceiveMessageRequest",mG="ReceiveMessageResult",hG="ResourceNotFoundException",gG="RemovePermission",yG="RemovePermissionRequest",SG="ReceiveRequestAttemptId",EG="RequestThrottled",PS="Successful",OS="SourceArn",wG="SenderFault",_G="StringList",bD="StringListValues",NS="StringListValue",bG="SendMessage",TG="SendMessageBatch",AG="SendMessageBatchRequest",TD="SendMessageBatchRequestEntry",xG="SendMessageBatchRequestEntryList",RG="SendMessageBatchResultEntryList",AD="SendMessageBatchResultEntry",CG="SendMessageBatchResult",vG="StartMessageMoveTask",IG="StartMessageMoveTaskRequest",PG="StartMessageMoveTaskResult",OG="SendMessageRequest",NG="SendMessageResult",xD="SequenceNumber",MG="SetQueueAttributes",DG="SetQueueAttributesRequest",kG="StartedTimestamp",RD="StringValue",$G="Status",MS="Tag",DS="TaskHandle",LG="TagKeys",UG="TagKey",FG="TagMap",BG="TooManyEntriesInBatchRequest",qG="TagQueue",jG="TagQueueRequest",CD="Tags",HG="UnsupportedOperation",zG="UntagQueue",VG="UntagQueueRequest",Ca="Value",kS="VisibilityTimeout",QG="WaitTimeSeconds",Ce="awsQueryError",ye="client",Se="error",ve="httpError",be="message",KG="queueUrls",vD="smithy.ts.sdk.synthetic.com.amazonaws.sqs",GG="tags",te="xmlFlattened",j="xmlName",C="com.amazonaws.sqs",ID=[3,C,v8,0,[Le,dD,I8,A8],[0,0,[64,{[te]:1,[j]:P8}],[64,{[te]:1,[j]:x8}]],4],PD=[-3,C,N8,{[Ce]:["AWS.SimpleQueueService.BatchEntryIdsNotDistinct",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(PD,qd);var OD=[-3,C,k8,{[Ce]:["AWS.SimpleQueueService.BatchRequestTooLong",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(OD,of);var ND=[3,C,Of,0,[fn,wG,$8,AS],[0,2,0,0],3],MD=[3,C,U8,0,[DS],[0],1],DD=[3,C,F8,0,[eD],[1]],kD=[3,C,j8,0,[Le,bS],[0,[()=>WG,{[te]:1,[j]:nD}]],2],$D=[3,C,nD,0,[fn,Ra,kS],[0,0,1],2],LD=[3,C,V8,0,[PS,TS],[[()=>YG,{[te]:1,[j]:oD}],[()=>$S,{[te]:1,[j]:Of}]],2],UD=[3,C,oD,0,[fn],[0],1],FD=[3,C,Q8,0,[Le,Ra,kS],[0,0,1],3],BD=[3,C,G8,0,[_D,If,GG],[0,[()=>US,{[te]:1,[j]:Pf}],[()=>FS,{[te]:1,[j]:MS}]],1],qD=[3,C,W8,0,[Le],[0]],jD=[3,C,J8,0,[Le,bS],[0,[()=>XG,{[te]:1,[j]:aD}]],2],HD=[3,C,aD,0,[fn,Ra],[0,0],2],zD=[3,C,tK,0,[PS,TS],[[()=>JG,{[te]:1,[j]:cD}],[()=>$S,{[te]:1,[j]:Of}]],2],VD=[3,C,cD,0,[fn],[0],1],QD=[3,C,rK,0,[Le,Ra],[0,0],2],KD=[3,C,nK,0,[Le],[0],1],GD=[-3,C,oK,{[Ce]:["AWS.SimpleQueueService.EmptyBatchRequest",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(GD,jd);var WD=[3,C,cK,0,[Le,tD],[0,[64,{[te]:1,[j]:wS}]],1],YD=[3,C,uK,0,[If],[[()=>US,{[te]:1,[j]:Pf}]]],XD=[3,C,dK,0,[_D,cG],[0,0],1],JD=[3,C,fK,0,[Le],[0]],ZD=[-3,C,pK,{[Ce]:["InvalidAddress",404],[Se]:ye,[ve]:404},[be],[0]];pe.TypeRegistry.for(C).registerError(ZD,Nd);var ek=[-3,C,mK,{[Se]:ye},[be],[0]];pe.TypeRegistry.for(C).registerError(ek,Vd);var tk=[-3,C,hK,{[Se]:ye},[be],[0]];pe.TypeRegistry.for(C).registerError(tk,Qd);var rk=[-3,C,gK,{[Ce]:["AWS.SimpleQueueService.InvalidBatchEntryId",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(rk,Hd);var sk=[-3,C,yK,{[Se]:ye},[],[]];pe.TypeRegistry.for(C).registerError(sk,Wd);var nk=[-3,C,SK,{[Se]:ye},[be],[0]];pe.TypeRegistry.for(C).registerError(nk,nf);var ok=[-3,C,EK,{[Ce]:["InvalidSecurity",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(ok,Md);var ik=[-3,C,_K,{[Ce]:["KMS.AccessDeniedException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(ik,Xd);var ak=[-3,C,bK,{[Ce]:["KMS.DisabledException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(ak,Jd);var ck=[-3,C,TK,{[Ce]:["KMS.InvalidKeyUsageException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(ck,Zd);var uk=[-3,C,AK,{[Ce]:["KMS.InvalidStateException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(uk,ef);var lk=[-3,C,xK,{[Ce]:["KMS.NotFoundException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(lk,tf);var dk=[-3,C,RK,{[Ce]:["KMS.OptInRequired",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(dk,rf);var fk=[-3,C,CK,{[Ce]:["KMS.ThrottlingException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(fk,sf);var pk=[3,C,IK,0,[Le,Mf,IS],[0,0,1],1],mk=[3,C,PK,0,[KG,Mf],[[64,{[te]:1,[j]:Le}],0],1],hk=[3,C,NK,0,[OS,IS],[0,1],1],gk=[3,C,ZM,{[j]:ZM},[lG],[[()=>ZG,{[te]:1,[j]:fD}]]],yk=[3,C,fD,0,[DS,$G,OS,iD,SD,eD,R8,iK,kG],[0,0,0,0,1,1,1,0,1]],Sk=[3,C,kK,0,[aG,Mf,IS],[0,0,1]],Ek=[3,C,$K,0,[uG,Mf],[[64,{[te]:1,[j]:Le}],0]],wk=[3,C,UK,0,[Le],[0],1],_k=[3,C,FK,0,[CD],[[()=>FS,{[te]:1,[j]:MS}]]],bk=[3,C,AS,0,[vS,Ra,VK,O8,If,CS,xS],[0,0,0,0,[()=>sW,{[te]:1,[j]:Pf}],0,[()=>LS,{[te]:1,[j]:RS}]]],Tk=[3,C,jK,0,[lD,RD,sD,bD,rD],[0,0,21,[()=>Zk,{[te]:1,[j]:NS}],[()=>Jk,{[te]:1,[j]:_S}]],1],Ak=[-3,C,KK,{[Ce]:["AWS.SimpleQueueService.MessageNotInflight",400],[Se]:ye,[ve]:400},[],[]];pe.TypeRegistry.for(C).registerError(Ak,Fd);var xk=[3,C,XK,0,[lD,RD,sD,bD,rD],[0,0,21,[()=>Zk,{[te]:1,[j]:NS}],[()=>Jk,{[te]:1,[j]:_S}]],1],Rk=[-3,C,ZK,{[Ce]:["OverLimit",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(Rk,Dd);var Ck=[-3,C,tG,{[Ce]:["AWS.SimpleQueueService.PurgeQueueInProgress",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(Ck,Yd);var vk=[3,C,rG,0,[Le],[0],1],Ik=[-3,C,oG,{[Ce]:["AWS.SimpleQueueService.QueueDeletedRecently",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Ik,Kd);var Pk=[-3,C,nG,{[Ce]:["AWS.SimpleQueueService.NonExistentQueue",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Pk,kd);var Ok=[-3,C,iG,{[Ce]:["QueueAlreadyExists",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Ok,Gd);var Nk=[-3,C,dG,{[Ce]:["ReceiptHandleIsInvalid",404],[Se]:ye,[ve]:404},[be],[0]];pe.TypeRegistry.for(C).registerError(Nk,Bd);var Mk=[3,C,pG,0,[Le,tD,YK,BK,GK,kS,QG,SG],[0,[64,{[te]:1,[j]:wS}],[64,{[te]:1,[j]:wS}],[64,{[te]:1,[j]:qK}],1,1,1,0],1],Dk=[3,C,mG,0,[JK],[[()=>eW,{[te]:1,[j]:AS}]]],kk=[3,C,yG,0,[Le,dD],[0,0],2],$k=[-3,C,EG,{[Ce]:["RequestThrottled",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError($k,$d);var Lk=[-3,C,hG,{[Ce]:["ResourceNotFoundException",404],[Se]:ye,[ve]:404},[be],[0]];pe.TypeRegistry.for(C).registerError(Lk,Ud);var Uk=[3,C,AG,0,[Le,bS],[0,[()=>tW,{[te]:1,[j]:TD}]],2],Fk=[3,C,TD,0,[fn,pD,uD,xS,ED,mD,yD],[0,0,1,[()=>LS,{[te]:1,[j]:RS}],[()=>e1,{[te]:1,[j]:wD}],0,0],2],Bk=[3,C,CG,0,[PS,TS],[[()=>rW,{[te]:1,[j]:AD}],[()=>$S,{[te]:1,[j]:Of}]],2],qk=[3,C,AD,0,[fn,vS,hD,CS,gD,xD],[0,0,0,0,0,0],3],jk=[3,C,OG,0,[Le,pD,uD,xS,ED,mD,yD],[0,0,1,[()=>LS,{[te]:1,[j]:RS}],[()=>e1,{[te]:1,[j]:wD}],0,0],2],Hk=[3,C,NG,0,[hD,CS,gD,vS,xD],[0,0,0,0,0]],zk=[3,C,DG,0,[Le,If],[0,[()=>US,{[te]:1,[j]:Pf}]],2],Vk=[3,C,IG,0,[OS,iD,SD],[0,0,1],1],Qk=[3,C,PG,0,[DS],[0]],Kk=[3,C,jG,0,[Le,CD],[0,[()=>FS,{[te]:1,[j]:MS}]],2],Gk=[-3,C,BG,{[Ce]:["AWS.SimpleQueueService.TooManyEntriesInBatchRequest",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Gk,zd);var Wk=[-3,C,HG,{[Ce]:["AWS.SimpleQueueService.UnsupportedOperation",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Wk,Ld);var Yk=[3,C,VG,0,[Le,LG],[0,[64,{[te]:1,[j]:UG}]],2],Fr="unit",Xk=[-3,vD,"SQSServiceException",0,[],[]];pe.TypeRegistry.for(vD).registerError(Xk,ue);var $S=[1,C,D8,0,()=>ND],Jk=[1,C,M8,0,[21,{[j]:_S}]],WG=[1,C,H8,0,()=>$D],YG=[1,C,z8,0,()=>UD],XG=[1,C,Z8,0,()=>HD],JG=[1,C,eK,0,()=>VD],ZG=[1,C,MK,0,()=>yk],eW=[1,C,QK,0,[()=>bk,0]],tW=[1,C,xG,0,[()=>Fk,0]],rW=[1,C,RG,0,()=>qk],Zk=[1,C,_G,0,[0,{[j]:NS}]],LS=[2,C,HK,0,[0,{[j]:Nf}],[()=>Tk,{[j]:Ca}]],e1=[2,C,zK,0,[0,{[j]:Nf}],[()=>xk,{[j]:Ca}]],sW=[2,C,WK,0,[0,{[j]:Nf}],[0,{[j]:Ca}]],US=[2,C,sG,0,[0,{[j]:Nf}],[0,{[j]:Ca}]],FS=[2,C,FG,0,[0,{[j]:wK}],[0,{[j]:Ca}]],t1=[9,C,C8,0,()=>ID,()=>Fr],r1=[9,C,L8,0,()=>MD,()=>DD],s1=[9,C,B8,0,()=>FD,()=>Fr],n1=[9,C,q8,0,()=>kD,()=>LD],o1=[9,C,K8,0,()=>BD,()=>qD],i1=[9,C,Y8,0,()=>QD,()=>Fr],a1=[9,C,X8,0,()=>jD,()=>zD],c1=[9,C,sK,0,()=>KD,()=>Fr],u1=[9,C,aK,0,()=>WD,()=>YD],l1=[9,C,lK,0,()=>XD,()=>JD],d1=[9,C,vK,0,()=>pk,()=>mk],f1=[9,C,OK,0,()=>hk,()=>gk],p1=[9,C,DK,0,()=>Sk,()=>Ek],m1=[9,C,LK,0,()=>wk,()=>_k],h1=[9,C,eG,0,()=>vk,()=>Fr],g1=[9,C,fG,0,()=>Mk,()=>Dk],y1=[9,C,gG,0,()=>kk,()=>Fr],S1=[9,C,bG,0,()=>jk,()=>Hk],E1=[9,C,TG,0,()=>Uk,()=>Bk],w1=[9,C,MG,0,()=>zk,()=>Fr],_1=[9,C,vG,0,()=>Vk,()=>Qk],b1=[9,C,qG,0,()=>Kk,()=>Fr],T1=[9,C,zG,0,()=>Yk,()=>Fr],af=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","AddPermission",{}).n("SQSClient","AddPermissionCommand").sc(t1).build(){},cf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","CancelMessageMoveTask",{}).n("SQSClient","CancelMessageMoveTaskCommand").sc(r1).build(){},uf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibilityBatch",{}).n("SQSClient","ChangeMessageVisibilityBatchCommand").sc(n1).build(){},lf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibility",{}).n("SQSClient","ChangeMessageVisibilityCommand").sc(s1).build(){},df=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","CreateQueue",{}).n("SQSClient","CreateQueueCommand").sc(o1).build(){},ff=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessageBatch",{}).n("SQSClient","DeleteMessageBatchCommand").sc(a1).build(){},pf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessage",{}).n("SQSClient","DeleteMessageCommand").sc(i1).build(){},mf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteQueue",{}).n("SQSClient","DeleteQueueCommand").sc(c1).build(){},hf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueAttributes",{}).n("SQSClient","GetQueueAttributesCommand").sc(u1).build(){},gf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueUrl",{}).n("SQSClient","GetQueueUrlCommand").sc(l1).build(){},Aa=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListDeadLetterSourceQueues",{}).n("SQSClient","ListDeadLetterSourceQueuesCommand").sc(d1).build(){},yf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListMessageMoveTasks",{}).n("SQSClient","ListMessageMoveTasksCommand").sc(f1).build(){},xa=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueues",{}).n("SQSClient","ListQueuesCommand").sc(p1).build(){},Sf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueueTags",{}).n("SQSClient","ListQueueTagsCommand").sc(m1).build(){},Ef=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","PurgeQueue",{}).n("SQSClient","PurgeQueueCommand").sc(h1).build(){},wf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions()),Ta.getReceiveMessagePlugin(s)]}).s("AmazonSQS","ReceiveMessage",{}).n("SQSClient","ReceiveMessageCommand").sc(g1).build(){},_f=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","RemovePermission",{}).n("SQSClient","RemovePermissionCommand").sc(y1).build(){},bf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions()),Ta.getSendMessageBatchPlugin(s)]}).s("AmazonSQS","SendMessageBatch",{}).n("SQSClient","SendMessageBatchCommand").sc(E1).build(){},Tf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions()),Ta.getSendMessagePlugin(s)]}).s("AmazonSQS","SendMessage",{}).n("SQSClient","SendMessageCommand").sc(S1).build(){},Af=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","SetQueueAttributes",{}).n("SQSClient","SetQueueAttributesCommand").sc(w1).build(){},xf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","StartMessageMoveTask",{}).n("SQSClient","StartMessageMoveTaskCommand").sc(_1).build(){},Rf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","TagQueue",{}).n("SQSClient","TagQueueCommand").sc(b1).build(){},Cf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","UntagQueue",{}).n("SQSClient","UntagQueueCommand").sc(T1).build(){},nW={AddPermissionCommand:af,CancelMessageMoveTaskCommand:cf,ChangeMessageVisibilityCommand:lf,ChangeMessageVisibilityBatchCommand:uf,CreateQueueCommand:df,DeleteMessageCommand:pf,DeleteMessageBatchCommand:ff,DeleteQueueCommand:mf,GetQueueAttributesCommand:hf,GetQueueUrlCommand:gf,ListDeadLetterSourceQueuesCommand:Aa,ListMessageMoveTasksCommand:yf,ListQueuesCommand:xa,ListQueueTagsCommand:Sf,PurgeQueueCommand:Ef,ReceiveMessageCommand:wf,RemovePermissionCommand:_f,SendMessageCommand:Tf,SendMessageBatchCommand:bf,SetQueueAttributesCommand:Af,StartMessageMoveTaskCommand:xf,TagQueueCommand:Rf,UntagQueueCommand:Cf},vf=class extends Io{};fe.createAggregatedClient(nW,vf);var oW=ba.createPaginator(Io,Aa,"NextToken","NextToken","MaxResults"),iW=ba.createPaginator(Io,xa,"NextToken","NextToken","MaxResults"),aW={All:"All",ApproximateNumberOfMessages:"ApproximateNumberOfMessages",ApproximateNumberOfMessagesDelayed:"ApproximateNumberOfMessagesDelayed",ApproximateNumberOfMessagesNotVisible:"ApproximateNumberOfMessagesNotVisible",ContentBasedDeduplication:"ContentBasedDeduplication",CreatedTimestamp:"CreatedTimestamp",DeduplicationScope:"DeduplicationScope",DelaySeconds:"DelaySeconds",FifoQueue:"FifoQueue",FifoThroughputLimit:"FifoThroughputLimit",KmsDataKeyReusePeriodSeconds:"KmsDataKeyReusePeriodSeconds",KmsMasterKeyId:"KmsMasterKeyId",LastModifiedTimestamp:"LastModifiedTimestamp",MaximumMessageSize:"MaximumMessageSize",MessageRetentionPeriod:"MessageRetentionPeriod",Policy:"Policy",QueueArn:"QueueArn",ReceiveMessageWaitTimeSeconds:"ReceiveMessageWaitTimeSeconds",RedriveAllowPolicy:"RedriveAllowPolicy",RedrivePolicy:"RedrivePolicy",SqsManagedSseEnabled:"SqsManagedSseEnabled",VisibilityTimeout:"VisibilityTimeout"},cW={AWSTraceHeader:"AWSTraceHeader",All:"All",ApproximateFirstReceiveTimestamp:"ApproximateFirstReceiveTimestamp",ApproximateReceiveCount:"ApproximateReceiveCount",DeadLetterQueueSourceArn:"DeadLetterQueueSourceArn",MessageDeduplicationId:"MessageDeduplicationId",MessageGroupId:"MessageGroupId",SenderId:"SenderId",SentTimestamp:"SentTimestamp",SequenceNumber:"SequenceNumber"},uW={AWSTraceHeader:"AWSTraceHeader"};Object.defineProperty(x,"$Command",{enumerable:!0,get:function(){return fe.Command}});Object.defineProperty(x,"__Client",{enumerable:!0,get:function(){return fe.Client}});x.AddPermission$=t1;x.AddPermissionCommand=af;x.AddPermissionRequest$=ID;x.BatchEntryIdsNotDistinct=qd;x.BatchEntryIdsNotDistinct$=PD;x.BatchRequestTooLong=of;x.BatchRequestTooLong$=OD;x.BatchResultErrorEntry$=ND;x.CancelMessageMoveTask$=r1;x.CancelMessageMoveTaskCommand=cf;x.CancelMessageMoveTaskRequest$=MD;x.CancelMessageMoveTaskResult$=DD;x.ChangeMessageVisibility$=s1;x.ChangeMessageVisibilityBatch$=n1;x.ChangeMessageVisibilityBatchCommand=uf;x.ChangeMessageVisibilityBatchRequest$=kD;x.ChangeMessageVisibilityBatchRequestEntry$=$D;x.ChangeMessageVisibilityBatchResult$=LD;x.ChangeMessageVisibilityBatchResultEntry$=UD;x.ChangeMessageVisibilityCommand=lf;x.ChangeMessageVisibilityRequest$=FD;x.CreateQueue$=o1;x.CreateQueueCommand=df;x.CreateQueueRequest$=BD;x.CreateQueueResult$=qD;x.DeleteMessage$=i1;x.DeleteMessageBatch$=a1;x.DeleteMessageBatchCommand=ff;x.DeleteMessageBatchRequest$=jD;x.DeleteMessageBatchRequestEntry$=HD;x.DeleteMessageBatchResult$=zD;x.DeleteMessageBatchResultEntry$=VD;x.DeleteMessageCommand=pf;x.DeleteMessageRequest$=QD;x.DeleteQueue$=c1;x.DeleteQueueCommand=mf;x.DeleteQueueRequest$=KD;x.EmptyBatchRequest=jd;x.EmptyBatchRequest$=GD;x.GetQueueAttributes$=u1;x.GetQueueAttributesCommand=hf;x.GetQueueAttributesRequest$=WD;x.GetQueueAttributesResult$=YD;x.GetQueueUrl$=l1;x.GetQueueUrlCommand=gf;x.GetQueueUrlRequest$=XD;x.GetQueueUrlResult$=JD;x.InvalidAddress=Nd;x.InvalidAddress$=ZD;x.InvalidAttributeName=Vd;x.InvalidAttributeName$=ek;x.InvalidAttributeValue=Qd;x.InvalidAttributeValue$=tk;x.InvalidBatchEntryId=Hd;x.InvalidBatchEntryId$=rk;x.InvalidIdFormat=Wd;x.InvalidIdFormat$=sk;x.InvalidMessageContents=nf;x.InvalidMessageContents$=nk;x.InvalidSecurity=Md;x.InvalidSecurity$=ok;x.KmsAccessDenied=Xd;x.KmsAccessDenied$=ik;x.KmsDisabled=Jd;x.KmsDisabled$=ak;x.KmsInvalidKeyUsage=Zd;x.KmsInvalidKeyUsage$=ck;x.KmsInvalidState=ef;x.KmsInvalidState$=uk;x.KmsNotFound=tf;x.KmsNotFound$=lk;x.KmsOptInRequired=rf;x.KmsOptInRequired$=dk;x.KmsThrottled=sf;x.KmsThrottled$=fk;x.ListDeadLetterSourceQueues$=d1;x.ListDeadLetterSourceQueuesCommand=Aa;x.ListDeadLetterSourceQueuesRequest$=pk;x.ListDeadLetterSourceQueuesResult$=mk;x.ListMessageMoveTasks$=f1;x.ListMessageMoveTasksCommand=yf;x.ListMessageMoveTasksRequest$=hk;x.ListMessageMoveTasksResult$=gk;x.ListMessageMoveTasksResultEntry$=yk;x.ListQueueTags$=m1;x.ListQueueTagsCommand=Sf;x.ListQueueTagsRequest$=wk;x.ListQueueTagsResult$=_k;x.ListQueues$=p1;x.ListQueuesCommand=xa;x.ListQueuesRequest$=Sk;x.ListQueuesResult$=Ek;x.Message$=bk;x.MessageAttributeValue$=Tk;x.MessageNotInflight=Fd;x.MessageNotInflight$=Ak;x.MessageSystemAttributeName=cW;x.MessageSystemAttributeNameForSends=uW;x.MessageSystemAttributeValue$=xk;x.OverLimit=Dd;x.OverLimit$=Rk;x.PurgeQueue$=h1;x.PurgeQueueCommand=Ef;x.PurgeQueueInProgress=Yd;x.PurgeQueueInProgress$=Ck;x.PurgeQueueRequest$=vk;x.QueueAttributeName=aW;x.QueueDeletedRecently=Kd;x.QueueDeletedRecently$=Ik;x.QueueDoesNotExist=kd;x.QueueDoesNotExist$=Pk;x.QueueNameExists=Gd;x.QueueNameExists$=Ok;x.ReceiptHandleIsInvalid=Bd;x.ReceiptHandleIsInvalid$=Nk;x.ReceiveMessage$=g1;x.ReceiveMessageCommand=wf;x.ReceiveMessageRequest$=Mk;x.ReceiveMessageResult$=Dk;x.RemovePermission$=y1;x.RemovePermissionCommand=_f;x.RemovePermissionRequest$=kk;x.RequestThrottled=$d;x.RequestThrottled$=$k;x.ResourceNotFoundException=Ud;x.ResourceNotFoundException$=Lk;x.SQS=vf;x.SQSClient=Io;x.SQSServiceException=ue;x.SQSServiceException$=Xk;x.SendMessage$=S1;x.SendMessageBatch$=E1;x.SendMessageBatchCommand=bf;x.SendMessageBatchRequest$=Uk;x.SendMessageBatchRequestEntry$=Fk;x.SendMessageBatchResult$=Bk;x.SendMessageBatchResultEntry$=qk;x.SendMessageCommand=Tf;x.SendMessageRequest$=jk;x.SendMessageResult$=Hk;x.SetQueueAttributes$=w1;x.SetQueueAttributesCommand=Af;x.SetQueueAttributesRequest$=zk;x.StartMessageMoveTask$=_1;x.StartMessageMoveTaskCommand=xf;x.StartMessageMoveTaskRequest$=Vk;x.StartMessageMoveTaskResult$=Qk;x.TagQueue$=b1;x.TagQueueCommand=Rf;x.TagQueueRequest$=Kk;x.TooManyEntriesInBatchRequest=zd;x.TooManyEntriesInBatchRequest$=Gk;x.UnsupportedOperation=Ld;x.UnsupportedOperation$=Wk;x.UntagQueue$=T1;x.UntagQueueCommand=Cf;x.UntagQueueRequest$=Yk;x.paginateListDeadLetterSourceQueues=oW;x.paginateListQueues=iW});var BS=v(qt=>{"use strict";c();Object.defineProperty(qt,"__esModule",{value:!0});qt.MAX_HASHABLE_LENGTH=qt.INIT=qt.KEY=qt.DIGEST_LENGTH=qt.BLOCK_SIZE=void 0;qt.BLOCK_SIZE=64;qt.DIGEST_LENGTH=32;qt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);qt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];qt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var x1=v(Df=>{"use strict";c();Object.defineProperty(Df,"__esModule",{value:!0});Df.RawSha256=void 0;var jt=BS(),lW=function(){function e(){this.state=Int32Array.from(jt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,s=t.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>jt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=t[r++],s--,this.bufferLength===jt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(r.setUint8(this.bufferLength++,128),s%jt.BLOCK_SIZE>=jt.BLOCK_SIZE-8){for(var n=this.bufferLength;n<jt.BLOCK_SIZE;n++)r.setUint8(n,0);this.hashBuffer(),this.bufferLength=0}for(var n=this.bufferLength;n<jt.BLOCK_SIZE-8;n++)r.setUint8(n,0);r.setUint32(jt.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(jt.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(jt.DIGEST_LENGTH),n=0;n<8;n++)o[n*4]=this.state[n]>>>24&255,o[n*4+1]=this.state[n]>>>16&255,o[n*4+2]=this.state[n]>>>8&255,o[n*4+3]=this.state[n]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,s=t.state,n=s[0],o=s[1],i=s[2],a=s[3],u=s[4],l=s[5],f=s[6],d=s[7],g=0;g<jt.BLOCK_SIZE;g++){if(g<16)this.temp[g]=(r[g*4]&255)<<24|(r[g*4+1]&255)<<16|(r[g*4+2]&255)<<8|r[g*4+3]&255;else{var h=this.temp[g-2],y=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[g-15];var b=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[g]=(y+this.temp[g-7]|0)+(b+this.temp[g-16]|0)}var R=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(d+(jt.KEY[g]+this.temp[g]|0)|0)|0,P=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;d=f,f=l,l=u,u=a+R|0,a=i,i=o,o=n,n=R+P|0}s[0]+=n,s[1]+=o,s[2]+=i,s[3]+=a,s[4]+=u,s[5]+=l,s[6]+=f,s[7]+=d},e}();Df.RawSha256=lW});var v1=v((yme,C1)=>{c();var kf=Object.defineProperty,dW=Object.getOwnPropertyDescriptor,fW=Object.getOwnPropertyNames,pW=Object.prototype.hasOwnProperty,mW=(e,t)=>kf(e,"name",{value:t,configurable:!0}),hW=(e,t)=>{for(var r in t)kf(e,r,{get:t[r],enumerable:!0})},gW=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of fW(t))!pW.call(e,n)&&n!==r&&kf(e,n,{get:()=>t[n],enumerable:!(s=dW(t,n))||s.enumerable});return e},yW=e=>gW(kf({},"__esModule",{value:!0}),e),R1={};hW(R1,{isArrayBuffer:()=>SW});C1.exports=yW(R1);var SW=mW(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var N1=v((Eme,O1)=>{c();var $f=Object.defineProperty,EW=Object.getOwnPropertyDescriptor,wW=Object.getOwnPropertyNames,_W=Object.prototype.hasOwnProperty,I1=(e,t)=>$f(e,"name",{value:t,configurable:!0}),bW=(e,t)=>{for(var r in t)$f(e,r,{get:t[r],enumerable:!0})},TW=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of wW(t))!_W.call(e,n)&&n!==r&&$f(e,n,{get:()=>t[n],enumerable:!(s=EW(t,n))||s.enumerable});return e},AW=e=>TW($f({},"__esModule",{value:!0}),e),P1={};bW(P1,{fromArrayBuffer:()=>RW,fromString:()=>CW});O1.exports=AW(P1);var xW=v1(),qS=Y("buffer"),RW=I1((e,t=0,r=e.byteLength-t)=>{if(!(0,xW.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return qS.Buffer.from(e,t,r)},"fromArrayBuffer"),CW=I1((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?qS.Buffer.from(e,t):qS.Buffer.from(e)},"fromString")});var L1=v((_me,$1)=>{c();var Lf=Object.defineProperty,vW=Object.getOwnPropertyDescriptor,IW=Object.getOwnPropertyNames,PW=Object.prototype.hasOwnProperty,jS=(e,t)=>Lf(e,"name",{value:t,configurable:!0}),OW=(e,t)=>{for(var r in t)Lf(e,r,{get:t[r],enumerable:!0})},NW=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of IW(t))!PW.call(e,n)&&n!==r&&Lf(e,n,{get:()=>t[n],enumerable:!(s=vW(t,n))||s.enumerable});return e},MW=e=>NW(Lf({},"__esModule",{value:!0}),e),M1={};OW(M1,{fromUtf8:()=>k1,toUint8Array:()=>DW,toUtf8:()=>kW});$1.exports=MW(M1);var D1=N1(),k1=jS(e=>{let t=(0,D1.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),DW=jS(e=>typeof e=="string"?k1(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),kW=jS(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,D1.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var U1=v(Uf=>{"use strict";c();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.convertToBuffer=void 0;var $W=L1(),LW=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:$W.fromUtf8;function UW(e){return e instanceof Uint8Array?e:typeof e=="string"?LW(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Uf.convertToBuffer=UW});var F1=v(Ff=>{"use strict";c();Object.defineProperty(Ff,"__esModule",{value:!0});Ff.isEmptyData=void 0;function FW(e){return typeof e=="string"?e.length===0:e.byteLength===0}Ff.isEmptyData=FW});var B1=v(Bf=>{"use strict";c();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.numToUint8=void 0;function BW(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Bf.numToUint8=BW});var q1=v(qf=>{"use strict";c();Object.defineProperty(qf,"__esModule",{value:!0});qf.uint32ArrayFrom=void 0;function qW(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}qf.uint32ArrayFrom=qW});var j1=v(yr=>{"use strict";c();Object.defineProperty(yr,"__esModule",{value:!0});yr.uint32ArrayFrom=yr.numToUint8=yr.isEmptyData=yr.convertToBuffer=void 0;var jW=U1();Object.defineProperty(yr,"convertToBuffer",{enumerable:!0,get:function(){return jW.convertToBuffer}});var HW=F1();Object.defineProperty(yr,"isEmptyData",{enumerable:!0,get:function(){return HW.isEmptyData}});var zW=B1();Object.defineProperty(yr,"numToUint8",{enumerable:!0,get:function(){return zW.numToUint8}});var VW=q1();Object.defineProperty(yr,"uint32ArrayFrom",{enumerable:!0,get:function(){return VW.uint32ArrayFrom}})});var z1=v(zf=>{"use strict";c();Object.defineProperty(zf,"__esModule",{value:!0});zf.Sha256=void 0;var H1=(Bs(),J(Fs)),Hf=BS(),jf=x1(),HS=j1(),QW=function(){function e(t){this.secret=t,this.hash=new jf.RawSha256,this.reset()}return e.prototype.update=function(t){if(!((0,HS.isEmptyData)(t)||this.error))try{this.hash.update((0,HS.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return H1.__awaiter(this,void 0,void 0,function(){return H1.__generator(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new jf.RawSha256,this.secret){this.outer=new jf.RawSha256;var t=KW(this.secret),r=new Uint8Array(Hf.BLOCK_SIZE);r.set(t);for(var s=0;s<Hf.BLOCK_SIZE;s++)t[s]^=54,r[s]^=92;this.hash.update(t),this.outer.update(r);for(var s=0;s<t.byteLength;s++)t[s]=0}},e}();zf.Sha256=QW;function KW(e){var t=(0,HS.convertToBuffer)(e);if(t.byteLength>Hf.BLOCK_SIZE){var r=new jf.RawSha256;r.update(t),t=r.digest()}var s=new Uint8Array(Hf.BLOCK_SIZE);return s.set(t),s}});var V1=v(zS=>{"use strict";c();Object.defineProperty(zS,"__esModule",{value:!0});var GW=(Bs(),J(Fs));GW.__exportStar(z1(),zS)});c();var va=_(A1(),1),K1=_(kc(),1),G1=_(re(),1),W1=_(V1(),1),Y1=_(hS(),1),Po=e=>process.env[e],WW=()=>({endpoint:Po("AMPLIFY_DATA_GRAPHQL_ENDPOINT")||Po("AWS_APPSYNC_GRAPHQL_ENDPOINT"),region:Po("GRAPHQL_REGION")||Po("AWS_REGION")||"us-east-1"}),Q1=["MSFT","AAPL","JNJ","XOM","CVX","KO","PEP","V","MA","PG"];async function YW(e,t={}){let{endpoint:r,region:s}=WW();if(!r)throw new Error("AppSync Endpoint missing");let n=new URL(r),o=JSON.stringify({query:e,variables:t}),i=new K1.SignatureV4({credentials:(0,Y1.defaultProvider)(),region:s,service:"appsync",sha256:W1.Sha256}),a=new G1.HttpRequest({method:"POST",hostname:n.hostname,path:n.pathname,body:o,headers:{"Content-Type":"application/json",host:n.hostname}}),u=await i.sign(a),f=await(await fetch(r,{method:u.method,headers:u.headers,body:u.body})).json();if(f.errors)throw new Error(f.errors[0].message);return f.data}var Lme=async e=>{console.log("[SCHEDULER] Pulse");let t=new va.SQSClient({region:Po("AWS_REGION")||"us-east-1"}),r=Po("MARKET_QUEUE_URL");for(let s of Q1)try{await t.send(new va.SendMessageCommand({QueueUrl:r,MessageBody:JSON.stringify({ticker:s,type:"PRICE"})})),await t.send(new va.SendMessageCommand({QueueUrl:r,MessageBody:JSON.stringify({ticker:s,type:"FUNDAMENTAL"})}))}catch(n){console.error(`[SQS] Fail: ${s}`,n)}try{await YW("mutation L($i: CreateAuditLogInput!) { createAuditLog(input: $i) { id } }",{i:{action:"SCHEDULED_SYNC_DISPATCHED",details:`Dispatched ${Q1.length} tickers.`}})}catch(s){console.error("[SCHEDULER] Audit Fail:",s)}return{statusCode:200,body:"OK"}};export{Lme as handler};
//# sourceMappingURL=index.mjs.map

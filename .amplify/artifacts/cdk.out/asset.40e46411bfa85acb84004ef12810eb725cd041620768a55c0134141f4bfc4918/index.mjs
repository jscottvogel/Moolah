/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var I$=Object.create;var Ia=Object.defineProperty;var P$=Object.getOwnPropertyDescriptor;var O$=Object.getOwnPropertyNames;var N$=Object.getPrototypeOf,M$=Object.prototype.hasOwnProperty;var Y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var S=(e,t)=>()=>(e&&(t=e(e=0)),t);var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ye=(e,t)=>{for(var r in t)Ia(e,r,{get:t[r],enumerable:!0})},ZS=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of O$(t))!M$.call(e,n)&&n!==r&&Ia(e,n,{get:()=>t[n],enumerable:!(s=P$(t,n))||s.enumerable});return e};var _=(e,t,r)=>(r=e!=null?I$(N$(e)):{},ZS(t||!e||!e.__esModule?Ia(r,"default",{value:e,enumerable:!0}):r,e)),J=e=>ZS(Ia({},"__esModule",{value:!0}),e);import{createRequire as D$}from"node:module";import k$ from"node:path";import $$ from"node:url";var c=S(()=>{global.require=D$(import.meta.url);global.__filename=$$.fileURLToPath(import.meta.url);global.__dirname=k$.dirname(__filename)});var jr=v(we=>{"use strict";c();we.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(we.HttpAuthLocation||(we.HttpAuthLocation={}));we.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(we.HttpApiKeyAuthLocation||(we.HttpApiKeyAuthLocation={}));we.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(we.EndpointURLScheme||(we.EndpointURLScheme={}));we.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(we.AlgorithmId||(we.AlgorithmId={}));var L$=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>we.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>we.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},U$=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},F$=e=>L$(e),B$=e=>U$(e);we.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(we.FieldPosition||(we.FieldPosition={}));var q$="__smithy_context";we.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(we.IniSectionType||(we.IniSectionType={}));we.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(we.RequestHandlerProtocol||(we.RequestHandlerProtocol={}));we.SMITHY_CONTEXT_KEY=q$;we.getDefaultClientConfiguration=F$;we.resolveDefaultRuntimeConfig=B$});var re=v(Hr=>{"use strict";c();var j$=jr(),H$=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),z$=e=>({httpHandler:e.httpHandler()}),Gf=class{name;kind;values;constructor({name:t,kind:r=j$.FieldPosition.HEADER,values:s=[]}){this.name=t,this.kind=r,this.values=s}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Wf=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},Yf=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=V$(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function V$(e){return Object.keys(e).reduce((t,r)=>{let s=e[r];return{...t,[r]:Array.isArray(s)?[...s]:s}},{})}var Xf=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function Q$(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Hr.Field=Gf;Hr.Fields=Wf;Hr.HttpRequest=Yf;Hr.HttpResponse=Xf;Hr.getHttpHandlerExtensionConfiguration=H$;Hr.isValidHostname=Q$;Hr.resolveHttpHandlerRuntimeConfig=z$});var rE=v(Oo=>{"use strict";c();var K$=re();function G$(e){return e}var eE=e=>t=>async r=>{if(!K$.HttpRequest.isInstance(r.request))return t(r);let{request:s}=r,{handlerProtocol:n=""}=e.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let o=s.hostname;s.port!=null&&(o+=`:${s.port}`),s.headers.host=o}return t(r)},tE={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},W$=e=>({applyToStack:t=>{t.add(eE(e),tE)}});Oo.getHostHeaderPlugin=W$;Oo.hostHeaderMiddleware=eE;Oo.hostHeaderMiddlewareOptions=tE;Oo.resolveHostHeaderConfig=G$});var oE=v(Pa=>{"use strict";c();var sE=()=>(e,t)=>async r=>{try{let s=await e(r),{clientName:n,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:l}=a,f=u??t.inputFilterSensitiveLog,d=l??t.outputFilterSensitiveLog,{$metadata:g,...h}=s.output;return i?.info?.({clientName:n,commandName:o,input:f(r.input),output:d(h),metadata:g}),s}catch(s){let{clientName:n,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u}=a,l=u??t.inputFilterSensitiveLog;throw i?.error?.({clientName:n,commandName:o,input:l(r.input),error:s,metadata:s.$metadata}),s}},nE={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Y$=e=>({applyToStack:t=>{t.add(sE(),nE)}});Pa.getLoggerPlugin=Y$;Pa.loggerMiddleware=sE;Pa.loggerMiddlewareOptions=nE});var rp={};Ye(rp,{InvokeStore:()=>tp,InvokeStoreBase:()=>Mo});var No,Jf,Mo,Zf,ep,tp,sp=S(()=>{c();No={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},Jf=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");Jf||(globalThis.awslambda=globalThis.awslambda||{});Mo=class{static PROTECTED_KEYS=No;isProtectedKey(t){return Object.values(No).includes(t)}getRequestId(){return this.get(No.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(No.X_RAY_TRACE_ID)}getTenantId(){return this.get(No.TENANT_ID)}},Zf=class extends Mo{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},ep=class e extends Mo{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let s=this.als.getStore();if(!s)throw new Error("No context available");s[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let n="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await ep.create():new Zf;return!Jf&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!Jf&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=n),n)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})(tp||(tp={}))});var iE=v(Oa=>{"use strict";c();Object.defineProperty(Oa,"__esModule",{value:!0});Oa.recursionDetectionMiddleware=void 0;var X$=(sp(),J(rp)),J$=re(),np="X-Amzn-Trace-Id",Z$="AWS_LAMBDA_FUNCTION_NAME",eL="_X_AMZN_TRACE_ID",tL=()=>e=>async t=>{let{request:r}=t;if(!J$.HttpRequest.isInstance(r))return e(t);let s=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===np.toLowerCase())??np;if(r.headers.hasOwnProperty(s))return e(t);let n=process.env[Z$],o=process.env[eL],u=(await X$.InvokeStore.getInstanceAsync())?.getXRayTraceId()??o,l=f=>typeof f=="string"&&f.length>0;return l(n)&&l(u)&&(r.headers[np]=u),e({...t,request:r})};Oa.recursionDetectionMiddleware=tL});var aE=v(Na=>{"use strict";c();var op=iE(),rL={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},sL=e=>({applyToStack:t=>{t.add(op.recursionDetectionMiddleware(),rL)}});Na.getRecursionDetectionPlugin=sL;Object.keys(op).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Na,e)&&Object.defineProperty(Na,e,{enumerable:!0,get:function(){return op[e]}})})});var dE=v(lE=>{"use strict";c();var $s=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let s of t)r.push(s);return r},zr=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,ip=()=>{let e=[],t=[],r=!1,s=new Set,n=d=>d.sort((g,h)=>cE[h.step]-cE[g.step]||uE[h.priority||"normal"]-uE[g.priority||"normal"]),o=d=>{let g=!1,h=y=>{let b=$s(y.name,y.aliases);if(b.includes(d)){g=!0;for(let R of b)s.delete(R);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},i=d=>{let g=!1,h=y=>{if(y.middleware===d){g=!0;for(let b of $s(y.name,y.aliases))s.delete(b);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},a=d=>(e.forEach(g=>{d.add(g.middleware,{...g})}),t.forEach(g=>{d.addRelativeTo(g.middleware,{...g})}),d.identifyOnResolve?.(f.identifyOnResolve()),d),u=d=>{let g=[];return d.before.forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...u(h))}),g.push(d),d.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...u(h))}),g},l=(d=!1)=>{let g=[],h=[],y={};return e.forEach(R=>{let P={...R,before:[],after:[]};for(let N of $s(P.name,P.aliases))y[N]=P;g.push(P)}),t.forEach(R=>{let P={...R,before:[],after:[]};for(let N of $s(P.name,P.aliases))y[N]=P;h.push(P)}),h.forEach(R=>{if(R.toMiddleware){let P=y[R.toMiddleware];if(P===void 0){if(d)return;throw new Error(`${R.toMiddleware} is not found when adding ${zr(R.name,R.aliases)} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&P.after.push(R),R.relation==="before"&&P.before.push(R)}}),n(g).map(u).reduce((R,P)=>(R.push(...P),R),[])},f={add:(d,g={})=>{let{name:h,override:y,aliases:b}=g,R={step:"initialize",priority:"normal",middleware:d,...g},P=$s(h,b);if(P.length>0){if(P.some(N=>s.has(N))){if(!y)throw new Error(`Duplicate middleware name '${zr(h,b)}'`);for(let N of P){let $=e.findIndex(q=>q.name===N||q.aliases?.some(ee=>ee===N));if($===-1)continue;let L=e[$];if(L.step!==R.step||R.priority!==L.priority)throw new Error(`"${zr(L.name,L.aliases)}" middleware with ${L.priority} priority in ${L.step} step cannot be overridden by "${zr(h,b)}" middleware with ${R.priority} priority in ${R.step} step.`);e.splice($,1)}}for(let N of P)s.add(N)}e.push(R)},addRelativeTo:(d,g)=>{let{name:h,override:y,aliases:b}=g,R={middleware:d,...g},P=$s(h,b);if(P.length>0){if(P.some(N=>s.has(N))){if(!y)throw new Error(`Duplicate middleware name '${zr(h,b)}'`);for(let N of P){let $=t.findIndex(q=>q.name===N||q.aliases?.some(ee=>ee===N));if($===-1)continue;let L=t[$];if(L.toMiddleware!==R.toMiddleware||L.relation!==R.relation)throw new Error(`"${zr(L.name,L.aliases)}" middleware ${L.relation} "${L.toMiddleware}" middleware cannot be overridden by "${zr(h,b)}" middleware ${R.relation} "${R.toMiddleware}" middleware.`);t.splice($,1)}}for(let N of P)s.add(N)}t.push(R)},clone:()=>a(ip()),use:d=>{d.applyToStack(f)},remove:d=>typeof d=="string"?o(d):i(d),removeByTag:d=>{let g=!1,h=y=>{let{tags:b,name:R,aliases:P}=y;if(b&&b.includes(d)){let N=$s(R,P);for(let $ of N)s.delete($);return g=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),g},concat:d=>{let g=a(ip());return g.use(d),g.identifyOnResolve(r||g.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),g},applyToStack:a,identify:()=>l(!0).map(d=>{let g=d.step??d.relation+" "+d.toMiddleware;return zr(d.name,d.aliases)+" - "+g}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,g)=>{for(let h of l().map(y=>y.middleware).reverse())d=h(d,g);return r&&console.log(f.identify()),d}};return f},cE={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},uE={high:3,normal:2,low:1};lE.constructStack=ip});var ap=v(fE=>{"use strict";c();var nL=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";fE.isArrayBuffer=nL});var Et=v(up=>{"use strict";c();var oL=ap(),cp=Y("buffer"),iL=(e,t=0,r=e.byteLength-t)=>{if(!oL.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return cp.Buffer.from(e,t,r)},aL=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?cp.Buffer.from(e,t):cp.Buffer.from(e)};up.fromArrayBuffer=iL;up.fromString=aL});var pE=v(Ma=>{"use strict";c();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.fromBase64=void 0;var cL=Et(),uL=/^[A-Za-z0-9+/]*={0,2}$/,lL=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!uL.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,cL.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ma.fromBase64=lL});var Te=v(Da=>{"use strict";c();var mE=Et(),hE=e=>{let t=mE.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},dL=e=>typeof e=="string"?hE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),fL=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return mE.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Da.fromUtf8=hE;Da.toUint8Array=dL;Da.toUtf8=fL});var gE=v(ka=>{"use strict";c();Object.defineProperty(ka,"__esModule",{value:!0});ka.toBase64=void 0;var pL=Et(),mL=Te(),hL=e=>{let t;if(typeof e=="string"?t=(0,mL.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,pL.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ka.toBase64=hL});var ko=v(Do=>{"use strict";c();var yE=pE(),SE=gE();Object.keys(yE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Do,e)&&Object.defineProperty(Do,e,{enumerable:!0,get:function(){return yE[e]}})});Object.keys(SE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Do,e)&&Object.defineProperty(Do,e,{enumerable:!0,get:function(){return SE[e]}})})});var dp=v($a=>{"use strict";c();Object.defineProperty($a,"__esModule",{value:!0});$a.ChecksumStream=void 0;var gL=ko(),yL=Y("stream"),lp=class extends yL.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:s,checksumSourceLocation:n,base64Encoder:o}){if(super(),typeof s.pipe=="function")this.source=s;else throw new Error(`@smithy/util-stream: unsupported source type ${s?.constructor?.name??s} in ChecksumStream.`);this.base64Encoder=o??gL.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=n,this.source.pipe(this)}_read(t){}_write(t,r,s){try{this.checksum.update(t),this.push(t)}catch(n){return s(n)}return s()}async _final(t){try{let r=await this.checksum.digest(),s=this.base64Encoder(r);if(this.expectedChecksum!==s)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${s}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};$a.ChecksumStream=lp});var Sr=v(mn=>{"use strict";c();Object.defineProperty(mn,"__esModule",{value:!0});mn.isBlob=mn.isReadableStream=void 0;var SL=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);mn.isReadableStream=SL;var EL=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);mn.isBlob=EL});var EE=v(La=>{"use strict";c();Object.defineProperty(La,"__esModule",{value:!0});La.ChecksumStream=void 0;var wL=typeof ReadableStream=="function"?ReadableStream:function(){},fp=class extends wL{};La.ChecksumStream=fp});var wE=v(Ua=>{"use strict";c();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.createChecksumStream=void 0;var _L=ko(),bL=Sr(),TL=EE(),AL=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:s,base64Encoder:n})=>{if(!(0,bL.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let o=n??_L.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(u,l){t.update(u),l.enqueue(u)},async flush(u){let l=await t.digest(),f=o(l);if(e!==f){let d=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${s}".`);u.error(d)}else u.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,TL.ChecksumStream.prototype),a};Ua.createChecksumStream=AL});var _E=v(pp=>{"use strict";c();Object.defineProperty(pp,"__esModule",{value:!0});pp.createChecksumStream=vL;var xL=Sr(),RL=dp(),CL=wE();function vL(e){return typeof ReadableStream=="function"&&(0,xL.isReadableStream)(e.source)?(0,CL.createChecksumStream)(e):new RL.ChecksumStream(e)}});var hp=v(Fa=>{"use strict";c();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.ByteArrayCollector=void 0;var mp=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let s=this.byteArrays[0];return this.reset(),s}let t=this.allocByteArray(this.byteLength),r=0;for(let s=0;s<this.byteArrays.length;++s){let n=this.byteArrays[s];t.set(n,r),r+=n.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Fa.ByteArrayCollector=mp});var xE=v(Er=>{"use strict";c();Object.defineProperty(Er,"__esModule",{value:!0});Er.createBufferedReadable=void 0;Er.createBufferedReadableStream=bE;Er.merge=TE;Er.flush=Ba;Er.sizeOf=hn;Er.modeOf=AE;var IL=hp();function bE(e,t,r){let s=e.getReader(),n=!1,o=0,i=["",new IL.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,u=async l=>{let{value:f,done:d}=await s.read(),g=f;if(d){if(a!==-1){let h=Ba(i,a);hn(h)>0&&l.enqueue(h)}l.close()}else{let h=AE(g,!1);if(a!==h&&(a>=0&&l.enqueue(Ba(i,a)),a=h),a===-1){l.enqueue(g);return}let y=hn(g);o+=y;let b=hn(i[a]);if(y>=t&&b===0)l.enqueue(g);else{let R=TE(i,a,g);!n&&o>t*2&&(n=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),R>=t?l.enqueue(Ba(i,a)):await u(l)}}};return new ReadableStream({pull:u})}Er.createBufferedReadable=bE;function TE(e,t,r){switch(t){case 0:return e[0]+=r,hn(e[0]);case 1:case 2:return e[t].push(r),hn(e[t])}}function Ba(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function hn(e){return e?.byteLength??e?.length??0}function AE(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var CE=v(gp=>{"use strict";c();Object.defineProperty(gp,"__esModule",{value:!0});gp.createBufferedReadable=NL;var PL=Y("node:stream"),RE=hp(),wr=xE(),OL=Sr();function NL(e,t,r){if((0,OL.isReadableStream)(e))return(0,wr.createBufferedReadableStream)(e,t,r);let s=new PL.Readable({read(){}}),n=!1,o=0,i=["",new RE.ByteArrayCollector(u=>new Uint8Array(u)),new RE.ByteArrayCollector(u=>Buffer.from(new Uint8Array(u)))],a=-1;return e.on("data",u=>{let l=(0,wr.modeOf)(u,!0);if(a!==l&&(a>=0&&s.push((0,wr.flush)(i,a)),a=l),a===-1){s.push(u);return}let f=(0,wr.sizeOf)(u);o+=f;let d=(0,wr.sizeOf)(i[a]);if(f>=t&&d===0)s.push(u);else{let g=(0,wr.merge)(i,a,u);!n&&o>t*2&&(n=!0,r?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${t}, automatically buffering.`)),g>=t&&s.push((0,wr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let u=(0,wr.flush)(i,a);(0,wr.sizeOf)(u)>0&&s.push(u)}s.push(null)}),s}});var vE=v(qa=>{"use strict";c();Object.defineProperty(qa,"__esModule",{value:!0});qa.getAwsChunkedEncodingStream=void 0;var ML=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:s,checksumAlgorithmFn:n,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&n!==void 0&&o!==void 0&&i!==void 0,u=a?i(n,e):void 0,l=e.getReader();return new ReadableStream({async pull(f){let{value:d,done:g}=await l.read();if(g){if(f.enqueue(`0\r
`),a){let h=r(await u);f.enqueue(`${o}:${h}\r
`),f.enqueue(`\r
`)}f.close()}else f.enqueue(`${(s(d)||0).toString(16)}\r
${d}\r
`)}})};qa.getAwsChunkedEncodingStream=ML});var IE=v(yp=>{"use strict";c();Object.defineProperty(yp,"__esModule",{value:!0});yp.getAwsChunkedEncodingStream=LL;var DL=Y("node:stream"),kL=vE(),$L=Sr();function LL(e,t){let r=e,s=e;if((0,$L.isReadableStream)(s))return(0,kL.getAwsChunkedEncodingStream)(s,t);let{base64Encoder:n,bodyLengthChecker:o,checksumAlgorithmFn:i,checksumLocationName:a,streamHasher:u}=t,l=n!==void 0&&i!==void 0&&a!==void 0&&u!==void 0,f=l?u(i,r):void 0,d=new DL.Readable({read:()=>{}});return r.on("data",g=>{let h=o(g)||0;h!==0&&(d.push(`${h.toString(16)}\r
`),d.push(g),d.push(`\r
`))}),r.on("end",async()=>{if(d.push(`0\r
`),l){let g=n(await f);d.push(`${a}:${g}\r
`),d.push(`\r
`)}d.push(null)}),d}});var PE=v(Sp=>{"use strict";c();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.headStream=UL;async function UL(e,t){let r=0,s=[],n=e.getReader(),o=!1;for(;!o;){let{done:u,value:l}=await n.read();if(l&&(s.push(l),r+=l?.byteLength??0),r>=t)break;o=u}n.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let u of s){if(u.byteLength>i.byteLength-a){i.set(u.subarray(0,i.byteLength-a),a);break}else i.set(u,a);a+=u.length}return i}});var OE=v(ja=>{"use strict";c();Object.defineProperty(ja,"__esModule",{value:!0});ja.headStream=void 0;var FL=Y("stream"),BL=PE(),qL=Sr(),jL=(e,t)=>(0,qL.isReadableStream)(e)?(0,BL.headStream)(e,t):new Promise((r,s)=>{let n=new Ep;n.limit=t,e.pipe(n),e.on("error",o=>{n.end(),s(o)}),n.on("error",s),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});ja.headStream=jL;var Ep=class extends FL.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,s){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let n=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-n),this.emit("finish")}s()}}});var ME=v(wp=>{"use strict";c();var NE=e=>encodeURIComponent(e).replace(/[!'()*]/g,HL),HL=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,zL=e=>e.split("/").map(NE).join("/");wp.escapeUri=NE;wp.escapeUriPath=zL});var kE=v(DE=>{"use strict";c();var _p=ME();function VL(e){let t=[];for(let r of Object.keys(e).sort()){let s=e[r];if(r=_p.escapeUri(r),Array.isArray(s))for(let n=0,o=s.length;n<o;n++)t.push(`${r}=${_p.escapeUri(s[n])}`);else{let n=r;(s||typeof s=="string")&&(n+=`=${_p.escapeUri(s)}`),t.push(n)}}return t.join("&")}DE.buildQueryString=VL});var Vr=v($o=>{"use strict";c();var FE=re(),BE=kE(),Ha=Y("http"),za=Y("https"),qE=Y("stream"),bp=Y("http2"),QL=["ECONNRESET","EPIPE","ETIMEDOUT"],jE=e=>{let t={};for(let r of Object.keys(e)){let s=e[r];t[r]=Array.isArray(s)?s.join(","):s}return t},ct={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},$E=1e3,KL=(e,t,r=0)=>{if(!r)return-1;let s=n=>{let o=ct.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-n),i=a=>{a?.connecting?a.on("connect",()=>{ct.clearTimeout(o)}):ct.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(s(0),0):ct.setTimeout(s.bind(null,$E),$E)},GL=(e,t,r=0,s,n)=>r?ct.setTimeout(()=>{let o=`@smithy/node-http-handler - [${s?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(s){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",n?.warn?.(o)},r):-1,WL=3e3,YL=(e,{keepAlive:t,keepAliveMsecs:r},s=WL)=>{if(t!==!0)return-1;let n=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})};return s===0?(n(),0):ct.setTimeout(n,s)},LE=3e3,XL=(e,t,r=0)=>{let s=n=>{let o=r-n,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<r&&r<6e3?(s(0),0):ct.setTimeout(s.bind(null,r===0?0:LE),LE)},UE=6e3;async function HE(e,t,r=UE,s=!1){let n=t.headers??{},o=n.Expect||n.expect,i=-1,a=!0;!s&&o==="100-continue"&&(a=await Promise.race([new Promise(u=>{i=Number(ct.setTimeout(()=>u(!0),Math.max(UE,r)))}),new Promise(u=>{e.on("continue",()=>{ct.clearTimeout(i),u(!0)}),e.on("response",()=>{ct.clearTimeout(i),u(!1)}),e.on("error",()=>{ct.clearTimeout(i),u(!1)})})])),a&&JL(e,t.body)}function JL(e,t){if(t instanceof qE.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var ZL=0,Tp=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,s=console){let{sockets:n,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(n&&o)for(let u in n){let l=n[u]?.length??0,f=o[u]?.length??0;if(l>=i&&f>=2*i)return s?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,s)=>{typeof t=="function"?t().then(n=>{r(this.resolveDefaultConfig(n))}).catch(s):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:s,socketTimeout:n,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:u}=t||{},l=!0,f=50;return{connectionTimeout:s,requestTimeout:r,socketTimeout:n,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:u,httpAgent:i instanceof Ha.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Ha.Agent({keepAlive:l,maxSockets:f,...i}),httpsAgent:a instanceof za.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new za.Agent({keepAlive:l,maxSockets:f,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:s}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{let i=this.config,a,u=[],l=async Q=>{await a,u.forEach(ct.clearTimeout),n(Q)},f=async Q=>{await a,u.forEach(ct.clearTimeout),o(Q)};if(r?.aborted){let Q=new Error("Request aborted");Q.name="AbortError",f(Q);return}let d=t.protocol==="https:",g=t.headers??{},h=(g.Expect??g.expect)==="100-continue",y=d?i.httpsAgent:i.httpAgent;h&&!this.externalAgent&&(y=new(d?za.Agent:Ha.Agent)({keepAlive:!1,maxSockets:1/0})),u.push(ct.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(y,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let b=BE.buildQueryString(t.query||{}),R;if(t.username!=null||t.password!=null){let Q=t.username??"",ne=t.password??"";R=`${Q}:${ne}`}let P=t.path;b&&(P+=`?${b}`),t.fragment&&(P+=`#${t.fragment}`);let N=t.hostname??"";N[0]==="["&&N.endsWith("]")?N=t.hostname.slice(1,-1):N=t.hostname;let $={headers:t.headers,host:N,method:t.method,path:P,port:t.port,agent:y,auth:R},q=(d?za.request:Ha.request)($,Q=>{let ne=new FE.HttpResponse({statusCode:Q.statusCode||-1,reason:Q.statusMessage,headers:jE(Q.headers),body:Q});l({response:ne})});if(q.on("error",Q=>{QL.includes(Q.code)?f(Object.assign(Q,{name:"TimeoutError"})):f(Q)}),r){let Q=()=>{q.destroy();let ne=new Error("Request aborted");ne.name="AbortError",f(ne)};if(typeof r.addEventListener=="function"){let ne=r;ne.addEventListener("abort",Q,{once:!0}),q.once("close",()=>ne.removeEventListener("abort",Q))}else r.onabort=Q}let ee=s??i.requestTimeout;u.push(KL(q,f,i.connectionTimeout)),u.push(GL(q,f,ee,i.throwOnRequestTimeout,i.logger??console)),u.push(XL(q,f,i.socketTimeout));let Ae=$.agent;typeof Ae=="object"&&"keepAlive"in Ae&&u.push(YL(q,{keepAlive:Ae.keepAlive,keepAliveMsecs:Ae.keepAliveMsecs})),a=HE(q,t,ee,this.externalAgent).catch(Q=>(u.forEach(ct.clearTimeout),o(Q)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(s=>({...s,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Ap=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},xp=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let s=this.getUrlString(t),n=this.sessionCache.get(s);if(n){let u=n.poll();if(u&&!this.config.disableConcurrency)return u}let o=bp.connect(s);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},u=>{if(u)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(s,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(s,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(s)||new Ap;return a.offerLast(o),this.sessionCache.set(s,a),o}deleteSession(t,r){let s=this.sessionCache.get(t);s&&s.contains(r)&&(s.remove(r),this.sessionCache.set(t,s))}release(t,r){let s=this.getUrlString(t);this.sessionCache.get(s)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let s of r)s.destroyed||s.destroy(),r.remove(s);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Rp=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new xp({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,s)=>{typeof t=="function"?t().then(n=>{r(n||{})}).catch(s):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:s}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config,i=s??n;return new Promise((a,u)=>{let l=!1,f,d=async Ee=>{await f,a(Ee)},g=async Ee=>{await f,u(Ee)};if(r?.aborted){l=!0;let Ee=new Error("Request aborted");Ee.name="AbortError",g(Ee);return}let{hostname:h,method:y,port:b,protocol:R,query:P}=t,N="";if(t.username!=null||t.password!=null){let Ee=t.username??"",Ve=t.password??"";N=`${Ee}:${Ve}@`}let $=`${R}//${N}${h}${b?`:${b}`:""}`,L={destination:new URL($)},q=this.connectionManager.lease(L,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),ee=Ee=>{o&&this.destroySession(q),l=!0,g(Ee)},Ae=BE.buildQueryString(P||{}),Q=t.path;Ae&&(Q+=`?${Ae}`),t.fragment&&(Q+=`#${t.fragment}`);let ne=q.request({...t.headers,[bp.constants.HTTP2_HEADER_PATH]:Q,[bp.constants.HTTP2_HEADER_METHOD]:y});if(q.ref(),ne.on("response",Ee=>{let Ve=new FE.HttpResponse({statusCode:Ee[":status"]||-1,headers:jE(Ee),body:ne});l=!0,d({response:Ve}),o&&(q.close(),this.connectionManager.deleteSession($,q))}),i&&ne.setTimeout(i,()=>{ne.close();let Ee=new Error(`Stream timed out because of no activity for ${i} ms`);Ee.name="TimeoutError",ee(Ee)}),r){let Ee=()=>{ne.close();let Ve=new Error("Request aborted");Ve.name="AbortError",ee(Ve)};if(typeof r.addEventListener=="function"){let Ve=r;Ve.addEventListener("abort",Ee,{once:!0}),ne.once("close",()=>Ve.removeEventListener("abort",Ee))}else r.onabort=Ee}ne.on("frameError",(Ee,Ve,St)=>{ee(new Error(`Frame type id ${Ee} in stream id ${St} has failed with code ${Ve}.`))}),ne.on("error",ee),ne.on("aborted",()=>{ee(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ne.rstCode}.`))}),ne.on("close",()=>{q.unref(),o&&q.destroy(),l||ee(new Error("Unexpected error: http2 request did not get a response"))}),f=HE(ne,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(s=>({...s,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Cp=class extends qE.Writable{bufferedBytes=[];_write(t,r,s){this.bufferedBytes.push(t),s()}},eU=e=>tU(e)?rU(e):new Promise((t,r)=>{let s=new Cp;e.pipe(s),e.on("error",n=>{s.end(),r(n)}),s.on("error",r),s.on("finish",function(){let n=new Uint8Array(Buffer.concat(this.bufferedBytes));t(n)})}),tU=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function rU(e){let t=[],r=e.getReader(),s=!1,n=0;for(;!s;){let{done:a,value:u}=await r.read();u&&(t.push(u),n+=u.length),s=a}let o=new Uint8Array(n),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}$o.DEFAULT_REQUEST_TIMEOUT=ZL;$o.NodeHttp2Handler=Rp;$o.NodeHttpHandler=Tp;$o.streamCollector=eU});var VE=v(vp=>{"use strict";c();var zE=e=>encodeURIComponent(e).replace(/[!'()*]/g,sU),sU=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,nU=e=>e.split("/").map(zE).join("/");vp.escapeUri=zE;vp.escapeUriPath=nU});var KE=v(QE=>{"use strict";c();var Ip=VE();function oU(e){let t=[];for(let r of Object.keys(e).sort()){let s=e[r];if(r=Ip.escapeUri(r),Array.isArray(s))for(let n=0,o=s.length;n<o;n++)t.push(`${r}=${Ip.escapeUri(s[n])}`);else{let n=r;(s||typeof s=="string")&&(n+=`=${Ip.escapeUri(s)}`),t.push(n)}}return t.join("&")}QE.buildQueryString=oU});var GE=v(Va=>{"use strict";c();Object.defineProperty(Va,"__esModule",{value:!0});Va.fromBase64=void 0;var iU=Et(),aU=/^[A-Za-z0-9+/]*={0,2}$/,cU=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!aU.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,iU.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Va.fromBase64=cU});var WE=v(Qa=>{"use strict";c();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.toBase64=void 0;var uU=Et(),lU=Te(),dU=e=>{let t;if(typeof e=="string"?t=(0,lU.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,uU.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Qa.toBase64=dU});var JE=v(Lo=>{"use strict";c();var YE=GE(),XE=WE();Object.keys(YE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lo,e)&&Object.defineProperty(Lo,e,{enumerable:!0,get:function(){return YE[e]}})});Object.keys(XE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lo,e)&&Object.defineProperty(Lo,e,{enumerable:!0,get:function(){return XE[e]}})})});var tw=v(Ga=>{"use strict";c();var ZE=re(),fU=KE(),pU=JE();function ew(e,t){return new Request(e,t)}function mU(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let s=new Error(`Request did not complete within ${e} ms`);s.name="TimeoutError",r(s)},e)})}var Ka={supported:void 0},Pp=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Ka.supported===void 0&&(Ka.supported=typeof Request<"u"&&"keepalive"in ew("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:s}={}){this.config||(this.config=await this.configProvider);let n=s??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let N=new Error("Request aborted");return N.name="AbortError",Promise.reject(N)}let a=t.path,u=fU.buildQueryString(t.query||{});u&&(a+=`?${u}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let N=t.username??"",$=t.password??"";l=`${N}:${$}@`}let{port:f,method:d}=t,g=`${t.protocol}//${l}${t.hostname}${f?`:${f}`:""}${a}`,h=d==="GET"||d==="HEAD"?void 0:t.body,y={body:h,headers:new Headers(t.headers),method:d,credentials:i};this.config?.cache&&(y.cache=this.config.cache),h&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),Ka.supported&&(y.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let b=()=>{},R=ew(g,y),P=[fetch(R).then(N=>{let $=N.headers,L={};for(let ee of $.entries())L[ee[0]]=ee[1];return N.body!=null?{response:new ZE.HttpResponse({headers:L,reason:N.statusText,statusCode:N.status,body:N.body})}:N.blob().then(ee=>({response:new ZE.HttpResponse({headers:L,reason:N.statusText,statusCode:N.status,body:ee})}))}),mU(n)];return r&&P.push(new Promise((N,$)=>{let L=()=>{let q=new Error("Request aborted");q.name="AbortError",$(q)};if(typeof r.addEventListener=="function"){let q=r;q.addEventListener("abort",L,{once:!0}),b=()=>q.removeEventListener("abort",L)}else r.onabort=L})),Promise.race(P).finally(b)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(s=>(s[t]=r,s))}httpHandlerConfigs(){return this.config??{}}},hU=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):gU(e):yU(e);async function gU(e){let t=await SU(e),r=pU.fromBase64(t);return new Uint8Array(r)}async function yU(e){let t=[],r=e.getReader(),s=!1,n=0;for(;!s;){let{done:a,value:u}=await r.read();u&&(t.push(u),n+=u.length),s=a}let o=new Uint8Array(n),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}function SU(e){return new Promise((t,r)=>{let s=new FileReader;s.onloadend=()=>{if(s.readyState!==2)return r(new Error("Reader aborted too early"));let n=s.result??"",o=n.indexOf(","),i=o>-1?o+1:n.length;t(n.substring(i))},s.onabort=()=>r(new Error("Read aborted")),s.onerror=()=>r(s.error),s.readAsDataURL(e)})}Ga.FetchHttpHandler=Pp;Ga.keepAliveSupport=Ka;Ga.streamCollector=hU});var Wa=v(Np=>{"use strict";c();var rw={},Op={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),rw[e]=t,Op[t]=e}function EU(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let s=e.slice(r,r+2).toLowerCase();if(s in Op)t[r/2]=Op[s];else throw new Error(`Cannot decode unrecognized sequence ${s} as hexadecimal`)}return t}function wU(e){let t="";for(let r=0;r<e.byteLength;r++)t+=rw[e[r]];return t}Np.fromHex=EU;Np.toHex=wU});var iw=v(Ya=>{"use strict";c();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.sdkStreamMixin=void 0;var _U=tw(),bU=ko(),TU=Wa(),AU=Te(),sw=Sr(),nw="The stream has already been transformed.",xU=e=>{if(!ow(e)&&!(0,sw.isReadableStream)(e)){let n=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${n}`)}let t=!1,r=async()=>{if(t)throw new Error(nw);return t=!0,await(0,_U.streamCollector)(e)},s=n=>{if(typeof n.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return n.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();if(n==="base64")return(0,bU.toBase64)(o);if(n==="hex")return(0,TU.toHex)(o);if(n===void 0||n==="utf8"||n==="utf-8")return(0,AU.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(n).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(nw);if(t=!0,ow(e))return s(e);if((0,sw.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Ya.sdkStreamMixin=xU;var ow=e=>typeof Blob=="function"&&e instanceof Blob});var cw=v(Xa=>{"use strict";c();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.sdkStreamMixin=void 0;var RU=Vr(),CU=Et(),Mp=Y("stream"),vU=iw(),aw="The stream has already been transformed.",IU=e=>{if(!(e instanceof Mp.Readable))try{return(0,vU.sdkStreamMixin)(e)}catch{let n=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${n}`)}let t=!1,r=async()=>{if(t)throw new Error(aw);return t=!0,await(0,RU.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let n=await r();return s===void 0||Buffer.isEncoding(s)?(0,CU.fromArrayBuffer)(n.buffer,n.byteOffset,n.byteLength).toString(s):new TextDecoder(s).decode(n)},transformToWebStream:()=>{if(t)throw new Error(aw);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Mp.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Mp.Readable.toWeb(e)}})};Xa.sdkStreamMixin=IU});var uw=v(Dp=>{"use strict";c();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.splitStream=PU;async function PU(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var fw=v(kp=>{"use strict";c();Object.defineProperty(kp,"__esModule",{value:!0});kp.splitStream=NU;var lw=Y("stream"),OU=uw(),dw=Sr();async function NU(e){if((0,dw.isReadableStream)(e)||(0,dw.isBlob)(e))return(0,OU.splitStream)(e);let t=new lw.PassThrough,r=new lw.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Ja=v(qe=>{"use strict";c();var pw=ko(),mw=Te(),hw=dp(),gw=_E(),yw=CE(),Sw=IE(),Ew=OE(),ww=cw(),_w=fw(),bw=Sr(),$p=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(pw.fromBase64(t)):e.mutate(mw.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?pw.toBase64(this):mw.toUtf8(this)}};Object.defineProperty(qe,"isBlob",{enumerable:!0,get:function(){return bw.isBlob}});Object.defineProperty(qe,"isReadableStream",{enumerable:!0,get:function(){return bw.isReadableStream}});qe.Uint8ArrayBlobAdapter=$p;Object.keys(hw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return hw[e]}})});Object.keys(gw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return gw[e]}})});Object.keys(yw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return yw[e]}})});Object.keys(Sw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return Sw[e]}})});Object.keys(Ew).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return Ew[e]}})});Object.keys(ww).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return ww[e]}})});Object.keys(_w).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qe,e)&&Object.defineProperty(qe,e,{enumerable:!0,get:function(){return _w[e]}})})});var Za,ut,ec=S(()=>{c();Za=_(Ja()),ut=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Za.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Za.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Za.Uint8ArrayBlobAdapter.mutate(await r)}});function Tt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var tc=S(()=>{c()});var lt,Lp=S(()=>{c();lt=e=>typeof e=="function"?e():e});var dt=v(Up=>{"use strict";c();var Tw=jr(),MU=e=>e[Tw.SMITHY_CONTEXT_KEY]||(e[Tw.SMITHY_CONTEXT_KEY]={}),DU=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Up.getSmithyContext=MU;Up.normalizeProvider=DU});var Uo,rc=S(()=>{c();Uo=(e,t,r,s,n)=>({name:t,namespace:e,traits:r,input:s,output:n})});var Aw,xw,Rw,Fp,Cw=S(()=>{c();Aw=_(re()),xw=_(dt());rc();Rw=e=>(t,r)=>async s=>{let{response:n}=await t(s),{operationSchema:o}=(0,xw.getSmithyContext)(r),[,i,a,u,l,f]=o??[];try{let d=await e.protocol.deserializeResponse(Uo(i,a,u,l,f),{...e,...r},n);return{response:n,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:n,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let g="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+g}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(g):r.logger?.warn?.(g)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(Aw.HttpResponse.isInstance(n)){let{headers:h={}}=n,y=Object.entries(h);d.$metadata={httpStatusCode:n.statusCode,requestId:Fp(/^x-[\w-]+-request-?id$/,y),extendedRequestId:Fp(/^x-[\w-]+-id-2$/,y),cfId:Fp(/^x-[\w-]+-cf-id$/,y)}}}catch{}}throw d}},Fp=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var vw,Iw,Pw=S(()=>{c();vw=_(dt());rc();Iw=e=>(t,r)=>async s=>{let{operationSchema:n}=(0,vw.getSmithyContext)(r),[,o,i,a,u,l]=n??[],f=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,d=await e.protocol.serializeRequest(Uo(o,i,a,u,l),s.input,{...e,...r,endpoint:f});return t({...s,request:d})}});function Ls(e){return{applyToStack:t=>{t.add(Iw(e),Nw),t.add(Rw(e),Ow),e.protocol.setSerdeContext(e)}}}var Ow,Nw,Mw=S(()=>{c();Cw();Pw();Ow={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Nw={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var De,Qr=S(()=>{c();De=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var sc,kU,Dw=S(()=>{c();Qr();sc=class e extends De{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},kU=(e,t,r,s)=>De.assign(new sc,{name:t,namespace:e,traits:r,valueSchema:s})});var nc,$U,kw=S(()=>{c();Qr();nc=class e extends De{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},$U=(e,t,r,s,n)=>De.assign(new nc,{name:t,namespace:e,traits:r,keySchema:s,valueSchema:n})});var oc,LU,$w=S(()=>{c();Qr();oc=class e extends De{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},LU=(e,t,r,s,n)=>De.assign(new oc,{name:t,namespace:e,traits:r,input:s,output:n})});var gn,UU,Bp=S(()=>{c();Qr();gn=class e extends De{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},UU=(e,t,r,s,n)=>De.assign(new gn,{name:t,namespace:e,traits:r,memberNames:s,memberList:n})});var ic,FU,Lw=S(()=>{c();Qr();Bp();ic=class e extends gn{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},FU=(e,t,r,s,n,o)=>De.assign(new ic,{name:t,namespace:e,traits:r,memberNames:s,memberList:n,ctor:null})});function sr(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let s of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[s]=1);return t}var qp=S(()=>{c()});function Fo(e,t){if(e instanceof D)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=D;return new r(e,t)}var Uw,D,jp,Fw,Bw=S(()=>{c();Lp();qp();Uw={it:Symbol.for("@smithy/nor-struct-it")},D=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let s=[],n=t,o=t;for(this._isMemberSchema=!1;jp(n);)s.push(n[1]),n=n[0],o=lt(n),this._isMemberSchema=!0;if(s.length>0){this.memberTraits={};for(let i=s.length-1;i>=0;--i){let a=s[i];Object.assign(this.memberTraits,sr(a))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=lt(o),Fw(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=lt(t);if(r instanceof e)return r;if(jp(r)){let[s,n]=r;if(s instanceof e)return Object.assign(s.getMergedTraits(),sr(n)),s;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return sr(this.memberTraits)}getOwnTraits(){return sr(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let s=this.getSchema(),n=t?15:s[4]??0;return Fo([n,0],"key")}getValueSchema(){let t=this.getSchema(),[r,s,n]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(s||n)?t[3+t[0]]:r?15:void 0;if(o!=null)return Fo([o,0],s?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let s=r[4].indexOf(t),n=r[5][s];return Fo(jp(n)?n:[n,0],t)}if(this.isDocumentSchema())return Fo([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,s]of this.structIterator())t[r]=s}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema(),r=t[4].length,s=t[Uw.it];if(s&&r===s.length){yield*s;return}s=Array(r);for(let n=0;n<r;++n){let o=t[4][n],i=Fo([t[5][n],0],o);yield s[n]=[o,i]}t[Uw.it]=s}};jp=e=>Array.isArray(e)&&e.length===2,Fw=e=>Array.isArray(e)&&e.length>=5});var Bo,BU,qU,qw=S(()=>{c();Qr();Bo=class e extends De{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},BU=(e,t,r,s)=>De.assign(new Bo,{name:t,namespace:e,traits:s,schemaRef:r}),qU=(e,t,r,s)=>De.assign(new Bo,{name:t,namespace:e,traits:r,schemaRef:s})});var jU,jw=S(()=>{c();jU={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var U,Hw=S(()=>{c();U=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,s=new Map){this.namespace=t,this.schemas=r,this.exceptions=s}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let s=this.normalizeShapeId(t);e.for(s.split("#")[0]).schemas.set(s,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let s=t,n=e.for(s[1]);n.schemas.set(s[1]+"#"+s[2],s),n.exceptions.set(s,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,s]=t,n=r+"#"+s;if(n.startsWith("smithy.ts.sdk.synthetic.")&&n.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var ac={};Ye(ac,{ErrorSchema:()=>ic,ListSchema:()=>sc,MapSchema:()=>nc,NormalizedSchema:()=>D,OperationSchema:()=>oc,SCHEMA:()=>jU,Schema:()=>De,SimpleSchema:()=>Bo,StructureSchema:()=>gn,TypeRegistry:()=>U,deref:()=>lt,deserializerMiddlewareOption:()=>Ow,error:()=>FU,getSchemaSerdePlugin:()=>Ls,isStaticSchema:()=>Fw,list:()=>kU,map:()=>$U,op:()=>LU,operation:()=>Uo,serializerMiddlewareOption:()=>Nw,sim:()=>BU,simAdapter:()=>qU,struct:()=>UU,translateTraits:()=>sr});var K=S(()=>{c();Lp();Mw();Dw();kw();$w();rc();Lw();Bw();Qr();qw();Bp();jw();qp();Hw()});var HU,zw=S(()=>{c();HU=(e,t,r=s=>s)=>e});var zU,VU,qo,QU,cc,jo,KU,Hp,zp,Vp,Qp,GU,WU,Vw,YU,XU,lc,JU,Kp,ZU,yn,Gp,eF,tF,rF,Qw,Kw,sF,nF,Us,Wp,uc,Ho,Yp=S(()=>{c();zU=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},VU=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ho.warn(uc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ho.warn(uc(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},qo=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ho.warn(uc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},QU=Math.ceil(34028234663852886e22),cc=e=>{let t=qo(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>QU)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},jo=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},KU=jo,Hp=e=>Qp(e,32),zp=e=>Qp(e,16),Vp=e=>Qp(e,8),Qp=(e,t)=>{let r=jo(e);if(r!==void 0&&GU(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},GU=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},WU=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Vw=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},YU=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ho.warn(uc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},XU=e=>{if(e==null)return;let t=Vw(e),r=Object.entries(t).filter(([,s])=>s!=null).map(([s])=>s);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},lc=e=>qo(typeof e=="string"?yn(e):e),JU=lc,Kp=e=>cc(typeof e=="string"?yn(e):e),ZU=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,yn=e=>{let t=e.match(ZU);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Gp=e=>typeof e=="string"?Qw(e):qo(e),eF=Gp,tF=Gp,rF=e=>typeof e=="string"?Qw(e):cc(e),Qw=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Kw=e=>jo(typeof e=="string"?yn(e):e),sF=Kw,nF=e=>Hp(typeof e=="string"?yn(e):e),Us=e=>zp(typeof e=="string"?yn(e):e),Wp=e=>Vp(typeof e=="string"?yn(e):e),uc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ho={warn:console.warn}});function Fs(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),s=e.getUTCDay(),n=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),u=n<10?`0${n}`:`${n}`,l=o<10?`0${o}`:`${o}`,f=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`;return`${oF[s]}, ${u} ${Jp[r]} ${t} ${l}:${f}:${d} GMT`}var oF,Jp,iF,aF,cF,Vo,uF,lF,dF,Qo,Ko,zo,fF,pF,mF,Xp,hF,gF,yF,nr,SF,EF,Sn,Gw=S(()=>{c();Yp();oF=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Jp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];iF=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),aF=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=iF.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,s,n,o,i,a,u,l]=t,f=Us(Sn(s)),d=nr(n,"month",1,12),g=nr(o,"day",1,31);return zo(f,d,g,{hours:i,minutes:a,seconds:u,fractionalMilliseconds:l})},cF=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Vo=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=cF.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,s,n,o,i,a,u,l,f]=t,d=Us(Sn(s)),g=nr(n,"month",1,12),h=nr(o,"day",1,31),y=zo(d,g,h,{hours:i,minutes:a,seconds:u,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&y.setTime(y.getTime()-EF(f)),y},uF=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),lF=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),dF=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Qo=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=uF.exec(e);if(t){let[r,s,n,o,i,a,u,l]=t;return zo(Us(Sn(o)),Xp(n),nr(s,"day",1,31),{hours:i,minutes:a,seconds:u,fractionalMilliseconds:l})}if(t=lF.exec(e),t){let[r,s,n,o,i,a,u,l]=t;return mF(zo(fF(o),Xp(n),nr(s,"day",1,31),{hours:i,minutes:a,seconds:u,fractionalMilliseconds:l}))}if(t=dF.exec(e),t){let[r,s,n,o,i,a,u,l]=t;return zo(Us(Sn(l)),Xp(s),nr(n.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:u})}throw new TypeError("Invalid RFC-7231 date-time value")},Ko=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=lc(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},zo=(e,t,r,s)=>{let n=t-1;return gF(e,n,r),new Date(Date.UTC(e,n,r,nr(s.hours,"hour",0,23),nr(s.minutes,"minute",0,59),nr(s.seconds,"seconds",0,60),SF(s.fractionalMilliseconds)))},fF=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Us(Sn(e));return r<t?r+100:r},pF=50*365*24*60*60*1e3,mF=e=>e.getTime()-new Date().getTime()>pF?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Xp=e=>{let t=Jp.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},hF=[31,28,31,30,31,30,31,31,30,31,30,31],gF=(e,t,r)=>{let s=hF[t];if(t===1&&yF(e)&&(s=29),r>s)throw new TypeError(`Invalid day for ${Jp[t]} in ${e}: ${r}`)},yF=e=>e%4===0&&(e%100!==0||e%400===0),nr=(e,t,r,s)=>{let n=Wp(Sn(e));if(n<r||n>s)throw new TypeError(`${t} must be between ${r} and ${s}, inclusive`);return n},SF=e=>e==null?0:Kp("0."+e)*1e3,EF=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let s=Number(e.substring(1,3)),n=Number(e.substring(4,6));return r*(s*60+n)*60*1e3},Sn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Bs={};Ye(Bs,{__addDisposableResource:()=>E_,__assign:()=>dc,__asyncDelegator:()=>d_,__asyncGenerator:()=>l_,__asyncValues:()=>f_,__await:()=>En,__awaiter:()=>n_,__classPrivateFieldGet:()=>g_,__classPrivateFieldIn:()=>S_,__classPrivateFieldSet:()=>y_,__createBinding:()=>pc,__decorate:()=>Xw,__disposeResources:()=>w_,__esDecorate:()=>Zw,__exportStar:()=>i_,__extends:()=>Ww,__generator:()=>o_,__importDefault:()=>h_,__importStar:()=>m_,__makeTemplateObject:()=>p_,__metadata:()=>s_,__param:()=>Jw,__propKey:()=>t_,__read:()=>tm,__rest:()=>Yw,__rewriteRelativeImportExtension:()=>__,__runInitializers:()=>e_,__setFunctionName:()=>r_,__spread:()=>a_,__spreadArray:()=>u_,__spreadArrays:()=>c_,__values:()=>fc,default:()=>bF});function Ww(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Yw(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function Xw(e,t,r,s){var n=arguments.length,o=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,r,o):i(t,r))||o);return n>3&&o&&Object.defineProperty(t,r,o),o}function Jw(e,t){return function(r,s){t(r,s,e)}}function Zw(e,t,r,s,n,o){function i(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var a=s.kind,u=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?s.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,s.name):{}),d,g=!1,h=r.length-1;h>=0;h--){var y={};for(var b in s)y[b]=b==="access"?{}:s[b];for(var b in s.access)y.access[b]=s.access[b];y.addInitializer=function(P){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(P||null))};var R=(0,r[h])(a==="accessor"?{get:f.get,set:f.set}:f[u],y);if(a==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(d=i(R.get))&&(f.get=d),(d=i(R.set))&&(f.set=d),(d=i(R.init))&&n.unshift(d)}else(d=i(R))&&(a==="field"?n.unshift(d):f[u]=d)}l&&Object.defineProperty(l,s.name,f),g=!0}function e_(e,t,r){for(var s=arguments.length>2,n=0;n<t.length;n++)r=s?t[n].call(e,r):t[n].call(e);return s?r:void 0}function t_(e){return typeof e=="symbol"?e:"".concat(e)}function r_(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function s_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function n_(e,t,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{l(s.next(f))}catch(d){i(d)}}function u(f){try{l(s.throw(f))}catch(d){i(d)}}function l(f){f.done?o(f.value):n(f.value).then(a,u)}l((s=s.apply(e,t||[])).next())})}function o_(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,n,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(f){return u([l,f])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(s=1,n&&(o=l[0]&2?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,n=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(f){l=[6,f],n=0}finally{s=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function i_(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pc(t,e,r)}function fc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tm(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var s=r.call(e),n,o=[],i;try{for(;(t===void 0||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function a_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tm(arguments[t]));return e}function c_(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var s=Array(e),n=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,n++)s[n]=o[i];return s}function u_(e,t,r){if(r||arguments.length===2)for(var s=0,n=t.length,o;s<n;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function En(e){return this instanceof En?(this.v=e,this):new En(e)}function l_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(e,t||[]),n,o=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),n[Symbol.asyncIterator]=function(){return this},n;function i(h){return function(y){return Promise.resolve(y).then(h,d)}}function a(h,y){s[h]&&(n[h]=function(b){return new Promise(function(R,P){o.push([h,b,R,P])>1||u(h,b)})},y&&(n[h]=y(n[h])))}function u(h,y){try{l(s[h](y))}catch(b){g(o[0][3],b)}}function l(h){h.value instanceof En?Promise.resolve(h.value.v).then(f,d):g(o[0][2],h)}function f(h){u("next",h)}function d(h){u("throw",h)}function g(h,y){h(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}function d_(e){var t,r;return t={},s("next"),s("throw",function(n){throw n}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(n,o){t[n]=e[n]?function(i){return(r=!r)?{value:En(e[n](i)),done:!1}:o?o(i):i}:o}}function f_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fc=="function"?fc(e):e[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(o){r[o]=e[o]&&function(i){return new Promise(function(a,u){i=e[o](i),n(a,u,i.done,i.value)})}}function n(o,i,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},i)}}function p_(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function m_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=em(e),s=0;s<r.length;s++)r[s]!=="default"&&pc(t,e,r[s]);return wF(t,e),t}function h_(e){return e&&e.__esModule?e:{default:e}}function g_(e,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(e):s?s.value:t.get(e)}function y_(e,t,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r}function S_(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function E_(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:s,async:r})}else r&&e.stack.push({async:!0});return t}function w_(e){function t(o){e.error=e.hasError?new _F(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,s=0;function n(){for(;r=e.stack.pop();)try{if(!r.async&&s===1)return s=0,e.stack.push(r),Promise.resolve().then(n);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(o).then(n,function(i){return t(i),n()})}else s|=1}catch(i){t(i)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}function __(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,o,i){return s?t?".jsx":".js":n&&(!o||!i)?r:n+o+"."+i.toLowerCase()+"js"}):e}var Zp,dc,pc,wF,em,_F,bF,qs=S(()=>{c();Zp=function(e,t){return Zp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},Zp(e,t)};dc=function(){return dc=Object.assign||function(t){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},dc.apply(this,arguments)};pc=Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]};wF=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},em=function(e){return em=Object.getOwnPropertyNames||function(t){var r=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[r.length]=s);return r},em(e)};_F=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var s=new Error(r);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};bF={__extends:Ww,__assign:dc,__rest:Yw,__decorate:Xw,__param:Jw,__esDecorate:Zw,__runInitializers:e_,__propKey:t_,__setFunctionName:r_,__metadata:s_,__awaiter:n_,__generator:o_,__createBinding:pc,__exportStar:i_,__values:fc,__read:tm,__spread:a_,__spreadArrays:c_,__spreadArray:u_,__await:En,__asyncGenerator:l_,__asyncDelegator:d_,__asyncValues:f_,__makeTemplateObject:p_,__importStar:m_,__importDefault:h_,__classPrivateFieldGet:g_,__classPrivateFieldSet:y_,__classPrivateFieldIn:S_,__addDisposableResource:E_,__disposeResources:w_,__rewriteRelativeImportExtension:__}});var T_=v(mc=>{"use strict";c();Object.defineProperty(mc,"__esModule",{value:!0});mc.randomUUID=void 0;var TF=(qs(),J(Bs)),b_=TF.__importDefault(Y("crypto"));mc.randomUUID=b_.default.randomUUID.bind(b_.default)});var rm=v(x_=>{"use strict";c();var A_=T_(),Xe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),AF=()=>{if(A_.randomUUID)return A_.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Xe[e[0]]+Xe[e[1]]+Xe[e[2]]+Xe[e[3]]+"-"+Xe[e[4]]+Xe[e[5]]+"-"+Xe[e[6]]+Xe[e[7]]+"-"+Xe[e[8]]+Xe[e[9]]+"-"+Xe[e[10]]+Xe[e[11]]+Xe[e[12]]+Xe[e[13]]+Xe[e[14]]+Xe[e[15]]};x_.v4=AF});var je,R_=S(()=>{c();je=_(rm())});var Fe,C_=S(()=>{c();Fe=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Fe.from=e=>e&&typeof e=="object"&&(e instanceof Fe||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Fe(String(e)):Fe(JSON.stringify(e));Fe.fromObject=Fe.from});function sm(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var v_=S(()=>{c()});function _r(e,t,r){let s=Number(e);if(s<t||s>r)throw new Error(`Value ${s} out of range [${t}, ${r}]`)}var nm,om,im,I_,P_,xF,RF,CF,vF,IF,wn,am,cm,O_=S(()=>{c();nm="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",om="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",im="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",I_="(\\d?\\d)",P_="(\\d{4})",xF=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),RF=new RegExp(`^${nm}, ${I_} ${om} ${P_} ${im} GMT$`),CF=new RegExp(`^${nm}, ${I_}-${om}-(\\d\\d) ${im} GMT$`),vF=new RegExp(`^${nm} ${om} ( [1-9]|\\d\\d) ${im} ${P_}$`),IF=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wn=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},am=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=xF.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,s,n,o,i,a,,u,l]=t;_r(s,1,12),_r(n,1,31),_r(o,0,23),_r(i,0,59),_r(a,0,60);let f=new Date(Date.UTC(Number(r),Number(s)-1,Number(n),Number(o),Number(i),Number(a),Number(u)?Math.round(parseFloat(`0.${u}`)*1e3):0));if(f.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,d,g,h]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],y=d==="-"?1:-1;f.setTime(f.getTime()+y*(Number(g)*60*60*1e3+Number(h)*60*1e3))}return f},cm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,s,n,o,i,a,u;if((u=RF.exec(e))?[,t,r,s,n,o,i,a]=u:(u=CF.exec(e))?([,t,r,s,n,o,i,a]=u,s=(Number(s)+1900).toString()):(u=vF.exec(e))&&([,r,t,n,o,i,a,s]=u),s&&i){let l=Date.UTC(Number(s),IF.indexOf(r),Number(t),Number(n),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);_r(t,1,31),_r(n,0,23),_r(o,0,59),_r(i,0,60);let f=new Date(l);return f.setUTCFullYear(Number(s)),f}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function um(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let s=e.split(t);if(r===1)return s;let n=[],o="";for(let i=0;i<s.length;i++)o===""?o=s[i]:o+=t+s[i],(i+1)%r===0&&(n.push(o),o="");return o!==""&&n.push(o),n}var N_=S(()=>{c()});var Go,M_=S(()=>{c();Go=e=>{let t=e.length,r=[],s=!1,n,o=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':n!=="\\"&&(s=!s);break;case",":s||(r.push(e.slice(o,i)),o=i+1);break;default:}n=a}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function lm(e){return new G(String(e),"bigDecimal")}var D_,G,k_=S(()=>{c();D_=/^-?\d*(\.\d+)?$/,G=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!D_.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&D_.test(r.string)}}});var $_={};Ye($_,{LazyJsonString:()=>Fe,NumericValue:()=>G,_parseEpochTimestamp:()=>wn,_parseRfc3339DateTimeWithOffset:()=>am,_parseRfc7231DateTime:()=>cm,copyDocumentWithTransform:()=>HU,dateToUtcString:()=>Fs,expectBoolean:()=>VU,expectByte:()=>Vp,expectFloat32:()=>cc,expectInt:()=>KU,expectInt32:()=>Hp,expectLong:()=>jo,expectNonNull:()=>WU,expectNumber:()=>qo,expectObject:()=>Vw,expectShort:()=>zp,expectString:()=>YU,expectUnion:()=>XU,generateIdempotencyToken:()=>je.v4,handleFloat:()=>eF,limitedParseDouble:()=>Gp,limitedParseFloat:()=>tF,limitedParseFloat32:()=>rF,logger:()=>Ho,nv:()=>lm,parseBoolean:()=>zU,parseEpochTimestamp:()=>Ko,parseRfc3339DateTime:()=>aF,parseRfc3339DateTimeWithOffset:()=>Vo,parseRfc7231DateTime:()=>Qo,quoteHeader:()=>sm,splitEvery:()=>um,splitHeader:()=>Go,strictParseByte:()=>Wp,strictParseDouble:()=>lc,strictParseFloat:()=>JU,strictParseFloat32:()=>Kp,strictParseInt:()=>sF,strictParseInt32:()=>nF,strictParseLong:()=>Kw,strictParseShort:()=>Us});var ke=S(()=>{c();zw();Gw();R_();C_();Yp();v_();O_();N_();M_();k_()});var ft,_n=S(()=>{c();ft=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var hc,dm,L_=S(()=>{c();hc=_(Te()),dm=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:s,serdeContext:n,defaultContentType:o}){this.marshaller=t,this.serializer=r,this.deserializer=s,this.serdeContext=n,this.defaultContentType=o}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:s}){let n=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),a=this.serializer,u=this.defaultContentType,l=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(s){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:u}};a.write(r,s);let g=a.flush();yield{[l]:!0,headers:d,body:g}}for await(let d of t)yield d}};return n.serialize(f,d=>{if(d[l])return{headers:d.headers,body:d.body};let g=Object.keys(d).find(N=>N!=="__type")??"",{additionalHeaders:h,body:y,eventType:b,explicitPayloadContentType:R}=this.writeEventBody(g,i,d);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:R??u},...h},body:y}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:s}){let n=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),u=Symbol("initialResponseMarker"),l=n.deserialize(t.body,async g=>{let h=Object.keys(g).find(b=>b!=="__type")??"",y=g[h].body;if(h==="initial-response"){let b=await this.deserializer.read(r,y);return delete b[o],{[u]:!0,...b}}else if(h in a){let b=a[h];if(b.isStructSchema()){let R={},P=!1;for(let[N,$]of b.structIterator()){let{eventHeader:L,eventPayload:q}=$.getMergedTraits();if(P=P||!!(L||q),q)$.isBlobSchema()?R[N]=y:$.isStringSchema()?R[N]=(this.serdeContext?.utf8Encoder??hc.toUtf8)(y):$.isStructSchema()&&(R[N]=await this.deserializer.read($,y));else if(L){let ee=g[h].headers[N]?.value;ee!=null&&($.isNumericSchema()?ee&&typeof ee=="object"&&"bytes"in ee?R[N]=BigInt(ee.toString()):R[N]=Number(ee):R[N]=ee)}}if(P)return{[h]:R};if(y.byteLength===0)return{[h]:{}}}return{[h]:await this.deserializer.read(b,y)}}else return{$unknown:g}}),f=l[Symbol.asyncIterator](),d=await f.next();if(d.done)return l;if(d.value?.[u]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[g,h]of Object.entries(d.value))s[g]=h}return{async*[Symbol.asyncIterator](){for(d?.value?.[u]||(yield d.value);;){let{done:g,value:h}=await f.next();if(g)break;yield h}}}}writeEventBody(t,r,s){let n=this.serializer,o=t,i=null,a,u=r.getSchema()[4].includes(t),l={};if(u){let g=r.getMemberSchema(t);if(g.isStructSchema()){for(let[h,y]of g.structIterator()){let{eventHeader:b,eventPayload:R}=y.getMergedTraits();if(R)i=h;else if(b){let P=s[t][h],N="binary";y.isNumericSchema()?(-2)**31<=P&&P<=2**31-1?N="integer":N="long":y.isTimestampSchema()?N="timestamp":y.isStringSchema()?N="string":y.isBooleanSchema()&&(N="boolean"),P!=null&&(l[h]={type:N,value:P},delete s[t][h])}}if(i!==null){let h=g.getMemberSchema(i);h.isBlobSchema()?a="application/octet-stream":h.isStringSchema()&&(a="text/plain"),n.write(h,s[t][i])}else n.write(g,s[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[g,h]=s[t];o=g,n.write(15,h)}let f=n.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??hc.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var U_={};Ye(U_,{EventStreamSerde:()=>dm});var F_=S(()=>{c();L_()});var gc,js,yc=S(()=>{c();K();gc=_(re());_n();js=class extends ft{options;constructor(t){super(),this.options=t}getRequestType(){return gc.HttpRequest}getResponseType(){return gc.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[s,n]of r.url.searchParams.entries())t.query[s]=n;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,s){if(this.serdeContext?.disableHostPrefix)return;let n=D.of(r.input),o=sr(r.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let a=[...n.structIterator()].filter(([,u])=>u.getMergedTraits().hostLabel);for(let[u]of a){let l=s[u];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${u} in input must be a string as hostLabel.`);i=i.replace(`{${u}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:s}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:s})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:s}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:s})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(F_(),U_));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,s,n,o){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var B_,q_,Ht,j_=S(()=>{c();K();ke();B_=_(re()),q_=_(Ja());ec();tc();yc();Ht=class extends js{async serializeRequest(t,r,s){let n={...r??{}},o=this.serializer,i={},a={},u=await s.endpoint(),l=D.of(t?.input),f=l.getSchema(),d=!1,g,h=new B_.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(u){this.updateServiceEndpoint(h,u),this.setHostPrefix(h,t,n);let y=sr(t.traits);if(y.http){h.method=y.http[0];let[b,R]=y.http[1].split("?");h.path=="/"?h.path=b:h.path+=b;let P=new URLSearchParams(R??"");Object.assign(i,Object.fromEntries(P))}}for(let[y,b]of l.structIterator()){let R=b.getMergedTraits()??{},P=n[y];if(P==null&&!b.isIdempotencyToken()){if(R.httpLabel&&(h.path.includes(`{${y}+}`)||h.path.includes(`{${y}}`)))throw new Error(`No value provided for input HTTP label: ${y}.`);continue}if(R.httpPayload)b.isStreaming()?b.isStructSchema()?n[y]&&(g=await this.serializeEventStream({eventStream:n[y],requestSchema:l})):g=P:(o.write(b,P),g=o.flush()),delete n[y];else if(R.httpLabel){o.write(b,P);let N=o.flush();h.path.includes(`{${y}+}`)?h.path=h.path.replace(`{${y}+}`,N.split("/").map(Tt).join("/")):h.path.includes(`{${y}}`)&&(h.path=h.path.replace(`{${y}}`,Tt(N))),delete n[y]}else if(R.httpHeader)o.write(b,P),a[R.httpHeader.toLowerCase()]=String(o.flush()),delete n[y];else if(typeof R.httpPrefixHeaders=="string"){for(let[N,$]of Object.entries(P)){let L=R.httpPrefixHeaders+N;o.write([b.getValueSchema(),{httpHeader:L}],$),a[L.toLowerCase()]=o.flush()}delete n[y]}else R.httpQuery||R.httpQueryParams?(this.serializeQuery(b,P,i),delete n[y]):d=!0}return d&&n&&(o.write(f,n),g=o.flush()),h.headers=a,h.query=i,h.body=g,h}serializeQuery(t,r,s){let n=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in s)){let u=t.getValueSchema();Object.assign(u.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(u,a,s)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let u of r){n.write([t.getValueSchema(),o],u);let l=n.flush();(i||l!==void 0)&&a.push(l)}s[o.httpQuery]=a}else n.write([t,o],r),s[o.httpQuery]=n.flush()}async deserializeResponse(t,r,s){let n=this.deserializer,o=D.of(t.output),i={};if(s.statusCode>=300){let u=await ut(s.body,r);throw u.byteLength>0&&Object.assign(i,await n.read(15,u)),await this.handleError(t,r,s,i,this.deserializeMetadata(s)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in s.headers){let l=s.headers[u];delete s.headers[u],s.headers[u.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,s,i);if(a.length){let u=await ut(s.body,r);if(u.byteLength>0){let l=await n.read(o,u);for(let f of a)i[f]=l[f]}}else a.discardResponseBody&&await ut(s.body,r);return i.$metadata=this.deserializeMetadata(s),i}async deserializeHttpMessage(t,r,s,n,o){let i;n instanceof Set?i=o:i=n;let a=!0,u=this.deserializer,l=D.of(t),f=[];for(let[d,g]of l.structIterator()){let h=g.getMemberTraits();if(h.httpPayload){if(a=!1,g.isStreaming())g.isStructSchema()?i[d]=await this.deserializeEventStream({response:s,responseSchema:l}):i[d]=(0,q_.sdkStreamMixin)(s.body);else if(s.body){let b=await ut(s.body,r);b.byteLength>0&&(i[d]=await u.read(g,b))}}else if(h.httpHeader){let y=String(h.httpHeader).toLowerCase(),b=s.headers[y];if(b!=null)if(g.isListSchema()){let R=g.getValueSchema();R.getMergedTraits().httpHeader=y;let P;R.isTimestampSchema()&&R.getSchema()===4?P=um(b,",",2):P=Go(b);let N=[];for(let $ of P)N.push(await u.read(R,$.trim()));i[d]=N}else i[d]=await u.read(g,b)}else if(h.httpPrefixHeaders!==void 0){i[d]={};for(let[y,b]of Object.entries(s.headers))if(y.startsWith(h.httpPrefixHeaders)){let R=g.getValueSchema();R.getMergedTraits().httpHeader=y,i[d][y.slice(h.httpPrefixHeaders.length)]=await u.read(R,b)}}else h.httpResponseCode?i[d]=s.statusCode:f.push(d)}return f.discardResponseBody=a,f}}});var H_,At,z_=S(()=>{c();K();H_=_(re());ec();yc();At=class extends js{async serializeRequest(t,r,s){let n=this.serializer,o={},i={},a=await s.endpoint(),u=D.of(t?.input),l=u.getSchema(),f,d=new H_.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,t,r));let g={...r};if(r){let h=u.getEventStreamMember();if(h){if(g[h]){let y={};for(let[b,R]of u.structIterator())b!==h&&g[b]&&(n.write(R,g[b]),y[b]=n.flush());f=await this.serializeEventStream({eventStream:g[h],requestSchema:u,initialRequest:y})}}else n.write(l,g),f=n.flush()}return d.headers=i,d.query=o,d.body=f,d.method="POST",d}async deserializeResponse(t,r,s){let n=this.deserializer,o=D.of(t.output),i={};if(s.statusCode>=300){let u=await ut(s.body,r);throw u.byteLength>0&&Object.assign(i,await n.read(15,u)),await this.handleError(t,r,s,i,this.deserializeMetadata(s)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in s.headers){let l=s.headers[u];delete s.headers[u],s.headers[u.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:s,responseSchema:o,initialResponseContainer:i});else{let u=await ut(s.body,r);u.byteLength>0&&Object.assign(i,await n.read(o,u))}return i.$metadata=this.deserializeMetadata(s),i}}});var fm,pm=S(()=>{c();tc();fm=(e,t,r,s,n,o)=>{if(t!=null&&t[r]!==void 0){let i=s();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(n,o?i.split("/").map(a=>Tt(a)).join("/"):Tt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function mm(e,t){return new Sc(e,t)}var V_,Sc,Q_=S(()=>{c();V_=_(re());pm();Sc=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:s,path:n}=await this.context.endpoint();this.path=n;for(let o of this.resolvePathStack)o(this.path);return new V_.HttpRequest({protocol:r,hostname:this.hostname||t,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,s,n){return this.resolvePathStack.push(o=>{this.path=fm(o,this.input,t,r,s,n)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});var K_=v(Ec=>{"use strict";c();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.fromBase64=void 0;var PF=Et(),OF=/^[A-Za-z0-9+/]*={0,2}$/,NF=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!OF.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,PF.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ec.fromBase64=NF});var G_=v(wc=>{"use strict";c();Object.defineProperty(wc,"__esModule",{value:!0});wc.toBase64=void 0;var MF=Et(),DF=Te(),kF=e=>{let t;if(typeof e=="string"?t=(0,DF.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,MF.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};wc.toBase64=kF});var _c=v(Wo=>{"use strict";c();var W_=K_(),Y_=G_();Object.keys(W_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Wo,e)&&Object.defineProperty(Wo,e,{enumerable:!0,get:function(){return W_[e]}})});Object.keys(Y_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Wo,e)&&Object.defineProperty(Wo,e,{enumerable:!0,get:function(){return Y_[e]}})})});function $e(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:s,httpHeader:n,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof s=="string"||n?6:o||r?5:void 0:void 0)??t.timestampFormat.default}var bc=S(()=>{c()});var hm,X_,br,gm=S(()=>{c();K();ke();hm=_(_c()),X_=_(Te());_n();bc();br=class extends ft{settings;constructor(t){super(),this.settings=t}read(t,r){let s=D.of(t);if(s.isListSchema())return Go(r).map(n=>this.read(s.getValueSchema(),n));if(s.isBlobSchema())return(this.serdeContext?.base64Decoder??hm.fromBase64)(r);if(s.isTimestampSchema())switch($e(s,this.settings)){case 5:return am(r);case 6:return cm(r);case 7:return wn(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isStringSchema()){let n=s.getMergedTraits().mediaType,o=r;if(n)return s.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(n==="application/json"||n.endsWith("+json"))&&(o=Fe.from(o)),o}return s.isNumericSchema()?Number(r):s.isBigIntegerSchema()?BigInt(r):s.isBigDecimalSchema()?new G(r,"bigDecimal"):s.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??X_.toUtf8)((this.serdeContext?.base64Decoder??hm.fromBase64)(t))}}});var Tc,zt,J_=S(()=>{c();K();Tc=_(Te());_n();gm();zt=class extends ft{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new br(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let s=D.of(t),n=s.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Tc.toUtf8;if(n.httpHeader||n.httpResponseCode)return this.stringDeserializer.read(s,o(r));if(n.httpPayload){if(s.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Tc.fromUtf8;return typeof r=="string"?i(r):r}else if(s.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(s,r)}}});var ym,Yo,Sm=S(()=>{c();K();ke();ym=_(_c());_n();bc();Yo=class extends ft{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let s=D.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(s.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${s.getName(!0)}`);switch($e(s,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Fs(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(s.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??ym.toBase64)(r);return}if(s.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([s.getValueSchema(),s.getMergedTraits()],a);let u=this.flush(),l=s.getValueSchema().isTimestampSchema()?u:sm(u);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let n=s.getMergedTraits().mediaType,o=r;if(n&&((n==="application/json"||n.endsWith("+json"))&&(o=Fe.from(o)),s.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??ym.toBase64)(o.toString());return}this.stringBuffer=r;break;default:s.isIdempotencyToken()?this.stringBuffer=(0,je.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Vt,Z_=S(()=>{c();K();Sm();Vt=class{codecSerializer;stringSerializer;buffer;constructor(t,r,s=new Yo(r)){this.codecSerializer=t,this.stringSerializer=s}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let s=D.of(t),n=s.getMergedTraits();if(n.httpHeader||n.httpLabel||n.httpQuery){this.stringSerializer.write(s,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(s,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var eb={};Ye(eb,{FromStringShapeDeserializer:()=>br,HttpBindingProtocol:()=>Ht,HttpInterceptingShapeDeserializer:()=>zt,HttpInterceptingShapeSerializer:()=>Vt,HttpProtocol:()=>js,RequestBuilder:()=>Sc,RpcProtocol:()=>At,SerdeContext:()=>ft,ToStringShapeSerializer:()=>Yo,collectBody:()=>ut,determineTimestampFormat:()=>$e,extendedEncodeURIComponent:()=>Tt,requestBuilder:()=>mm,resolvedPath:()=>fm});var Ie=S(()=>{c();ec();tc();j_();yc();z_();Q_();pm();gm();J_();Z_();Sm();bc();_n()});var H=v(he=>{"use strict";c();var sb=dE(),Cm=(Ie(),J(eb)),wm=jr(),$F=(K(),J(ac)),tb=(ke(),J($_)),_m=class{config;middlewareStack=sb.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:s}=t;s&&typeof r=="function"&&(t.protocol=new r(s))}send(t,r,s){let n=typeof r!="function"?r:void 0,o=typeof r=="function"?r:s,i=n===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let u=this.handlers;u.has(t.constructor)?a=u.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,n),u.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,n);if(o)a(t).then(u=>o(null,u.output),u=>o(u)).catch(()=>{});else return a(t).then(u=>u.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Em="***SensitiveInformation***";function bm(e,t){if(t==null)return t;let r=$F.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Em;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Em}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Em}else if(r.isStructSchema()&&typeof t=="object"){let s=t,n={};for(let[o,i]of r.structIterator())s[o]!=null&&(n[o]=bm(i,s[o]));return n}return t}var Ac=class{middlewareStack=sb.constructStack();schema;static classBuilder(){return new Tm}resolveMiddlewareWithContext(t,r,s,{middlewareFn:n,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:l,additionalContext:f,CommandCtor:d}){for(let R of n.bind(this)(d,t,r,s))this.middlewareStack.use(R);let g=t.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[wm.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...f},{requestHandler:b}=r;return g.resolve(R=>b.handle(R.request,s||{}),y)}},Tm=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,s={}){return this._smithyContext={service:t,operation:r,...s},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=s=>s,r=s=>s){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Ac{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[s]){super(),this.input=s??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(s,n,o){let i=t._operationSchema,a=i?.[4]??i?.input,u=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(s,n,o,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?bm.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?bm.bind(null,u):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},LF="***SensitiveInformation***",UF=(e,t)=>{for(let r of Object.keys(e)){let s=e[r],n=async function(i,a,u){let l=new s(i);if(typeof a=="function")this.send(l,a);else if(typeof u=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},u)}else return this.send(l,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=n}},Am=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},nb=(e,t={})=>{Object.entries(t).filter(([,s])=>s!==void 0).forEach(([s,n])=>{(e[s]==null||e[s]==="")&&(e[s]=n)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},ob=({output:e,parsedBody:t,exceptionCtor:r,errorCode:s})=>{let n=BF(e),o=n.httpStatusCode?n.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||s||o||"UnknownError",$fault:"client",$metadata:n});throw nb(i,t)},FF=e=>({output:t,parsedBody:r,errorCode:s})=>{ob({output:t,parsedBody:r,exceptionCtor:e,errorCode:s})},BF=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),qF=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},rb=!1,jF=e=>{e&&!rb&&parseInt(e.substring(1,e.indexOf(".")))<16&&(rb=!0)},HF=e=>{let t=[];for(let r in wm.AlgorithmId){let s=wm.AlgorithmId[r];e[s]!==void 0&&t.push({algorithmId:()=>s,checksumConstructor:()=>e[s]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},zF=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},VF=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),QF=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},ib=e=>Object.assign(HF(e),VF(e)),KF=ib,GF=e=>Object.assign(zF(e),QF(e)),WF=e=>Array.isArray(e)?e:[e],ab=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=ab(e[r]));return e},YF=e=>e!=null,xm=class{trace(){}debug(){}info(){}warn(){}error(){}};function cb(e,t,r){let s,n,o;if(typeof t>"u"&&typeof r>"u")s={},o=e;else{if(s=e,typeof t=="function")return n=t,o=r,ZF(s,n,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){s[i]=o[i];continue}ub(s,null,o,i)}return s}var XF=e=>{let t={};for(let[r,s]of Object.entries(e||{}))t[r]=[,s];return t},JF=(e,t)=>{let r={};for(let s in t)ub(r,e,t,s);return r},ZF=(e,t,r)=>cb(e,Object.entries(r).reduce((s,[n,o])=>(Array.isArray(o)?s[n]=o:typeof o=="function"?s[n]=[t,o()]:s[n]=[t,o],s),{})),ub=(e,t,r,s)=>{if(t!==null){let i=r[s];typeof i=="function"&&(i=[,i]);let[a=eB,u=tB,l=s]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[s]=u(t[l]));return}let[n,o]=r[s];if(typeof o=="function"){let i,a=n===void 0&&(i=o())!=null,u=typeof n=="function"&&!!n(void 0)||typeof n!="function"&&!!n;a?e[s]=i:u&&(e[s]=o())}else{let i=n===void 0&&o!=null,a=typeof n=="function"&&!!n(o)||typeof n!="function"&&!!n;(i||a)&&(e[s]=o)}},eB=e=>e!=null,tB=e=>e,rB=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},sB=e=>e.toISOString().replace(".000Z","Z"),Rm=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Rm);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Rm(e[r]));return t}return e};Object.defineProperty(he,"collectBody",{enumerable:!0,get:function(){return Cm.collectBody}});Object.defineProperty(he,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Cm.extendedEncodeURIComponent}});Object.defineProperty(he,"resolvedPath",{enumerable:!0,get:function(){return Cm.resolvedPath}});he.Client=_m;he.Command=Ac;he.NoOpLogger=xm;he.SENSITIVE_STRING=LF;he.ServiceException=Am;he._json=Rm;he.convertMap=XF;he.createAggregatedClient=UF;he.decorateServiceException=nb;he.emitWarningIfUnsupportedVersion=jF;he.getArrayIfSingleItem=WF;he.getDefaultClientConfiguration=KF;he.getDefaultExtensionConfiguration=ib;he.getValueFromTextNode=ab;he.isSerializableHeaderValue=YF;he.loadConfigsForDefaultMode=qF;he.map=cb;he.resolveDefaultRuntimeConfig=GF;he.serializeDateTime=sB;he.serializeFloat=rB;he.take=JF;he.throwDefaultError=ob;he.withBaseException=FF;Object.keys(tb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(he,e)&&Object.defineProperty(he,e,{enumerable:!0,get:function(){return tb[e]}})})});var Sb=v(wt=>{"use strict";c();var nB=H(),vm=Wa(),Im=Te(),oB=e=>Object.assign(e,{useQueueUrlAsEndpoint:e.useQueueUrlAsEndpoint??!0});function lb({useQueueUrlAsEndpoint:e,endpoint:t}){return(r,s)=>async n=>{let{input:o}=n,i=s.endpointV2;if(!t&&o.QueueUrl&&i&&e){let a=s.logger instanceof nB.NoOpLogger||!s.logger?.warn?console:s.logger;try{let u=new URL(o.QueueUrl),l=new URL(u.origin);i.url.origin!==l.origin&&(a.warn(`QueueUrl=${o.QueueUrl} differs from SQSClient resolved endpoint=${i.url.toString()}, using QueueUrl host as endpoint.
Set [endpoint=string] or [useQueueUrlAsEndpoint=false] on the SQSClient.`),s.endpointV2={...i,url:l})}catch(u){a.warn(u)}}return r(n)}}var db={name:"queueUrlMiddleware",relation:"after",toMiddleware:"endpointV2Middleware",override:!0},iB=e=>({applyToStack:t=>{t.addRelativeTo(lb(e),db)}});function fb(e){return t=>async r=>{let s=await t({...r});if(e.md5===!1)return s;let n=s.output,o=[];if(n.Messages!==void 0)for(let i of n.Messages){let a=i.MD5OfBody,u=new e.md5;u.update(Im.toUint8Array(i.Body||"")),a!==vm.toHex(await u.digest())&&o.push(i.MessageId)}if(o.length>0)throw new Error("Invalid MD5 checksum on messages: "+o.join(", "));return s}}var pb={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"receiveMessageMiddleware",override:!0},aB=e=>({applyToStack:t=>{t.add(fb(e),pb)}}),mb=e=>t=>async r=>{let s=await t({...r});if(e.md5===!1)return s;let n=s.output,o=new e.md5;if(o.update(Im.toUint8Array(r.input.MessageBody||"")),n.MD5OfMessageBody!==vm.toHex(await o.digest()))throw new Error("InvalidChecksumError");return s},hb={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageMiddleware",override:!0},cB=e=>({applyToStack:t=>{t.add(mb(e),hb)}}),gb=e=>t=>async r=>{let s=await t({...r});if(e.md5===!1)return s;let n=s.output,o=[],i={};if(n.Successful!==void 0)for(let a of n.Successful)a.Id!==void 0&&(i[a.Id]=a);for(let a of r.input.Entries)if(i[a.Id]){let u=i[a.Id].MD5OfMessageBody,l=new e.md5;l.update(Im.toUint8Array(a.MessageBody||"")),u!==vm.toHex(await l.digest())&&o.push(i[a.Id].MessageId)}if(o.length>0)throw new Error("Invalid MD5 checksum on messages: "+o.join(", "));return s},yb={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageBatchMiddleware",override:!0},uB=e=>({applyToStack:t=>{t.add(gb(e),yb)}});wt.getQueueUrlPlugin=iB;wt.getReceiveMessagePlugin=aB;wt.getSendMessageBatchPlugin=uB;wt.getSendMessagePlugin=cB;wt.queueUrlMiddleware=lb;wt.queueUrlMiddlewareOptions=db;wt.receiveMessageMiddleware=fb;wt.receiveMessageMiddlewareOptions=pb;wt.resolveQueueUrlConfig=oB;wt.sendMessageBatchMiddleware=gb;wt.sendMessageBatchMiddlewareOptions=yb;wt.sendMessageMiddleware=mb;wt.sendMessageMiddlewareOptions=hb});var Pm,lB,Eb=S(()=>{c();Pm=_(jr()),lB=e=>e[Pm.SMITHY_CONTEXT_KEY]||(e[Pm.SMITHY_CONTEXT_KEY]={})});var wb,_b=S(()=>{c();wb=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let s of t)for(let n of e)n.schemeId.split("#")[1]===s&&r.push(n);for(let s of e)r.find(({schemeId:n})=>n===s.schemeId)||r.push(s);return r}});function dB(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var bb,Xo,xc=S(()=>{c();bb=_(dt());_b();Xo=(e,t)=>(r,s)=>async n=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,s,n.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=wb(o,i),u=dB(e.httpAuthSchemes),l=(0,bb.getSmithyContext)(s),f=[];for(let d of a){let g=u.get(d.schemeId);if(!g){f.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let h=g.identityProvider(await t.identityProviderConfigProvider(e));if(!h){f.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:b={}}=d.propertiesExtractor?.(e,s)||{};d.identityProperties=Object.assign(d.identityProperties||{},y),d.signingProperties=Object.assign(d.signingProperties||{},b),l.selectedHttpAuthScheme={httpAuthOption:d,identity:await h(d.identityProperties),signer:g.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(f.join(`
`));return r(n)}});var Tb,Hs,Ab=S(()=>{c();xc();Tb={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Hs=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:s=>{s.addRelativeTo(Xo(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Tb)}})});var Nm=v(bn=>{"use strict";c();var fB=re(),xb=(e,t)=>(r,s)=>async n=>{let{response:o}=await r(n);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!s.logger||s.logger?.constructor?.name==="NoOpLogger"?console.warn(a):s.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(fB.HttpResponse.isInstance(o)){let{headers:u={}}=o,l=Object.entries(u);i.$metadata={httpStatusCode:o.statusCode,requestId:Om(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Om(/^x-[\w-]+-id-2$/,l),cfId:Om(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},Om=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],Rb=(e,t)=>(r,s)=>async n=>{let o=e,i=s.endpointV2?.url&&o.urlParser?async()=>o.urlParser(s.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(n.input,{...e,endpoint:i});return r({...n,request:a})},Cb={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},vb={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function pB(e,t,r){return{applyToStack:s=>{s.add(xb(e,r),Cb),s.add(Rb(e,t),vb)}}}bn.deserializerMiddleware=xb;bn.deserializerMiddlewareOption=Cb;bn.getSerdePlugin=pB;bn.serializerMiddleware=Rb;bn.serializerMiddlewareOption=vb});var Ib,Pb,mB,Ob=S(()=>{c();Ib=_(Nm());xc();Pb={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ib.serializerMiddlewareOption.name},mB=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:s=>{s.addRelativeTo(Xo(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Pb)}})});var Nb=S(()=>{c();xc();Ab();Ob()});var Mb,Db,hB,gB,Mm,Dm=S(()=>{c();Mb=_(re()),Db=_(dt()),hB=e=>t=>{throw t},gB=(e,t)=>{},Mm=e=>(t,r)=>async s=>{if(!Mb.HttpRequest.isInstance(s.request))return t(s);let o=(0,Db.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:u}=o,l=await t({...s,request:await u.sign(s.request,a,i)}).catch((u.errorHandler||hB)(i));return(u.successHandler||gB)(l.response,i),l}});var kb,zs,$b=S(()=>{c();Dm();kb={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},zs=e=>({applyToStack:t=>{t.addRelativeTo(Mm(e),kb)}})});var Lb=S(()=>{c();Dm();$b()});var pt,Ub=S(()=>{c();pt=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Fb(e,t,r,s,n){return async function*(i,a,...u){let l=a,f=i.startingToken??l[r],d=!0,g;for(;d;){if(l[r]=f,n&&(l[n]=l[n]??i.pageSize),i.client instanceof e)g=await yB(t,i.client,a,i.withCommand,...u);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let h=f;f=SB(g,s),d=!!(f&&(!i.stopOnSameToken||f!==h))}return void 0}}var yB,SB,Bb=S(()=>{c();yB=async(e,t,r,s=o=>o,...n)=>{let o=new e(r);return o=s(o)??o,await t.send(o,...n)};SB=(e,t)=>{let r=e,s=t.split(".");for(let n of s){if(!r||typeof r!="object")return;r=r[n]}return r}});var qb=S(()=>{c();Ie()});function EB(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var jb=S(()=>{c()});var Tr,Hb=S(()=>{c();Tr=class{authSchemes=new Map;constructor(t){for(let[r,s]of Object.entries(t))s!==void 0&&this.authSchemes.set(r,s)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var zb,km,$m,Vb=S(()=>{c();zb=_(re()),km=_(jr()),$m=class{async sign(t,r,s){if(!s)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!s.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!s.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let n=zb.HttpRequest.clone(t);if(s.in===km.HttpApiKeyAuthLocation.QUERY)n.query[s.name]=r.apiKey;else if(s.in===km.HttpApiKeyAuthLocation.HEADER)n.headers[s.name]=s.scheme?`${s.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+s.in+"`");return n}}});var Qb,Lm,Kb=S(()=>{c();Qb=_(re()),Lm=class{async sign(t,r,s){let n=Qb.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return n.headers.Authorization=`Bearer ${r.token}`,n}}});var Qt,Gb=S(()=>{c();Qt=class{async sign(t,r,s){return t}}});var Wb=S(()=>{c();Vb();Kb();Gb()});var Yb,wB,Jo,Tn,Zo,Xb=S(()=>{c();Yb=e=>function(r){return Tn(r)&&r.expiration.getTime()-Date.now()<e},wB=3e5,Jo=Yb(3e5),Tn=e=>e.expiration!==void 0,Zo=(e,t,r)=>{if(e===void 0)return;let s=typeof e!="function"?async()=>Promise.resolve(e):e,n,o,i,a=!1,u=async l=>{o||(o=s(l));try{n=await o,i=!0,a=!1}finally{o=void 0}return n};return t===void 0?async l=>((!i||l?.forceRefresh)&&(n=await u(l)),n):async l=>((!i||l?.forceRefresh)&&(n=await u(l)),a?n:r(n)?(t(n)&&await u(l),n):(a=!0,n))}});var Jb=S(()=>{c();Hb();Wb();Xb()});var Vs={};Ye(Vs,{DefaultIdentityProviderConfig:()=>Tr,EXPIRATION_MS:()=>wB,HttpApiKeyAuthSigner:()=>$m,HttpBearerAuthSigner:()=>Lm,NoAuthSigner:()=>Qt,createIsIdentityExpiredFunction:()=>Yb,createPaginator:()=>Fb,doesIdentityRequireRefresh:()=>Tn,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Hs,getHttpAuthSchemePlugin:()=>mB,getHttpSigningPlugin:()=>zs,getSmithyContext:()=>lB,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Tb,httpAuthSchemeMiddleware:()=>Xo,httpAuthSchemeMiddlewareOptions:()=>Pb,httpSigningMiddleware:()=>Mm,httpSigningMiddlewareOptions:()=>kb,isIdentityExpired:()=>Jo,memoizeIdentityProvider:()=>Zo,normalizeProvider:()=>pt,requestBuilder:()=>mm,setFeature:()=>EB});var He=S(()=>{c();Eb();Nb();Lb();Ub();Bb();qb();jb();Jb()});var Gr=v(Qs=>{"use strict";c();var Fm=jr(),Bm=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let s=this.hash(t);if(s===!1)return r();if(!this.data.has(s)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:i,done:a}=n.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(s,r())}return this.data.get(s)}size(){return this.data.size}hash(t){let r="",{parameters:s}=this;if(s.length===0)return!1;for(let n of s){let o=String(t[n]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},_B=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Zb=e=>_B.test(e)||e.startsWith("[")&&e.endsWith("]"),bB=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),jm=(e,t=!1)=>{if(!t)return bB.test(e);let r=e.split(".");for(let s of r)if(!jm(s))return!1;return!0},qm={},ei="endpoints";function Kr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Kr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Kr).join(", ")})`:JSON.stringify(e,null,2)}var Je=class extends Error{constructor(t){super(t),this.name="EndpointError"}},TB=(e,t)=>e===t,AB=e=>{let t=e.split("."),r=[];for(let s of t){let n=s.indexOf("[");if(n!==-1){if(s.indexOf("]")!==s.length-1)throw new Je(`Path: '${e}' does not end with ']'`);let o=s.slice(n+1,-1);if(Number.isNaN(parseInt(o)))throw new Je(`Invalid array index: '${o}' in path: '${e}'`);n!==0&&r.push(s.slice(0,n)),r.push(o)}else r.push(s)}return r},eT=(e,t)=>AB(t).reduce((r,s)=>{if(typeof r!="object")throw new Je(`Index '${s}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(s)]:r[s]},e),xB=e=>e!=null,RB=e=>!e,Um={[Fm.EndpointURLScheme.HTTP]:80,[Fm.EndpointURLScheme.HTTPS]:443},CB=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:h,protocol:y="",path:b="",query:R={}}=e,P=new URL(`${y}//${g}${h?`:${h}`:""}${b}`);return P.search=Object.entries(R).map(([N,$])=>`${N}=${$}`).join("&"),P}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:s,hostname:n,pathname:o,protocol:i,search:a}=t;if(a)return null;let u=i.slice(0,-1);if(!Object.values(Fm.EndpointURLScheme).includes(u))return null;let l=Zb(n),f=r.includes(`${s}:${Um[u]}`)||typeof e=="string"&&e.includes(`${s}:${Um[u]}`),d=`${s}${f?`:${Um[u]}`:""}`;return{scheme:u,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},vB=(e,t)=>e===t,IB=(e,t,r,s)=>t>=r||e.length<r?null:s?e.substring(e.length-r,e.length-t):e.substring(t,r),PB=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),OB={booleanEquals:TB,getAttr:eT,isSet:xB,isValidHostLabel:jm,not:RB,parseURL:CB,stringEquals:vB,substring:IB,uriEncode:PB},tT=(e,t)=>{let r=[],s={...t.endpointParams,...t.referenceRecord},n=0;for(;n<e.length;){let o=e.indexOf("{",n);if(o===-1){r.push(e.slice(n));break}r.push(e.slice(n,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),n=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[u,l]=a.split("#");r.push(eT(s[u],l))}else r.push(s[a]);n=i+1}return r.join("")},NB=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Rc=(e,t,r)=>{if(typeof e=="string")return tT(e,r);if(e.fn)return sT.callFunction(e,r);if(e.ref)return NB(e,r);throw new Je(`'${t}': ${String(e)} is not a string, function or reference.`)},rT=({fn:e,argv:t},r)=>{let s=t.map(o=>["boolean","number"].includes(typeof o)?o:sT.evaluateExpression(o,"arg",r)),n=e.split(".");return n[0]in qm&&n[1]!=null?qm[n[0]][n[1]](...s):OB[e](...s)},sT={evaluateExpression:Rc,callFunction:rT},MB=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Je(`'${e}' is already defined in Reference Record.`);let s=rT(t,r);return r.logger?.debug?.(`${ei} evaluateCondition: ${Kr(t)} = ${Kr(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},Hm=(e=[],t)=>{let r={};for(let s of e){let{result:n,toAssign:o}=MB(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!n)return{result:n};o&&(r[o.name]=o.value,t.logger?.debug?.(`${ei} assign: ${o.name} := ${Kr(o.value)}`))}return{result:!0,referenceRecord:r}},DB=(e,t)=>Object.entries(e).reduce((r,[s,n])=>({...r,[s]:n.map(o=>{let i=Rc(o,"Header value entry",t);if(typeof i!="string")throw new Je(`Header '${s}' value '${i}' is not a string`);return i})}),{}),nT=(e,t)=>Object.entries(e).reduce((r,[s,n])=>({...r,[s]:iT.getEndpointProperty(n,t)}),{}),oT=(e,t)=>{if(Array.isArray(e))return e.map(r=>oT(r,t));switch(typeof e){case"string":return tT(e,t);case"object":if(e===null)throw new Je(`Unexpected endpoint property: ${e}`);return iT.getEndpointProperties(e,t);case"boolean":return e;default:throw new Je(`Unexpected endpoint property type: ${typeof e}`)}},iT={getEndpointProperty:oT,getEndpointProperties:nT},kB=(e,t)=>{let r=Rc(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(s){throw console.error(`Failed to construct URL with ${r}`,s),s}throw new Je(`Endpoint URL must be a string, got ${typeof r}`)},$B=(e,t)=>{let{conditions:r,endpoint:s}=e,{result:n,referenceRecord:o}=Hm(r,t);if(!n)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:u,headers:l}=s;return t.logger?.debug?.(`${ei} Resolving endpoint from template: ${Kr(s)}`),{...l!=null&&{headers:DB(l,i)},...u!=null&&{properties:nT(u,i)},url:kB(a,i)}},LB=(e,t)=>{let{conditions:r,error:s}=e,{result:n,referenceRecord:o}=Hm(r,t);if(n)throw new Je(Rc(s,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},aT=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let s=$B(r,t);if(s)return s}else if(r.type==="error")LB(r,t);else if(r.type==="tree"){let s=cT.evaluateTreeRule(r,t);if(s)return s}else throw new Je(`Unknown endpoint rule: ${r}`);throw new Je("Rules evaluation failed")},UB=(e,t)=>{let{conditions:r,rules:s}=e,{result:n,referenceRecord:o}=Hm(r,t);if(n)return cT.evaluateRules(s,{...t,referenceRecord:{...t.referenceRecord,...o}})},cT={evaluateRules:aT,evaluateTreeRule:UB},FB=(e,t)=>{let{endpointParams:r,logger:s}=t,{parameters:n,rules:o}=e;t.logger?.debug?.(`${ei} Initial EndpointParams: ${Kr(r)}`);let i=Object.entries(n).filter(([,l])=>l.default!=null).map(([l,f])=>[l,f.default]);if(i.length>0)for(let[l,f]of i)r[l]=r[l]??f;let a=Object.entries(n).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Je(`Missing required parameter: '${l}'`);let u=aT(o,{endpointParams:r,logger:s,referenceRecord:{}});return t.logger?.debug?.(`${ei} Resolved endpoint: ${Kr(u)}`),u};Qs.EndpointCache=Bm;Qs.EndpointError=Je;Qs.customEndpointFunctions=qm;Qs.isIpAddress=Zb;Qs.isValidHostLabel=jm;Qs.resolveEndpoint=FB});var lT=v(uT=>{"use strict";c();function BB(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[s,n=null]=r.split("=");s=decodeURIComponent(s),n&&(n=decodeURIComponent(n)),s in t?Array.isArray(t[s])?t[s].push(n):t[s]=[t[s],n]:t[s]=n}return t}uT.parseQueryString=BB});var Ar=v(fT=>{"use strict";c();var qB=lT(),dT=e=>{if(typeof e=="string")return dT(new URL(e));let{hostname:t,pathname:r,port:s,protocol:n,search:o}=e,i;return o&&(i=qB.parseQueryString(o)),{hostname:t,port:s?parseInt(s):void 0,protocol:n,path:r,query:i}};fT.parseUrl=dT});var Wr=v(Kt=>{"use strict";c();var An=Gr(),jB=Ar(),mT=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!mT(r))return!1;return!0}return!(!An.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||An.isIpAddress(e))},pT=":",HB="/",zB=e=>{let t=e.split(pT);if(t.length<6)return null;let[r,s,n,o,i,...a]=t;if(r!=="arn"||s===""||n===""||a.join(pT)==="")return null;let u=a.map(l=>l.split(HB)).flat();return{partition:s,service:n,region:o,accountId:i,resourceId:u}},VB=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],QB="1.1",hT={partitions:VB,version:QB},gT=hT,yT="",ST=e=>{let{partitions:t}=gT;for(let s of t){let{regions:n,outputs:o}=s;for(let[i,a]of Object.entries(n))if(i===e)return{...o,...a}}for(let s of t){let{regionRegex:n,outputs:o}=s;if(new RegExp(n).test(e))return{...o}}let r=t.find(s=>s.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},ET=(e,t="")=>{gT=e,yT=t},KB=()=>{ET(hT,"")},GB=()=>yT,wT={isVirtualHostableS3Bucket:mT,parseArn:zB,partition:ST};An.customEndpointFunctions.aws=wT;var WB=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>_T(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},_T=e=>jB.parseUrl(e.url);Object.defineProperty(Kt,"EndpointError",{enumerable:!0,get:function(){return An.EndpointError}});Object.defineProperty(Kt,"isIpAddress",{enumerable:!0,get:function(){return An.isIpAddress}});Object.defineProperty(Kt,"resolveEndpoint",{enumerable:!0,get:function(){return An.resolveEndpoint}});Kt.awsEndpointFunctions=wT;Kt.getUserAgentPrefix=GB;Kt.partition=ST;Kt.resolveDefaultAwsRegionalEndpointsConfig=WB;Kt.setPartitionInfo=ET;Kt.toEndpointV1=_T;Kt.useDefaultPartitionInfo=KB});var zm,YB,bT=S(()=>{c();zm={warningEmitted:!1},YB=e=>{e&&!zm.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(zm.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Vm(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var TT=S(()=>{c()});function XB(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var AT=S(()=>{c()});function JB(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var xT=S(()=>{c()});var Qm=S(()=>{c();bT();TT();AT();xT()});var RT,Km,CT=S(()=>{c();RT=_(re()),Km=e=>RT.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var xn,Gm=S(()=>{c();xn=e=>new Date(Date.now()+e)});var vT,IT=S(()=>{c();Gm();vT=(e,t)=>Math.abs(xn(t).getTime()-e)>=3e5});var Wm,PT=S(()=>{c();IT();Wm=(e,t)=>{let r=Date.parse(e);return vT(r,t)?r-Date.now():t}});var Ym=S(()=>{c();CT();Gm();PT()});var OT,ti,ri,Ks,NT,Xm=S(()=>{c();OT=_(re());Ym();ti=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ri=async e=>{let t=ti("context",e.context),r=ti("config",e.config),s=t.endpointV2?.properties?.authSchemes?.[0],o=await ti("signer",r.signer)(s),i=e?.signingRegion,a=e?.signingRegionSet,u=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:u}},Ks=class{async sign(t,r,s){if(!OT.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let n=await ri(s),{config:o,signer:i}=n,{signingRegion:a,signingName:u}=n,l=s.context;if(l?.authSchemes?.length??!1){let[d,g]=l.authSchemes;d?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,u=g?.signingName??u)}return await i.sign(t,{signingDate:xn(o.systemClockOffset),signingRegion:a,signingService:u})}errorHandler(t){return r=>{let s=r.ServerTime??Km(r.$response);if(s){let n=ti("config",t.config),o=n.systemClockOffset;n.systemClockOffset=Wm(s,n.systemClockOffset),n.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let s=Km(t);if(s){let n=ti("config",r.config);n.systemClockOffset=Wm(s,n.systemClockOffset)}}},NT=Ks});var MT,Cc,DT=S(()=>{c();MT=_(re());Ym();Xm();Cc=class extends Ks{async sign(t,r,s){if(!MT.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:n,signer:o,signingRegion:i,signingRegionSet:a,signingName:u}=await ri(s),f=(await n.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(t,{signingDate:xn(n.systemClockOffset),signingRegion:f,signingService:u})}}});var Jm,kT=S(()=>{c();Jm=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Zm,eh=S(()=>{c();Zm=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var $T,LT,ZB,UT=S(()=>{c();kT();eh();$T="AWS_AUTH_SCHEME_PREFERENCE",LT="auth_scheme_preference",ZB={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Zm(t.signingName)in e)return["httpBearerAuth"];if($T in e)return Jm(e[$T])},configFileSelector:e=>{if(LT in e)return Jm(e[LT])},default:[]}});var Qe=v(Gs=>{"use strict";c();var Rn=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let s,n=!0;typeof r=="boolean"?(s=void 0,n=r):r!=null&&typeof r=="object"&&(s=r.logger,n=r.tryNextLink??!0),super(t),this.tryNextLink=n,Object.setPrototypeOf(this,e.prototype),s?.debug?.(`@smithy/property-provider ${n?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},th=class e extends Rn{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},rh=class e extends Rn{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},eq=(...e)=>async()=>{if(e.length===0)throw new Rn("No providers in chain");let t;for(let r of e)try{return await r()}catch(s){if(t=s,s?.tryNextLink)continue;throw s}throw t},tq=e=>()=>Promise.resolve(e),rq=(e,t,r)=>{let s,n,o,i=!1,a=async()=>{n||(n=e());try{s=await n,o=!0,i=!1}finally{n=void 0}return s};return t===void 0?async u=>((!o||u?.forceRefresh)&&(s=await a()),s):async u=>((!o||u?.forceRefresh)&&(s=await a()),i?s:r&&!r(s)?(i=!0,s):(t(s)&&await a(),s))};Gs.CredentialsProviderError=th;Gs.ProviderError=Rn;Gs.TokenProviderError=rh;Gs.chain=eq;Gs.fromStatic=tq;Gs.memoize=rq});var sh,sq,nq,FT=S(()=>{c();He();sh=_(Qe()),sq=e=>(e.sigv4aSigningRegionSet=pt(e.sigv4aSigningRegionSet),e),nq={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new sh.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new sh.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var qT=v(nh=>{"use strict";c();var BT=e=>encodeURIComponent(e).replace(/[!'()*]/g,oq),oq=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,iq=e=>e.split("/").map(BT).join("/");nh.escapeUri=BT;nh.escapeUriPath=iq});var kc=v(X=>{"use strict";c();var Yr=Wa(),Ws=Te(),aq=ap(),VT=re(),jT=dt(),vc=qT(),QT="X-Amz-Algorithm",KT="X-Amz-Credential",lh="X-Amz-Date",GT="X-Amz-SignedHeaders",WT="X-Amz-Expires",dh="X-Amz-Signature",fh="X-Amz-Security-Token",cq="X-Amz-Region-Set",ph="authorization",mh=lh.toLowerCase(),YT="date",XT=[ph,mh,YT],JT=dh.toLowerCase(),Mc="x-amz-content-sha256",ZT=fh.toLowerCase(),uq="host",eA={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},tA=/^proxy-/,rA=/^sec-/,lq=[/^proxy-/i,/^sec-/i],Ic="AWS4-HMAC-SHA256",dq="AWS4-ECDSA-P256-SHA256",sA="AWS4-HMAC-SHA256-PAYLOAD",nA="UNSIGNED-PAYLOAD",oA=50,hh="aws4_request",iA=60*60*24*7,Cn={},Pc=[],Oc=(e,t,r)=>`${e}/${t}/${r}/${hh}`,aA=async(e,t,r,s,n)=>{let o=await HT(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${s}:${n}:${Yr.toHex(o)}:${t.sessionToken}`;if(i in Cn)return Cn[i];for(Pc.push(i);Pc.length>oA;)delete Cn[Pc.shift()];let a=`AWS4${t.secretAccessKey}`;for(let u of[r,s,n,hh])a=await HT(e,a,u);return Cn[i]=a},fq=()=>{Pc.length=0,Object.keys(Cn).forEach(e=>{delete Cn[e]})},HT=(e,t,r)=>{let s=new e(t);return s.update(Ws.toUint8Array(r)),s.digest()},oh=({headers:e},t,r)=>{let s={};for(let n of Object.keys(e).sort()){if(e[n]==null)continue;let o=n.toLowerCase();(o in eA||t?.has(o)||tA.test(o)||rA.test(o))&&(!r||r&&!r.has(o))||(s[o]=e[n].trim().replace(/\s+/g," "))}return s},Nc=async({headers:e,body:t},r)=>{for(let s of Object.keys(e))if(s.toLowerCase()===Mc)return e[s];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||aq.isArrayBuffer(t)){let s=new r;return s.update(Ws.toUint8Array(t)),Yr.toHex(await s.digest())}return nA},ih=class{format(t){let r=[];for(let o of Object.keys(t)){let i=Ws.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let s=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),n=0;for(let o of r)s.set(o,n),n+=o.byteLength;return s}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,t.value,!1),new Uint8Array(s.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(t.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=Ws.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);let l=new Uint8Array(u.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(ah.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!pq.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(Yr.fromHex(t.value.replace(/\-/g,"")),1),d}}},pq=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ah=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let s=7,n=Math.abs(Math.round(t));s>-1&&n>0;s--,n/=256)r[s]=n;return t<0&&zT(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&zT(t),parseInt(Yr.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function zT(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var cA=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},uA=(e,t={})=>{let{headers:r,query:s={}}=VT.HttpRequest.clone(e);for(let n of Object.keys(r)){let o=n.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(s[n]=r[n],delete r[n])}return{...e,headers:r,query:s}},ch=e=>{e=VT.HttpRequest.clone(e);for(let t of Object.keys(e.headers))XT.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},lA=({query:e={}})=>{let t=[],r={};for(let s of Object.keys(e)){if(s.toLowerCase()===JT)continue;let n=vc.escapeUri(s);t.push(n);let o=e[s];typeof o=="string"?r[n]=`${n}=${vc.escapeUri(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,a)=>i.concat([`${n}=${vc.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(s=>r[s]).filter(s=>s).join("&")},mq=e=>hq(e).toISOString().replace(/\.\d{3}Z$/,"Z"),hq=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Dc=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:s,service:n,sha256:o,uriEscapePath:i=!0}){this.service=n,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=jT.normalizeProvider(s),this.credentialProvider=jT.normalizeProvider(r)}createCanonicalRequest(t,r,s){let n=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${lA(t)}
${n.map(o=>`${o}:${r[o]}`).join(`
`)}

${n.join(";")}
${s}`}async createStringToSign(t,r,s,n){let o=new this.sha256;o.update(Ws.toUint8Array(s));let i=await o.digest();return`${n}
${t}
${r}
${Yr.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let s=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return vc.escapeUri(s).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=mq(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},uh=class extends Dc{headerFormatter=new ih;constructor({applyChecksum:t,credentials:r,region:s,service:n,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:s,service:n,sha256:o,uriEscapePath:i})}async presign(t,r={}){let{signingDate:s=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:u,signingRegion:l,signingService:f}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let g=l??await this.regionProvider(),{longDate:h,shortDate:y}=this.formatDate(s);if(n>iA)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let b=Oc(y,g,f??this.service),R=uA(ch(t),{unhoistableHeaders:i,hoistableHeaders:u});d.sessionToken&&(R.query[fh]=d.sessionToken),R.query[QT]=Ic,R.query[KT]=`${d.accessKeyId}/${b}`,R.query[lh]=h,R.query[WT]=n.toString(10);let P=oh(R,o,a);return R.query[GT]=this.getCanonicalHeaderList(P),R.query[dh]=await this.getSignature(h,b,this.getSigningKey(d,g,y,f),this.createCanonicalRequest(R,P,await Nc(t,this.sha256))),R}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:s=new Date,priorSignature:n,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:u,longDate:l}=this.formatDate(s),f=Oc(u,a,i??this.service),d=await Nc({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let h=Yr.toHex(await g.digest()),y=[sA,l,f,n,h,d].join(`
`);return this.signString(y,{signingDate:s,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:s,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:s,signingService:n,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:s,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=s??await this.regionProvider(),{shortDate:a}=this.formatDate(r),u=new this.sha256(await this.getSigningKey(o,i,a,n));return u.update(Ws.toUint8Array(t)),Yr.toHex(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:s,unsignableHeaders:n,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let u=o??await this.regionProvider(),l=ch(t),{longDate:f,shortDate:d}=this.formatDate(r),g=Oc(d,u,i??this.service);l.headers[mh]=f,a.sessionToken&&(l.headers[ZT]=a.sessionToken);let h=await Nc(l,this.sha256);!cA(Mc,l.headers)&&this.applyChecksum&&(l.headers[Mc]=h);let y=oh(l,n,s),b=await this.getSignature(f,g,this.getSigningKey(a,u,d,i),this.createCanonicalRequest(l,y,h));return l.headers[ph]=`${Ic} Credential=${a.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${b}`,l}async getSignature(t,r,s,n){let o=await this.createStringToSign(t,r,n,Ic),i=new this.sha256(await s);return i.update(Ws.toUint8Array(o)),Yr.toHex(await i.digest())}getSigningKey(t,r,s,n){return aA(this.sha256,t,s,r,n||this.service)}},gq={SignatureV4a:null};X.ALGORITHM_IDENTIFIER=Ic;X.ALGORITHM_IDENTIFIER_V4A=dq;X.ALGORITHM_QUERY_PARAM=QT;X.ALWAYS_UNSIGNABLE_HEADERS=eA;X.AMZ_DATE_HEADER=mh;X.AMZ_DATE_QUERY_PARAM=lh;X.AUTH_HEADER=ph;X.CREDENTIAL_QUERY_PARAM=KT;X.DATE_HEADER=YT;X.EVENT_ALGORITHM_IDENTIFIER=sA;X.EXPIRES_QUERY_PARAM=WT;X.GENERATED_HEADERS=XT;X.HOST_HEADER=uq;X.KEY_TYPE_IDENTIFIER=hh;X.MAX_CACHE_SIZE=oA;X.MAX_PRESIGNED_TTL=iA;X.PROXY_HEADER_PATTERN=tA;X.REGION_SET_PARAM=cq;X.SEC_HEADER_PATTERN=rA;X.SHA256_HEADER=Mc;X.SIGNATURE_HEADER=JT;X.SIGNATURE_QUERY_PARAM=dh;X.SIGNED_HEADERS_QUERY_PARAM=GT;X.SignatureV4=uh;X.SignatureV4Base=Dc;X.TOKEN_HEADER=ZT;X.TOKEN_QUERY_PARAM=fh;X.UNSIGNABLE_PATTERNS=lq;X.UNSIGNED_PAYLOAD=nA;X.clearCredentialCache=fq;X.createScope=Oc;X.getCanonicalHeaders=oh;X.getCanonicalQuery=lA;X.getPayloadHash=Nc;X.getSigningKey=aA;X.hasHeader=cA;X.moveHeadersToQuery=uA;X.prepareRequest=ch;X.signatureV4aContainer=gq});function Sq(e,{credentials:t,credentialDefaultProvider:r}){let s;return t?t?.memoized?s=t:s=Zo(t,Jo,Tn):r?s=pt(r(Object.assign({},e,{parentClientConfig:e}))):s=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},s.memoized=!0,s}function Eq(e,t){if(t.configBound)return t;let r=async s=>t({...s,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var gh,dA,yq,fA=S(()=>{c();Qm();He();gh=_(kc()),dA=e=>{let t=e.credentials,r=!!e.credentials,s;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==s&&(r=!0),t=l;let f=Sq(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=Eq(e,f);if(r&&!d.attributed){let g=typeof t=="object"&&t!==null;s=async h=>{let b=await d(h);return g&&(!b.$source||Object.keys(b.$source).length===0)?Vm(b,"CREDENTIALS_CODE","e"):b},s.memoized=d.memoized,s.configBound=d.configBound,s.attributed=!0}else s=d},get(){return s},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:n=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=pt(e.signer):e.regionInfoProvider?a=()=>pt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,f])=>{let{signingRegion:d,signingService:g}=l;e.signingRegion=e.signingRegion||d||f,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},y=e.signerConstructor||gh.SignatureV4;return new y(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await pt(e.region)(),properties:{}},l);let f=l.signingRegion,d=l.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||d||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},h=e.signerConstructor||gh.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:n,signer:a})},yq=dA});var pA=S(()=>{c();Xm();DT();UT();FT();fA()});var mA=S(()=>{c();pA();eh()});function Xr(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function $c(e){return e[yh]=!0,e}var yh,Lc=S(()=>{c();yh=Symbol("@smithy/core/cbor::tagSymbol")});function yA(e){ge=e,Rr=new DataView(ge.buffer,ge.byteOffset,ge.byteLength)}function or(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(ge[e]&224)>>5,s=ge[e]&31;switch(r){case 0:case 1:case 6:let n,o;if(s<24)n=s,o=1;else switch(s){case 24:case 25:case 26:case 27:let i=EA[s],a=i+1;if(o=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let u=e+1;i===1?n=ge[u]:i===2?n=Rr.getUint16(u):i===4?n=Rr.getUint32(u):n=Rr.getBigUint64(u);break;default:throw new Error(`unexpected minor value ${s}.`)}if(r===0)return Z=o,Sh(n);if(r===1){let i;return typeof n=="bigint"?i=BigInt(-1)-n:i=-1-n,Z=o,Sh(i)}else if(s===2||s===3){let i=ii(e+o,t),a=BigInt(0),u=e+o+Z;for(let l=u;l<u+i;++l)a=a<<BigInt(8)|BigInt(ge[l]);return Z=o+Z+i,s===3?-a-BigInt(1):a}else if(s===4){let i=or(e+o,t),[a,u]=i,l=u<0?-1:1,f="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(u)),d,g=u<0?"-":"";return d=a===0?f:f.slice(0,f.length+a)+"."+f.slice(a),d=d.replace(/^0+/g,""),d===""&&(d="0"),d[0]==="."&&(d="0"+d),d=g+d,Z=o+Z,lm(d)}else{let i=or(e+o,t);return Z=o+Z,$c({tag:Sh(n),value:i})}case 3:case 5:case 4:case 2:if(s===31)switch(r){case 3:return Rq(e,t);case 5:return Oq(e,t);case 4:return Iq(e,t);case 2:return Cq(e,t)}else switch(r){case 3:return xq(e,t);case 5:return Pq(e,t);case 4:return vq(e,t);case 2:return Ah(e,t)}default:return Nq(e,t)}}function SA(e,t,r){return bq&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):hA?hA.decode(e.subarray(t,r)):(0,gA.toUtf8)(e.subarray(t,r))}function Tq(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function Aq(e,t){let r=e>>7,s=(e&124)>>2,n=(e&3)<<8|t,o=r===0?1:-1,i,a;if(s===0){if(n===0)return 0;i=Math.pow(2,-14),a=0}else{if(s===31)return n===0?o*(1/0):NaN;i=Math.pow(2,s-15),a=1}return a+=n/1024,o*(i*a)}function ii(e,t){let r=ge[e]&31;if(r<24)return Z=1,r;if(r===24||r===25||r===26||r===27){let s=EA[r];if(Z=s+1,t-e<Z)throw new Error(`countLength ${s} greater than remaining buf len.`);let n=e+1;return s===1?ge[n]:s===2?Rr.getUint16(n):s===4?Rr.getUint32(n):Tq(Rr.getBigUint64(n))}throw new Error(`unexpected minor value ${r}.`)}function xq(e,t){let r=ii(e,t),s=Z;if(e+=s,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let n=SA(ge,e,e+r);return Z=s+r,n}function Rq(e,t){e+=1;let r=[];for(let s=e;e<t;){if(ge[e]===255){let u=Xr(r.length);return u.set(r,0),Z=e-s+2,SA(u,0,u.length)}let n=(ge[e]&224)>>5,o=ge[e]&31;if(n!==3)throw new Error(`unexpected major type ${n} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=Ah(e,t);e+=Z;for(let u=0;u<i.length;++u)r.push(i[u])}throw new Error("expected break marker.")}function Ah(e,t){let r=ii(e,t),s=Z;if(e+=s,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let n=ge.subarray(e,e+r);return Z=s+r,n}function Cq(e,t){e+=1;let r=[];for(let s=e;e<t;){if(ge[e]===255){let u=Xr(r.length);return u.set(r,0),Z=e-s+2,u}let n=(ge[e]&224)>>5,o=ge[e]&31;if(n!==2)throw new Error(`unexpected major type ${n} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=Ah(e,t);e+=Z;for(let u=0;u<i.length;++u)r.push(i[u])}throw new Error("expected break marker.")}function vq(e,t){let r=ii(e,t),s=Z;e+=s;let n=e,o=Array(r);for(let i=0;i<r;++i){let a=or(e,t),u=Z;o[i]=a,e+=u}return Z=s+(e-n),o}function Iq(e,t){e+=1;let r=[];for(let s=e;e<t;){if(ge[e]===255)return Z=e-s+2,r;let n=or(e,t);e+=Z,r.push(n)}throw new Error("expected break marker.")}function Pq(e,t){let r=ii(e,t),s=Z;e+=s;let n=e,o={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(ge[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let u=or(e,t);e+=Z;let l=or(e,t);e+=Z,o[u]=l}return Z=s+(e-n),o}function Oq(e,t){e+=1;let r=e,s={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(ge[e]===255)return Z=e-r+2,s;let n=(ge[e]&224)>>5;if(n!==3)throw new Error(`unexpected major type ${n} for map key.`);let o=or(e,t);e+=Z;let i=or(e,t);e+=Z,s[o]=i}throw new Error("expected break marker.")}function Nq(e,t){let r=ge[e]&31;switch(r){case 21:case 20:return Z=1,r===21;case 22:return Z=1,null;case 23:return Z=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return Z=3,Aq(ge[e+1],ge[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return Z=5,Rr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return Z=9,Rr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Sh(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var gA,_q,bq,ge,Rr,hA,Z,EA,wA=S(()=>{c();ke();gA=_(Te());Lc();_q=typeof TextDecoder<"u",bq=typeof Buffer<"u",ge=Xr(0),Rr=new DataView(ge.buffer,ge.byteOffset,ge.byteLength),hA=_q?new TextDecoder:null,Z=0;EA={[24]:1,[25]:2,[26]:4,[27]:8}});function Rh(e){z.byteLength-F<e&&(F<16e6?Fc(Math.max(z.byteLength*4,z.byteLength+e)):Fc(z.byteLength+e+16e6))}function Ch(){let e=Xr(F);return e.set(z.subarray(0,F),0),F=0,e}function Fc(e){let t=z;z=Xr(e),t&&(t.copy?t.copy(z,0,0,t.byteLength):z.set(t,0)),Ir=new DataView(z.buffer,z.byteOffset,z.byteLength)}function vr(e,t){t<24?z[F++]=e<<5|t:t<256?(z[F++]=e<<5|24,z[F++]=t):t<65536?(z[F++]=e<<5|25,Ir.setUint16(F,t),F+=2):t<2**32?(z[F++]=e<<5|26,Ir.setUint32(F,t),F+=4):(z[F++]=e<<5|27,Ir.setBigUint64(F,typeof t=="bigint"?t:BigInt(t)),F+=8)}function TA(e){let t=[e];for(;t.length;){let r=t.pop();if(Rh(typeof r=="string"?r.length*4:64),typeof r=="string"){if(_A)vr(3,Buffer.byteLength(r)),F+=z.write(r,F);else{let s=(0,bA.fromUtf8)(r);vr(3,s.byteLength),z.set(s,F),F+=s.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let s=r>=0,n=s?0:1,o=s?r:-r-1;o<24?z[F++]=n<<5|o:o<256?(z[F++]=n<<5|24,z[F++]=o):o<65536?(z[F++]=n<<5|25,z[F++]=o>>8,z[F++]=o):o<4294967296?(z[F++]=n<<5|26,Ir.setUint32(F,o),F+=4):(z[F++]=n<<5|27,Ir.setBigUint64(F,BigInt(o)),F+=8);continue}z[F++]=251,Ir.setFloat64(F,r),F+=8;continue}else if(typeof r=="bigint"){let s=r>=0,n=s?0:1,o=s?r:-r-BigInt(1),i=Number(o);if(i<24)z[F++]=n<<5|i;else if(i<256)z[F++]=n<<5|24,z[F++]=i;else if(i<65536)z[F++]=n<<5|25,z[F++]=i>>8,z[F++]=i&255;else if(i<4294967296)z[F++]=n<<5|26,Ir.setUint32(F,i),F+=4;else if(o<BigInt("18446744073709551616"))z[F++]=n<<5|27,Ir.setBigUint64(F,o),F+=8;else{let a=o.toString(2),u=new Uint8Array(Math.ceil(a.length/8)),l=o,f=0;for(;u.byteLength-++f>=0;)u[u.byteLength-f]=Number(l&BigInt(255)),l>>=BigInt(8);Rh(u.byteLength*2),z[F++]=s?194:195,_A?vr(2,Buffer.byteLength(u)):vr(2,u.byteLength),z.set(u,F),F+=u.byteLength}continue}else if(r===null){z[F++]=246;continue}else if(typeof r=="boolean"){z[F++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let s=r.length-1;s>=0;--s)t.push(r[s]);vr(4,r.length);continue}else if(typeof r.byteLength=="number"){Rh(r.length*2),vr(2,r.length),z.set(r,F),F+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof G){let n=r.string.indexOf("."),o=n===-1?0:n-r.string.length+1,i=BigInt(r.string.replace(".",""));z[F++]=196,t.push(i),t.push(o),vr(4,2);continue}if(r[yh])if("tag"in r&&"value"in r){t.push(r.value),vr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let s=Object.keys(r);for(let n=s.length-1;n>=0;--n){let o=s[n];t.push(r[o]),t.push(o)}vr(5,s.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var bA,_A,Mq,z,Ir,F,AA=S(()=>{c();ke();bA=_(Te());Lc();_A=typeof Buffer<"u",Mq=2048,z=Xr(Mq),Ir=new DataView(z.buffer,z.byteOffset,z.byteLength),F=0});var vh,xA=S(()=>{c();wA();AA();vh={deserialize(e){return yA(e),or(0,e.length)},serialize(e){try{return TA(e),Ch()}catch(t){throw Ch(),t}},resizeEncodingBuffer(e){Fc(e)}}});var Bc,In,qc=S(()=>{c();Lc();Bc=e=>$c({tag:1,value:e.getTime()/1e3}),In=(e,t)=>{let r=n=>{let o=n;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(t.__type!==void 0)return r(t.__type);let s=Object.keys(t).find(n=>n.toLowerCase()==="code");if(s&&t[s]!==void 0)return r(t[s])}});var Oh,jc,Ih,Ph,Nh=S(()=>{c();Ie();K();ke();ke();Oh=_(_c());xA();qc();jc=class extends ft{createSerializer(){let t=new Ih;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ph;return t.setSerdeContext(this.serdeContext),t}},Ih=class extends ft{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let s=D.of(t);if(r==null)return s.isIdempotencyToken()?(0,je.v4)():r;if(s.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??Oh.fromBase64)(r):r;if(s.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?Bc(new Date(Number(r)/1e3|0)):Bc(r);if(typeof r=="function"||typeof r=="object"){let n=r;if(s.isListSchema()&&Array.isArray(n)){let i=!!s.getMergedTraits().sparse,a=[],u=0;for(let l of n){let f=this.serialize(s.getValueSchema(),l);(f!=null||i)&&(a[u++]=f)}return a}if(n instanceof Date)return Bc(n);let o={};if(s.isMapSchema()){let i=!!s.getMergedTraits().sparse;for(let a of Object.keys(n)){let u=this.serialize(s.getValueSchema(),n[a]);(u!=null||i)&&(o[a]=u)}}else if(s.isStructSchema()){for(let[a,u]of s.structIterator()){let l=this.serialize(u,n[a]);l!=null&&(o[a]=l)}if(s.isUnionSchema()&&Array.isArray(n.$unknown)){let[a,u]=n.$unknown;o[a]=u}else if(typeof n.__type=="string")for(let[a,u]of Object.entries(n))a in o||(o[a]=this.serialize(15,u))}else if(s.isDocumentSchema())for(let i of Object.keys(n))o[i]=this.serialize(s.getValueSchema(),n[i]);else if(s.isBigDecimalSchema())return n;return o}return r}flush(){let t=vh.serialize(this.value);return this.value=void 0,t}},Ph=class extends ft{read(t,r){let s=vh.deserialize(r);return this.readValue(t,s)}readValue(t,r){let s=D.of(t);if(s.isTimestampSchema()){if(typeof r=="number")return wn(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return wn(r.value)}if(s.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??Oh.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||s.isDocumentSchema())return r;if(s.isListSchema()){let o=[],i=s.getValueSchema(),a=!!s.getMergedTraits().sparse;for(let u of r){let l=this.readValue(i,u);(l!=null||a)&&o.push(l)}return o}let n={};if(s.isMapSchema()){let o=!!s.getMergedTraits().sparse,i=s.getValueSchema();for(let a of Object.keys(r)){let u=this.readValue(i,r[a]);(u!=null||o)&&(n[a]=u)}}else if(s.isStructSchema()){let o=s.isUnionSchema(),i;o&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,u]of s.structIterator())o&&i.delete(a),r[a]!=null&&(n[a]=this.readValue(u,r[a]));if(o&&i?.size===1&&Object.keys(n).length===0){let a=i.values().next().value;n.$unknown=[a,r[a]]}else if(typeof r.__type=="string")for(let[a,u]of Object.entries(r))a in n||(n[a]=u)}else if(r instanceof G)return r;return n}else return r}}});var RA,Pn,CA=S(()=>{c();Ie();K();RA=_(dt());Nh();qc();Pn=class extends At{codec=new jc;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);if(Object.assign(n.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),lt(t.input)==="unit")delete n.body,delete n.headers["content-type"];else{n.body||(this.serializer.write(15,{}),n.body=this.serializer.flush());try{n.headers["content-length"]=String(n.body.byteLength)}catch{}}let{service:o,operation:i}=(0,RA.getSmithyContext)(s),a=`/service/${o}/operation/${i}`;return n.path.endsWith("/")?n.path+=a.slice(1):n.path+=a,n}async deserializeResponse(t,r,s){return super.deserializeResponse(t,r,s)}async handleError(t,r,s,n,o){let i=In(s,n)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let u={$metadata:o,$fault:s.statusCode<=500?"client":"server"},l=U.for(a),f;try{f=l.getSchema(i)}catch{n.Message&&(n.message=n.Message);let P=U.for("smithy.ts.sdk.synthetic."+a),N=P.getBaseException();if(N){let $=P.getErrorCtor(N);throw Object.assign(new $({name:i}),u,n)}throw Object.assign(new Error(i),u,n)}let d=D.of(f),g=l.getErrorCtor(f),h=n.message??n.Message??"Unknown",y=new g(h),b={};for(let[R,P]of d.structIterator())b[R]=this.deserializer.readValue(P,n[R]);throw Object.assign(y,u,{$fault:d.getMergedTraits().error,message:h},b)}getDefaultContentType(){return"application/cbor"}}});var Mh=S(()=>{c();qc();CA();Nh()});var Dh,It,On=S(()=>{c();K();Dh=_(H()),It=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let s=r.getMemberSchemas(),n=Object.values(s).find(o=>!!o.getMergedTraits().httpPayload);if(n){let o=n.getMergedTraits().mediaType;return o||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(s).find(i=>{let{httpQuery:a,httpQueryParams:u,httpHeader:l,httpLabel:f,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!u&&!l&&!f&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,s,n,o,i){let a=r,u=t;t.includes("#")&&([a,u]=t.split("#"));let l={$metadata:o,$fault:s.statusCode<500?"client":"server"},f=U.for(a);try{return{errorSchema:i?.(f,u)??f.getSchema(t),errorMetadata:l}}catch{n.message=n.message??n.Message??"UnknownError";let g=U.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let y=g.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new y({name:u}),l),n)}throw this.decorateServiceException(Object.assign(new Error(u),l),n)}}decorateServiceException(t,r={}){if(this.queryCompat){let s=t.Message??r.Message,n=(0,Dh.decorateServiceException)(t,r);s&&(n.message=s),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??s};let o=n.$metadata.requestId;return o&&(n.RequestId=o),n}return(0,Dh.decorateServiceException)(t,r)}setQueryCompatError(t,r){let s=r.headers?.["x-amzn-query-error"];if(t!==void 0&&s!=null){let[n,o]=s.split(";"),i=Object.entries(t),a={Code:n,Type:o};Object.assign(t,a);for(let[u,l]of i)a[u==="message"?"Message":u]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(n=>D.of(n).getMergedTraits().awsQueryError?.[0]===r)}}}});var Hc,vA=S(()=>{c();Mh();K();On();Hc=class extends Pn{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new It(this.awsQueryCompatible)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);return this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),n}async handleError(t,r,s,n,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,s);let i=(()=>{let y=s.headers["x-amzn-query-error"];return y&&this.awsQueryCompatible?y.split(";")[0]:In(s,n)??"Unknown"})(),{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f),h={};for(let[y,b]of l.structIterator())n[y]!=null&&(h[y]=this.deserializer.readValue(b,n[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,h),this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}}});var IA,PA,OA,NA=S(()=>{c();IA=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},PA=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},OA=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Ze,ts=S(()=>{c();Ze=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var MA=v(zc=>{"use strict";c();Object.defineProperty(zc,"__esModule",{value:!0});zc.fromBase64=void 0;var Dq=Et(),kq=/^[A-Za-z0-9+/]*={0,2}$/,$q=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!kq.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Dq.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};zc.fromBase64=$q});var DA=v(Vc=>{"use strict";c();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.toBase64=void 0;var Lq=Et(),Uq=Te(),Fq=e=>{let t;if(typeof e=="string"?t=(0,Uq.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Lq.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Vc.toBase64=Fq});var Nn=v(ai=>{"use strict";c();var kA=MA(),$A=DA();Object.keys(kA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ai,e)&&Object.defineProperty(ai,e,{enumerable:!0,get:function(){return kA[e]}})});Object.keys($A).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ai,e)&&Object.defineProperty(ai,e,{enumerable:!0,get:function(){return $A[e]}})})});function*Mn(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let s=0;s<r[4].length;++s){let n=r[4][s],o=r[5][s],i=new D([o,0],n);!(n in t)&&!i.isIdempotencyToken()||(yield[n,i])}}function*LA(e,t,r){if(e.isUnitSchema())return;let s=e.getSchema(),n=Object.keys(t).filter(o=>o!=="__type").length;for(let o=0;o<s[4].length&&n!==0;++o){let i=s[4][o],a=s[5][o],u=new D([a,0],i),l=i;r&&(l=u.getMergedTraits()[r]??i),l in t&&(yield[i,u],n-=1)}}var ci=S(()=>{c();K()});var Dn,kh=S(()=>{c();Dn=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(s=>s!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function UA(e,t,r){if(r?.source){let s=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||s!==String(t)))return s.includes(".")?new G(s,"bigDecimal"):BigInt(s)}return t}var FA=S(()=>{c();ke()});var BA,qA,Qc,$h=S(()=>{c();BA=_(H()),qA=_(Te()),Qc=(e,t)=>(0,BA.collectBody)(e,t).then(r=>(t?.utf8Encoder??qA.toUtf8)(r))});var ui,jA,kn,li=S(()=>{c();$h();ui=(e,t)=>Qc(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(s){throw s?.name==="SyntaxError"&&Object.defineProperty(s,"$responseBodyText",{value:r}),s}return{}}),jA=async(e,t)=>{let r=await ui(e,t);return r.message=r.message??r.Message,r},kn=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),s=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return s(t[o]);if(t.__type!==void 0)return s(t.__type)}}});var HA,$n,Lh=S(()=>{c();Ie();K();ke();HA=_(Nn());ts();ci();kh();FA();li();$n=class extends Ze{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,UA):await ui(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let s=r!==null&&typeof r=="object",n=D.of(t);if(s){if(n.isStructSchema()){let i=r,a=n.isUnionSchema(),u={},l,{jsonName:f}=this.settings;f&&(l={});let d;a&&(d=new Dn(i,u));for(let[g,h]of LA(n,i,f?"jsonName":!1)){let y=g;f&&(y=h.getMergedTraits().jsonName??y,l[y]=g),a&&d.mark(y),i[y]!=null&&(u[g]=this._read(h,i[y]))}if(a)d.writeUnknown();else if(typeof i.__type=="string")for(let[g,h]of Object.entries(i)){let y=f?l[g]??g:g;y in u||(u[y]=h)}return u}if(Array.isArray(r)&&n.isListSchema()){let i=n.getValueSchema(),a=[],u=!!n.getMergedTraits().sparse;for(let l of r)(u||l!=null)&&a.push(this._read(i,l));return a}if(n.isMapSchema()){let i=n.getValueSchema(),a={},u=!!n.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(u||f!=null)&&(a[l]=this._read(i,f));return a}}if(n.isBlobSchema()&&typeof r=="string")return(0,HA.fromBase64)(r);let o=n.getMergedTraits().mediaType;if(n.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?Fe.from(r):r;if(n.isTimestampSchema()&&r!=null)switch($e(n,this.settings)){case 5:return Vo(r);case 6:return Qo(r);case 7:return Ko(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(n.isBigDecimalSchema()&&r!=null){if(r instanceof G)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new G(i.string,i.type):new G(String(r),"bigDecimal")}if(n.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(n.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof G?i[a]=u:i[a]=this._read(n,u);return i}else return structuredClone(r);return r}}});var zA,Kc,VA=S(()=>{c();ke();zA="\u039D",Kc=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof G){let s=`${zA+"nv"+this.counter++}_`+r.string;return this.values.set(`"${s}"`,r.string),s}if(typeof r=="bigint"){let s=r.toString(),n=`${zA+"b"+this.counter++}_`+s;return this.values.set(`"${n}"`,s),n}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,s]of this.values)t=t.replace(r,s);return t}}});var Uh,Ln,Fh=S(()=>{c();Ie();K();ke();Uh=_(Nn());ts();ci();VA();Ln=class extends Ze{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=D.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=D.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let s=new Kc;return s.replaceInJson(JSON.stringify(this.buffer,s.createReplacer(),0))}return this.buffer}_write(t,r,s){let n=r!==null&&typeof r=="object",o=D.of(t);if(n){if(o.isStructSchema()){let i=r,a={},{jsonName:u}=this.settings,l;u&&(l={});for(let[f,d]of Mn(o,i)){let g=this._write(d,i[f],o);if(g!==void 0){let h=f;u&&(h=d.getMergedTraits().jsonName??f,l[f]=h),a[h]=g}}if(o.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:f}=i;if(Array.isArray(f)){let[d,g]=f;a[d]=this._write(15,g)}}else if(typeof i.__type=="string")for(let[f,d]of Object.entries(i)){let g=u?l[f]??f:f;g in a||(a[g]=this._write(15,d))}return a}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],u=!!o.getMergedTraits().sparse;for(let l of r)(u||l!=null)&&a.push(this._write(i,l));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},u=!!o.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(u||f!=null)&&(a[l]=this._write(i,f));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Uh.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch($e(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Fs(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof G&&(this.useReplacer=!0)}if(!(r===null&&s?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,je.v4)();let i=o.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?Fe.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Uh.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof G?(this.useReplacer=!0,i[a]=u):i[a]=this._write(o,u);return i}else return structuredClone(r);return r}}}});var rs,Gc=S(()=>{c();ts();Lh();Fh();rs=class extends Ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ln(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new $n(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var ss,Wc=S(()=>{c();Ie();K();On();Gc();li();ss=class extends At{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=n??new rs({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!s,this.mixin=new It(this.awsQueryCompatible)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);return n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),(lt(t.input)==="unit"||!n.body)&&(n.body="{}"),n}getPayloadCodec(){return this.codec}async handleError(t,r,s,n,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,s);let i=kn(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f),h={};for(let[y,b]of l.structIterator())n[y]!=null&&(h[y]=this.codec.createDeserializer().readObject(b,n[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,h),this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}}});var Yc,QA=S(()=>{c();Wc();Yc=class extends ss{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Xc,KA=S(()=>{c();Wc();Xc=class extends ss{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Jc,GA=S(()=>{c();Ie();K();On();Gc();li();Jc=class extends Ht{serializer;deserializer;codec;mixin=new It;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new rs(r),this.serializer=new Vt(this.codec.createSerializer(),r),this.deserializer=new zt(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s),o=D.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(n.headers["content-type"]=i)}return n.body==null&&n.headers["content-type"]===this.getDefaultContentType()&&(n.body="{}"),n}async deserializeResponse(t,r,s){let n=await super.deserializeResponse(t,r,s),o=D.of(t.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in n)&&(n[i]=null);return n}async handleError(t,r,s,n,o){let i=kn(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f);await this.deserializeHttpMessage(a,r,s,n);let h={};for(let[y,b]of l.structIterator()){let R=b.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(b,n[R])}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}getDefaultContentType(){return"application/json"}}});var WA,YA,XA=S(()=>{c();WA=_(H()),YA=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,WA.expectUnion)(e)}});var Bh=v(($re,JA)=>{c();(()=>{"use strict";var e={d:(p,m)=>{for(var E in m)e.o(m,E)&&!e.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:m[E]})},o:(p,m)=>Object.prototype.hasOwnProperty.call(p,m),r:p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Br,XMLParser:()=>w$,XMLValidator:()=>v$});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function n(p,m){let E=[],A=m.exec(p);for(;A;){let w=[];w.startIndex=m.lastIndex-A[0].length;let T=A.length;for(let O=0;O<T;O++)w.push(A[O]);E.push(w),A=m.exec(p)}return E}let o=function(p){return s.exec(p)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(p,m){m=Object.assign({},i,m);let E=[],A=!1,w=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let T=0;T<p.length;T++)if(p[T]==="<"&&p[T+1]==="?"){if(T+=2,T=l(p,T),T.err)return T}else{if(p[T]!=="<"){if(u(p[T]))continue;return P("InvalidChar","char '"+p[T]+"' is not expected.",$(p,T))}{let O=T;if(T++,p[T]==="!"){T=f(p,T);continue}{let I=!1;p[T]==="/"&&(I=!0,T++);let M="";for(;T<p.length&&p[T]!==">"&&p[T]!==" "&&p[T]!=="	"&&p[T]!==`
`&&p[T]!=="\r";T++)M+=p[T];if(M=M.trim(),M[M.length-1]==="/"&&(M=M.substring(0,M.length-1),T--),!o(M)){let B;return B=M.trim().length===0?"Invalid space after '<'.":"Tag '"+M+"' is an invalid name.",P("InvalidTag",B,$(p,T))}let k=h(p,T);if(k===!1)return P("InvalidAttr","Attributes for '"+M+"' have open quote.",$(p,T));let V=k.value;if(T=k.index,V[V.length-1]==="/"){let B=T-V.length;V=V.substring(0,V.length-1);let oe=b(V,m);if(oe!==!0)return P(oe.err.code,oe.err.msg,$(p,B+oe.err.line));A=!0}else if(I){if(!k.tagClosed)return P("InvalidTag","Closing tag '"+M+"' doesn't have proper closing.",$(p,T));if(V.trim().length>0)return P("InvalidTag","Closing tag '"+M+"' can't have attributes or invalid starting.",$(p,O));if(E.length===0)return P("InvalidTag","Closing tag '"+M+"' has not been opened.",$(p,O));{let B=E.pop();if(M!==B.tagName){let oe=$(p,B.tagStartPos);return P("InvalidTag","Expected closing tag '"+B.tagName+"' (opened in line "+oe.line+", col "+oe.col+") instead of closing tag '"+M+"'.",$(p,O))}E.length==0&&(w=!0)}}else{let B=b(V,m);if(B!==!0)return P(B.err.code,B.err.msg,$(p,T-V.length+B.err.line));if(w===!0)return P("InvalidXml","Multiple possible root nodes found.",$(p,T));m.unpairedTags.indexOf(M)!==-1||E.push({tagName:M,tagStartPos:O}),A=!0}for(T++;T<p.length;T++)if(p[T]==="<"){if(p[T+1]==="!"){T++,T=f(p,T);continue}if(p[T+1]!=="?")break;if(T=l(p,++T),T.err)return T}else if(p[T]==="&"){let B=R(p,T);if(B==-1)return P("InvalidChar","char '&' is not expected.",$(p,T));T=B}else if(w===!0&&!u(p[T]))return P("InvalidXml","Extra text at the end",$(p,T));p[T]==="<"&&T--}}}return A?E.length==1?P("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",$(p,E[0].tagStartPos)):!(E.length>0)||P("InvalidXml","Invalid '"+JSON.stringify(E.map(T=>T.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):P("InvalidXml","Start tag expected.",1)}function u(p){return p===" "||p==="	"||p===`
`||p==="\r"}function l(p,m){let E=m;for(;m<p.length;m++)if(!(p[m]!="?"&&p[m]!=" ")){let A=p.substr(E,m-E);if(m>5&&A==="xml")return P("InvalidXml","XML declaration allowed only at the start of the document.",$(p,m));if(p[m]=="?"&&p[m+1]==">"){m++;break}}return m}function f(p,m){if(p.length>m+5&&p[m+1]==="-"&&p[m+2]==="-"){for(m+=3;m<p.length;m++)if(p[m]==="-"&&p[m+1]==="-"&&p[m+2]===">"){m+=2;break}}else if(p.length>m+8&&p[m+1]==="D"&&p[m+2]==="O"&&p[m+3]==="C"&&p[m+4]==="T"&&p[m+5]==="Y"&&p[m+6]==="P"&&p[m+7]==="E"){let E=1;for(m+=8;m<p.length;m++)if(p[m]==="<")E++;else if(p[m]===">"&&(E--,E===0))break}else if(p.length>m+9&&p[m+1]==="["&&p[m+2]==="C"&&p[m+3]==="D"&&p[m+4]==="A"&&p[m+5]==="T"&&p[m+6]==="A"&&p[m+7]==="["){for(m+=8;m<p.length;m++)if(p[m]==="]"&&p[m+1]==="]"&&p[m+2]===">"){m+=2;break}}return m}let d='"',g="'";function h(p,m){let E="",A="",w=!1;for(;m<p.length;m++){if(p[m]===d||p[m]===g)A===""?A=p[m]:A!==p[m]||(A="");else if(p[m]===">"&&A===""){w=!0;break}E+=p[m]}return A===""&&{value:E,index:m,tagClosed:w}}let y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function b(p,m){let E=n(p,y),A={};for(let w=0;w<E.length;w++){if(E[w][1].length===0)return P("InvalidAttr","Attribute '"+E[w][2]+"' has no space in starting.",L(E[w]));if(E[w][3]!==void 0&&E[w][4]===void 0)return P("InvalidAttr","Attribute '"+E[w][2]+"' is without value.",L(E[w]));if(E[w][3]===void 0&&!m.allowBooleanAttributes)return P("InvalidAttr","boolean attribute '"+E[w][2]+"' is not allowed.",L(E[w]));let T=E[w][2];if(!N(T))return P("InvalidAttr","Attribute '"+T+"' is an invalid name.",L(E[w]));if(A.hasOwnProperty(T))return P("InvalidAttr","Attribute '"+T+"' is repeated.",L(E[w]));A[T]=1}return!0}function R(p,m){if(p[++m]===";")return-1;if(p[m]==="#")return function(A,w){let T=/\d/;for(A[w]==="x"&&(w++,T=/[\da-fA-F]/);w<A.length;w++){if(A[w]===";")return w;if(!A[w].match(T))break}return-1}(p,++m);let E=0;for(;m<p.length;m++,E++)if(!(p[m].match(/\w/)&&E<20)){if(p[m]===";")break;return-1}return m}function P(p,m,E){return{err:{code:p,msg:m,line:E.line||E,col:E.col}}}function N(p){return o(p)}function $(p,m){let E=p.substring(0,m).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function L(p){return p.startIndex+p[1].length}let q={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(p,m){return m},attributeValueProcessor:function(p,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(p,m,E){return p},captureMetaData:!1},ee;ee=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Ae{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,E){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:E})}addChild(m,E){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),E!==void 0&&(this.child[this.child.length-1][ee]={startIndex:E})}static getMetaDataSymbol(){return ee}}function Q(p,m){let E={};if(p[m+3]!=="O"||p[m+4]!=="C"||p[m+5]!=="T"||p[m+6]!=="Y"||p[m+7]!=="P"||p[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let A=1,w=!1,T=!1,O="";for(;m<p.length;m++)if(p[m]!=="<"||T)if(p[m]===">"){if(T?p[m-1]==="-"&&p[m-2]==="-"&&(T=!1,A--):A--,A===0)break}else p[m]==="["?w=!0:O+=p[m];else{if(w&&Ds(p,"!ENTITY",m)){let I,M;m+=7,[I,M,m]=Ee(p,m+1),M.indexOf("&")===-1&&(E[I]={regx:RegExp(`&${I};`,"g"),val:M})}else if(w&&Ds(p,"!ELEMENT",m)){m+=8;let{index:I}=Z1(p,m+1);m=I}else if(w&&Ds(p,"!ATTLIST",m))m+=8;else if(w&&Ds(p,"!NOTATION",m)){m+=9;let{index:I}=Ve(p,m+1);m=I}else{if(!Ds(p,"!--",m))throw new Error("Invalid DOCTYPE");T=!0}A++,O=""}if(A!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:m}}let ne=(p,m)=>{for(;m<p.length&&/\s/.test(p[m]);)m++;return m};function Ee(p,m){m=ne(p,m);let E="";for(;m<p.length&&!/\s/.test(p[m])&&p[m]!=='"'&&p[m]!=="'";)E+=p[m],m++;if(Vf(E),m=ne(p,m),p.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(p[m]==="%")throw new Error("Parameter entities are not supported");let A="";return[m,A]=St(p,m,"entity"),[E,A,--m]}function Ve(p,m){m=ne(p,m);let E="";for(;m<p.length&&!/\s/.test(p[m]);)E+=p[m],m++;Vf(E),m=ne(p,m);let A=p.substring(m,m+6).toUpperCase();if(A!=="SYSTEM"&&A!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${A}"`);m+=A.length,m=ne(p,m);let w=null,T=null;if(A==="PUBLIC")[m,w]=St(p,m,"publicIdentifier"),p[m=ne(p,m)]!=='"'&&p[m]!=="'"||([m,T]=St(p,m,"systemIdentifier"));else if(A==="SYSTEM"&&([m,T]=St(p,m,"systemIdentifier"),!T))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:E,publicIdentifier:w,systemIdentifier:T,index:--m}}function St(p,m,E){let A="",w=p[m];if(w!=='"'&&w!=="'")throw new Error(`Expected quoted string, found "${w}"`);for(m++;m<p.length&&p[m]!==w;)A+=p[m],m++;if(p[m]!==w)throw new Error(`Unterminated ${E} value`);return[++m,A]}function Z1(p,m){m=ne(p,m);let E="";for(;m<p.length&&!/\s/.test(p[m]);)E+=p[m],m++;if(!Vf(E))throw new Error(`Invalid element name: "${E}"`);let A="";if(p[m=ne(p,m)]==="E"&&Ds(p,"MPTY",m))m+=4;else if(p[m]==="A"&&Ds(p,"NY",m))m+=2;else{if(p[m]!=="(")throw new Error(`Invalid Element Expression, found "${p[m]}"`);for(m++;m<p.length&&p[m]!==")";)A+=p[m],m++;if(p[m]!==")")throw new Error("Unterminated content model")}return{elementName:E,contentModel:A.trim(),index:m}}function Ds(p,m,E){for(let A=0;A<m.length;A++)if(m[A]!==p[E+A+1])return!1;return!0}function Vf(p){if(o(p))return p;throw new Error(`Invalid entity name ${p}`)}let e$=/^[-+]?0x[a-fA-F0-9]+$/,t$=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,r$={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},s$=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function KS(p){return typeof p=="function"?p:Array.isArray(p)?m=>{for(let E of p)if(typeof E=="string"&&m===E||E instanceof RegExp&&E.test(m))return!0}:()=>!1}class n${constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(E,A)=>String.fromCodePoint(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(E,A)=>String.fromCodePoint(Number.parseInt(A,16))}},this.addExternalEntities=o$,this.parseXml=l$,this.parseTextData=i$,this.resolveNameSpace=a$,this.buildAttributesMap=u$,this.isItStopNode=m$,this.replaceEntitiesValue=f$,this.readStopNodeData=h$,this.saveTextToParentTag=p$,this.addChild=d$,this.ignoreAttributesFn=KS(this.options.ignoreAttributes)}}function o$(p){let m=Object.keys(p);for(let E=0;E<m.length;E++){let A=m[E];this.lastEntities[A]={regex:new RegExp("&"+A+";","g"),val:p[A]}}}function i$(p,m,E,A,w,T,O){if(p!==void 0&&(this.options.trimValues&&!A&&(p=p.trim()),p.length>0)){O||(p=this.replaceEntitiesValue(p));let I=this.options.tagValueProcessor(m,p,E,w,T);return I==null?p:typeof I!=typeof p||I!==p?I:this.options.trimValues||p.trim()===p?GS(p,this.options.parseTagValue,this.options.numberParseOptions):p}}function a$(p){if(this.options.removeNSPrefix){let m=p.split(":"),E=p.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(p=E+m[1])}return p}let c$=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function u$(p,m,E){if(this.options.ignoreAttributes!==!0&&typeof p=="string"){let A=n(p,c$),w=A.length,T={};for(let O=0;O<w;O++){let I=this.resolveNameSpace(A[O][1]);if(this.ignoreAttributesFn(I,m))continue;let M=A[O][4],k=this.options.attributeNamePrefix+I;if(I.length)if(this.options.transformAttributeName&&(k=this.options.transformAttributeName(k)),k==="__proto__"&&(k="#__proto__"),M!==void 0){this.options.trimValues&&(M=M.trim()),M=this.replaceEntitiesValue(M);let V=this.options.attributeValueProcessor(I,M,m);T[k]=V==null?M:typeof V!=typeof M||V!==M?V:GS(M,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(T[k]=!0)}if(!Object.keys(T).length)return;if(this.options.attributesGroupName){let O={};return O[this.options.attributesGroupName]=T,O}return T}}let l$=function(p){p=p.replace(/\r\n?/g,`
`);let m=new Ae("!xml"),E=m,A="",w="";for(let T=0;T<p.length;T++)if(p[T]==="<")if(p[T+1]==="/"){let O=ks(p,">",T,"Closing Tag is not closed."),I=p.substring(T+2,O).trim();if(this.options.removeNSPrefix){let V=I.indexOf(":");V!==-1&&(I=I.substr(V+1))}this.options.transformTagName&&(I=this.options.transformTagName(I)),E&&(A=this.saveTextToParentTag(A,E,w));let M=w.substring(w.lastIndexOf(".")+1);if(I&&this.options.unpairedTags.indexOf(I)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${I}>`);let k=0;M&&this.options.unpairedTags.indexOf(M)!==-1?(k=w.lastIndexOf(".",w.lastIndexOf(".")-1),this.tagsNodeStack.pop()):k=w.lastIndexOf("."),w=w.substring(0,k),E=this.tagsNodeStack.pop(),A="",T=O}else if(p[T+1]==="?"){let O=Qf(p,T,!1,"?>");if(!O)throw new Error("Pi Tag is not closed.");if(A=this.saveTextToParentTag(A,E,w),!(this.options.ignoreDeclaration&&O.tagName==="?xml"||this.options.ignorePiTags)){let I=new Ae(O.tagName);I.add(this.options.textNodeName,""),O.tagName!==O.tagExp&&O.attrExpPresent&&(I[":@"]=this.buildAttributesMap(O.tagExp,w,O.tagName)),this.addChild(E,I,w,T)}T=O.closeIndex+1}else if(p.substr(T+1,3)==="!--"){let O=ks(p,"-->",T+4,"Comment is not closed.");if(this.options.commentPropName){let I=p.substring(T+4,O-2);A=this.saveTextToParentTag(A,E,w),E.add(this.options.commentPropName,[{[this.options.textNodeName]:I}])}T=O}else if(p.substr(T+1,2)==="!D"){let O=Q(p,T);this.docTypeEntities=O.entities,T=O.i}else if(p.substr(T+1,2)==="!["){let O=ks(p,"]]>",T,"CDATA is not closed.")-2,I=p.substring(T+9,O);A=this.saveTextToParentTag(A,E,w);let M=this.parseTextData(I,E.tagname,w,!0,!1,!0,!0);M==null&&(M=""),this.options.cdataPropName?E.add(this.options.cdataPropName,[{[this.options.textNodeName]:I}]):E.add(this.options.textNodeName,M),T=O+2}else{let O=Qf(p,T,this.options.removeNSPrefix),I=O.tagName,M=O.rawTagName,k=O.tagExp,V=O.attrExpPresent,B=O.closeIndex;this.options.transformTagName&&(I=this.options.transformTagName(I)),E&&A&&E.tagname!=="!xml"&&(A=this.saveTextToParentTag(A,E,w,!1));let oe=E;oe&&this.options.unpairedTags.indexOf(oe.tagname)!==-1&&(E=this.tagsNodeStack.pop(),w=w.substring(0,w.lastIndexOf("."))),I!==m.tagname&&(w+=w?"."+I:I);let me=T;if(this.isItStopNode(this.options.stopNodes,w,I)){let ie="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)I[I.length-1]==="/"?(I=I.substr(0,I.length-1),w=w.substr(0,w.length-1),k=I):k=k.substr(0,k.length-1),T=O.closeIndex;else if(this.options.unpairedTags.indexOf(I)!==-1)T=O.closeIndex;else{let rr=this.readStopNodeData(p,M,B+1);if(!rr)throw new Error(`Unexpected end of ${M}`);T=rr.i,ie=rr.tagContent}let Ue=new Ae(I);I!==k&&V&&(Ue[":@"]=this.buildAttributesMap(k,w,I)),ie&&(ie=this.parseTextData(ie,I,w,!0,V,!0,!0)),w=w.substr(0,w.lastIndexOf(".")),Ue.add(this.options.textNodeName,ie),this.addChild(E,Ue,w,me)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){I[I.length-1]==="/"?(I=I.substr(0,I.length-1),w=w.substr(0,w.length-1),k=I):k=k.substr(0,k.length-1),this.options.transformTagName&&(I=this.options.transformTagName(I));let ie=new Ae(I);I!==k&&V&&(ie[":@"]=this.buildAttributesMap(k,w,I)),this.addChild(E,ie,w,me),w=w.substr(0,w.lastIndexOf("."))}else{let ie=new Ae(I);this.tagsNodeStack.push(E),I!==k&&V&&(ie[":@"]=this.buildAttributesMap(k,w,I)),this.addChild(E,ie,w,me),E=ie}A="",T=B}}else A+=p[T];return m.child};function d$(p,m,E,A){this.options.captureMetaData||(A=void 0);let w=this.options.updateTag(m.tagname,E,m[":@"]);w===!1||(typeof w=="string"&&(m.tagname=w),p.addChild(m,A))}let f$=function(p){if(this.options.processEntities){for(let m in this.docTypeEntities){let E=this.docTypeEntities[m];p=p.replace(E.regx,E.val)}for(let m in this.lastEntities){let E=this.lastEntities[m];p=p.replace(E.regex,E.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let E=this.htmlEntities[m];p=p.replace(E.regex,E.val)}p=p.replace(this.ampEntity.regex,this.ampEntity.val)}return p};function p$(p,m,E,A){return p&&(A===void 0&&(A=m.child.length===0),(p=this.parseTextData(p,m.tagname,E,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,A))!==void 0&&p!==""&&m.add(this.options.textNodeName,p),p=""),p}function m$(p,m,E){let A="*."+E;for(let w in p){let T=p[w];if(A===T||m===T)return!0}return!1}function ks(p,m,E,A){let w=p.indexOf(m,E);if(w===-1)throw new Error(A);return w+m.length-1}function Qf(p,m,E,A=">"){let w=function(B,oe,me=">"){let ie,Ue="";for(let rr=oe;rr<B.length;rr++){let qr=B[rr];if(ie)qr===ie&&(ie="");else if(qr==='"'||qr==="'")ie=qr;else if(qr===me[0]){if(!me[1])return{data:Ue,index:rr};if(B[rr+1]===me[1])return{data:Ue,index:rr}}else qr==="	"&&(qr=" ");Ue+=qr}}(p,m+1,A);if(!w)return;let T=w.data,O=w.index,I=T.search(/\s/),M=T,k=!0;I!==-1&&(M=T.substring(0,I),T=T.substring(I+1).trimStart());let V=M;if(E){let B=M.indexOf(":");B!==-1&&(M=M.substr(B+1),k=M!==w.data.substr(B+1))}return{tagName:M,tagExp:T,closeIndex:O,attrExpPresent:k,rawTagName:V}}function h$(p,m,E){let A=E,w=1;for(;E<p.length;E++)if(p[E]==="<")if(p[E+1]==="/"){let T=ks(p,">",E,`${m} is not closed`);if(p.substring(E+2,T).trim()===m&&(w--,w===0))return{tagContent:p.substring(A,E),i:T};E=T}else if(p[E+1]==="?")E=ks(p,"?>",E+1,"StopNode is not closed.");else if(p.substr(E+1,3)==="!--")E=ks(p,"-->",E+3,"StopNode is not closed.");else if(p.substr(E+1,2)==="![")E=ks(p,"]]>",E,"StopNode is not closed.")-2;else{let T=Qf(p,E,">");T&&((T&&T.tagName)===m&&T.tagExp[T.tagExp.length-1]!=="/"&&w++,E=T.closeIndex)}}function GS(p,m,E){if(m&&typeof p=="string"){let A=p.trim();return A==="true"||A!=="false"&&function(w,T={}){if(T=Object.assign({},r$,T),!w||typeof w!="string")return w;let O=w.trim();if(T.skipLike!==void 0&&T.skipLike.test(O))return w;if(w==="0")return 0;if(T.hex&&e$.test(O))return function(M){if(parseInt)return parseInt(M,16);if(Number.parseInt)return Number.parseInt(M,16);if(window&&window.parseInt)return window.parseInt(M,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(O);if(O.search(/.+[eE].+/)!==-1)return function(M,k,V){if(!V.eNotation)return M;let B=k.match(s$);if(B){let oe=B[1]||"",me=B[3].indexOf("e")===-1?"E":"e",ie=B[2],Ue=oe?M[ie.length+1]===me:M[ie.length]===me;return ie.length>1&&Ue?M:ie.length!==1||!B[3].startsWith(`.${me}`)&&B[3][0]!==me?V.leadingZeros&&!Ue?(k=(B[1]||"")+B[3],Number(k)):M:Number(k)}return M}(w,O,T);{let M=t$.exec(O);if(M){let k=M[1]||"",V=M[2],B=((I=M[3])&&I.indexOf(".")!==-1&&((I=I.replace(/0+$/,""))==="."?I="0":I[0]==="."?I="0"+I:I[I.length-1]==="."&&(I=I.substring(0,I.length-1))),I),oe=k?w[V.length+1]===".":w[V.length]===".";if(!T.leadingZeros&&(V.length>1||V.length===1&&!oe))return w;{let me=Number(O),ie=String(me);if(me===0||me===-0)return me;if(ie.search(/[eE]/)!==-1)return T.eNotation?me:w;if(O.indexOf(".")!==-1)return ie==="0"||ie===B||ie===`${k}${B}`?me:w;let Ue=V?B:O;return V?Ue===ie||k+Ue===ie?me:w:Ue===ie||Ue===k+ie?me:w}}return w}var I}(p,E)}return p!==void 0?p:""}let Kf=Ae.getMetaDataSymbol();function g$(p,m){return WS(p,m)}function WS(p,m,E){let A,w={};for(let T=0;T<p.length;T++){let O=p[T],I=y$(O),M="";if(M=E===void 0?I:E+"."+I,I===m.textNodeName)A===void 0?A=O[I]:A+=""+O[I];else{if(I===void 0)continue;if(O[I]){let k=WS(O[I],m,M),V=E$(k,m);O[Kf]!==void 0&&(k[Kf]=O[Kf]),O[":@"]?S$(k,O[":@"],M,m):Object.keys(k).length!==1||k[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(k).length===0&&(m.alwaysCreateTextNode?k[m.textNodeName]="":k=""):k=k[m.textNodeName],w[I]!==void 0&&w.hasOwnProperty(I)?(Array.isArray(w[I])||(w[I]=[w[I]]),w[I].push(k)):m.isArray(I,M,V)?w[I]=[k]:w[I]=k}}}return typeof A=="string"?A.length>0&&(w[m.textNodeName]=A):A!==void 0&&(w[m.textNodeName]=A),w}function y$(p){let m=Object.keys(p);for(let E=0;E<m.length;E++){let A=m[E];if(A!==":@")return A}}function S$(p,m,E,A){if(m){let w=Object.keys(m),T=w.length;for(let O=0;O<T;O++){let I=w[O];A.isArray(I,E+"."+I,!0,!0)?p[I]=[m[I]]:p[I]=m[I]}}}function E$(p,m){let{textNodeName:E}=m,A=Object.keys(p).length;return A===0||!(A!==1||!p[E]&&typeof p[E]!="boolean"&&p[E]!==0)}class w${constructor(m){this.externalEntities={},this.options=function(E){return Object.assign({},q,E)}(m)}parse(m,E){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(E){E===!0&&(E={});let T=a(m,E);if(T!==!0)throw Error(`${T.err.msg}:${T.err.line}:${T.err.col}`)}let A=new n$(this.options);A.addExternalEntities(this.externalEntities);let w=A.parseXml(m);return this.options.preserveOrder||w===void 0?w:g$(w,this.options)}addEntity(m,E){if(E.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(E==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=E}static getMetaDataSymbol(){return Ae.getMetaDataSymbol()}}function _$(p,m){let E="";return m.format&&m.indentBy.length>0&&(E=`
`),YS(p,m,"",E)}function YS(p,m,E,A){let w="",T=!1;for(let O=0;O<p.length;O++){let I=p[O],M=b$(I);if(M===void 0)continue;let k="";if(k=E.length===0?M:`${E}.${M}`,M===m.textNodeName){let me=I[M];T$(k,m)||(me=m.tagValueProcessor(M,me),me=JS(me,m)),T&&(w+=A),w+=me,T=!1;continue}if(M===m.cdataPropName){T&&(w+=A),w+=`<![CDATA[${I[M][0][m.textNodeName]}]]>`,T=!1;continue}if(M===m.commentPropName){w+=A+`<!--${I[M][0][m.textNodeName]}-->`,T=!0;continue}if(M[0]==="?"){let me=XS(I[":@"],m),ie=M==="?xml"?"":A,Ue=I[M][0][m.textNodeName];Ue=Ue.length!==0?" "+Ue:"",w+=ie+`<${M}${Ue}${me}?>`,T=!0;continue}let V=A;V!==""&&(V+=m.indentBy);let B=A+`<${M}${XS(I[":@"],m)}`,oe=YS(I[M],m,k,V);m.unpairedTags.indexOf(M)!==-1?m.suppressUnpairedNode?w+=B+">":w+=B+"/>":oe&&oe.length!==0||!m.suppressEmptyNode?oe&&oe.endsWith(">")?w+=B+`>${oe}${A}</${M}>`:(w+=B+">",oe&&A!==""&&(oe.includes("/>")||oe.includes("</"))?w+=A+m.indentBy+oe+A:w+=oe,w+=`</${M}>`):w+=B+"/>",T=!0}return w}function b$(p){let m=Object.keys(p);for(let E=0;E<m.length;E++){let A=m[E];if(p.hasOwnProperty(A)&&A!==":@")return A}}function XS(p,m){let E="";if(p&&!m.ignoreAttributes)for(let A in p){if(!p.hasOwnProperty(A))continue;let w=m.attributeValueProcessor(A,p[A]);w=JS(w,m),w===!0&&m.suppressBooleanAttributes?E+=` ${A.substr(m.attributeNamePrefix.length)}`:E+=` ${A.substr(m.attributeNamePrefix.length)}="${w}"`}return E}function T$(p,m){let E=(p=p.substr(0,p.length-m.textNodeName.length-1)).substr(p.lastIndexOf(".")+1);for(let A in m.stopNodes)if(m.stopNodes[A]===p||m.stopNodes[A]==="*."+E)return!0;return!1}function JS(p,m){if(p&&p.length>0&&m.processEntities)for(let E=0;E<m.entities.length;E++){let A=m.entities[E];p=p.replace(A.regex,A.val)}return p}let A$={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(p,m){return m},attributeValueProcessor:function(p,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Br(p){this.options=Object.assign({},A$,p),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=KS(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=C$),this.processTextOrObjNode=x$,this.options.format?(this.indentate=R$,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function x$(p,m,E,A){let w=this.j2x(p,E+1,A.concat(m));return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextValNode(p[this.options.textNodeName],m,w.attrStr,E):this.buildObjectNode(w.val,m,w.attrStr,E)}function R$(p){return this.options.indentBy.repeat(p)}function C$(p){return!(!p.startsWith(this.options.attributeNamePrefix)||p===this.options.textNodeName)&&p.substr(this.attrPrefixLen)}Br.prototype.build=function(p){return this.options.preserveOrder?_$(p,this.options):(Array.isArray(p)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(p={[this.options.arrayNodeName]:p}),this.j2x(p,0,[]).val)},Br.prototype.j2x=function(p,m,E){let A="",w="",T=E.join(".");for(let O in p)if(Object.prototype.hasOwnProperty.call(p,O))if(p[O]===void 0)this.isAttribute(O)&&(w+="");else if(p[O]===null)this.isAttribute(O)||O===this.options.cdataPropName?w+="":O[0]==="?"?w+=this.indentate(m)+"<"+O+"?"+this.tagEndChar:w+=this.indentate(m)+"<"+O+"/"+this.tagEndChar;else if(p[O]instanceof Date)w+=this.buildTextValNode(p[O],O,"",m);else if(typeof p[O]!="object"){let I=this.isAttribute(O);if(I&&!this.ignoreAttributesFn(I,T))A+=this.buildAttrPairStr(I,""+p[O]);else if(!I)if(O===this.options.textNodeName){let M=this.options.tagValueProcessor(O,""+p[O]);w+=this.replaceEntitiesValue(M)}else w+=this.buildTextValNode(p[O],O,"",m)}else if(Array.isArray(p[O])){let I=p[O].length,M="",k="";for(let V=0;V<I;V++){let B=p[O][V];if(B!==void 0)if(B===null)O[0]==="?"?w+=this.indentate(m)+"<"+O+"?"+this.tagEndChar:w+=this.indentate(m)+"<"+O+"/"+this.tagEndChar;else if(typeof B=="object")if(this.options.oneListGroup){let oe=this.j2x(B,m+1,E.concat(O));M+=oe.val,this.options.attributesGroupName&&B.hasOwnProperty(this.options.attributesGroupName)&&(k+=oe.attrStr)}else M+=this.processTextOrObjNode(B,O,m,E);else if(this.options.oneListGroup){let oe=this.options.tagValueProcessor(O,B);oe=this.replaceEntitiesValue(oe),M+=oe}else M+=this.buildTextValNode(B,O,"",m)}this.options.oneListGroup&&(M=this.buildObjectNode(M,O,k,m)),w+=M}else if(this.options.attributesGroupName&&O===this.options.attributesGroupName){let I=Object.keys(p[O]),M=I.length;for(let k=0;k<M;k++)A+=this.buildAttrPairStr(I[k],""+p[O][I[k]])}else w+=this.processTextOrObjNode(p[O],O,m,E);return{attrStr:A,val:w}},Br.prototype.buildAttrPairStr=function(p,m){return m=this.options.attributeValueProcessor(p,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+p:" "+p+'="'+m+'"'},Br.prototype.buildObjectNode=function(p,m,E,A){if(p==="")return m[0]==="?"?this.indentate(A)+"<"+m+E+"?"+this.tagEndChar:this.indentate(A)+"<"+m+E+this.closeTag(m)+this.tagEndChar;{let w="</"+m+this.tagEndChar,T="";return m[0]==="?"&&(T="?",w=""),!E&&E!==""||p.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&T.length===0?this.indentate(A)+`<!--${p}-->`+this.newLine:this.indentate(A)+"<"+m+E+T+this.tagEndChar+p+this.indentate(A)+w:this.indentate(A)+"<"+m+E+T+">"+p+w}},Br.prototype.closeTag=function(p){let m="";return this.options.unpairedTags.indexOf(p)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${p}`,m},Br.prototype.buildTextValNode=function(p,m,E,A){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(A)+`<![CDATA[${p}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(A)+`<!--${p}-->`+this.newLine;if(m[0]==="?")return this.indentate(A)+"<"+m+E+"?"+this.tagEndChar;{let w=this.options.tagValueProcessor(m,p);return w=this.replaceEntitiesValue(w),w===""?this.indentate(A)+"<"+m+E+this.closeTag(m)+this.tagEndChar:this.indentate(A)+"<"+m+E+">"+w+"</"+m+this.tagEndChar}},Br.prototype.replaceEntitiesValue=function(p){if(p&&p.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let E=this.options.entities[m];p=p.replace(E.regex,E.val)}return p};let v$={validate:a};JA.exports=t})()});var ZA=v(jh=>{"use strict";c();Object.defineProperty(jh,"__esModule",{value:!0});jh.parseXML=qq;var Bq=Bh(),qh=new Bq.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});qh.addEntity("#xD","\r");qh.addEntity("#10",`
`);function qq(e){return qh.parse(e,!0)}});var tu=v(eu=>{"use strict";c();var jq=ZA();function Hq(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function zq(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Zc=class{value;constructor(t){this.value=t}toString(){return zq(""+this.value)}},Hh=class e{name;children;attributes={};static of(t,r,s){let n=new e(t);return r!==void 0&&n.addChildNode(new Zc(r)),s!==void 0&&n.withName(s),n}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,s=r){if(t[r]!=null){let n=e.of(r,t[r]).withName(s);this.c(n)}}l(t,r,s,n){t[r]!=null&&n().map(i=>{i.withName(s),this.c(i)})}lc(t,r,s,n){if(t[r]!=null){let o=n(),i=new e(s);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,s=this.attributes;for(let n of Object.keys(s)){let o=s[n];o!=null&&(r+=` ${n}="${Hq(""+o)}"`)}return r+=t?`>${this.children.map(n=>n.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(eu,"parseXML",{enumerable:!0,get:function(){return jq.parseXML}});eu.XmlNode=Hh;eu.XmlText=Zc});var ex,tx,rx,ns,ru=S(()=>{c();ex=_(tu());Ie();K();tx=_(H()),rx=_(Te());ts();kh();ns=class extends Ze{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new br(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,s){let n=D.of(t),o=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},f=Object.keys(o)[0];return o[f].isBlobSchema()?l[f]=r:l[f]=this.read(o[f],r),l}let a=(this.serdeContext?.utf8Encoder??rx.toUtf8)(r),u=this.parseXml(a);return this.readSchema(t,s?u[s]:u)}readSchema(t,r){let s=D.of(t);if(s.isUnitSchema())return;let n=s.getMergedTraits();if(s.isListSchema()&&!Array.isArray(r))return this.readSchema(s,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!n.sparse,i=!!n.xmlFlattened;if(s.isListSchema()){let u=s.getValueSchema(),l=[],f=u.getMergedTraits().xmlName??"member",d=i?r:(r[0]??r)[f],g=Array.isArray(d)?d:[d];for(let h of g)(h!=null||o)&&l.push(this.readSchema(u,h));return l}let a={};if(s.isMapSchema()){let u=s.getKeySchema(),l=s.getValueSchema(),f;i?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let d=u.getMergedTraits().xmlName??"key",g=l.getMergedTraits().xmlName??"value";for(let h of f){let y=h[d],b=h[g];(b!=null||o)&&(a[y]=this.readSchema(l,b))}return a}if(s.isStructSchema()){let u=s.isUnionSchema(),l;u&&(l=new Dn(r,a));for(let[f,d]of s.structIterator()){let g=d.getMergedTraits(),h=g.httpPayload?g.xmlName??d.getName():d.getMemberTraits().xmlName??f;u&&l.mark(h),r[h]!=null&&(a[f]=this.readSchema(d,r[h]))}return u&&l.writeUnknown(),a}if(s.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${s.getName(!0)}`)}return s.isListSchema()?[]:s.isMapSchema()||s.isStructSchema()?{}:this.stringDeserializer.read(s,r)}parseXml(t){if(t.length){let r;try{r=(0,ex.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let s="#text",n=Object.keys(r)[0],o=r[n];return o[s]&&(o[n]=o[s],delete o[s]),(0,tx.getValueFromTextNode)(o)}return{}}}});var sx,nx,su,ox=S(()=>{c();Ie();K();ke();sx=_(H()),nx=_(Nn());ts();ci();su=class extends Ze{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,s=""){this.buffer===void 0&&(this.buffer="");let n=D.of(t);if(s&&!s.endsWith(".")&&(s+="."),n.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(s),this.writeValue((this.serdeContext?.base64Encoder??nx.toBase64)(r)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())r!=null?(this.writeKey(s),this.writeValue(String(r))):n.isIdempotencyToken()&&(this.writeKey(s),this.writeValue((0,je.v4)()));else if(n.isBigIntegerSchema())r!=null&&(this.writeKey(s),this.writeValue(String(r)));else if(n.isBigDecimalSchema())r!=null&&(this.writeKey(s),this.writeValue(r instanceof G?r.string:String(r)));else if(n.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(s),$e(n,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,sx.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(n.isDocumentSchema())Array.isArray(r)?this.write(79,r,s):r instanceof Date?this.write(4,r,s):r instanceof Uint8Array?this.write(21,r,s):r&&typeof r=="object"?this.write(143,r,s):(this.writeKey(s),this.writeValue(String(r)));else if(n.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(s),this.writeValue(""));else{let o=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened,a=1;for(let u of r){if(u==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),f=i?`${s}${a}`:`${s}${l}.${a}`;this.write(o,u,f),++a}}}else if(n.isMapSchema()){if(r&&typeof r=="object"){let o=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened,u=1;for(let[l,f]of Object.entries(r)){if(f==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),g=a?`${s}${u}.${d}`:`${s}entry.${u}.${d}`,h=this.getKey("value",i.getMergedTraits().xmlName),y=a?`${s}${u}.${h}`:`${s}entry.${u}.${h}`;this.write(o,l,g),this.write(i,f,y),++u}}}else if(n.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[i,a]of Mn(n,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let u=this.getKey(i,a.getMergedTraits().xmlName),l=`${s}${u}`;this.write(a,r[i],l),o=!0}if(!o&&n.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,u]=i,l=`${s}${a}`;this.write(15,u,l)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let s=r??t;return this.settings.capitalizeKeys?s[0].toUpperCase()+s.slice(1):s}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Tt(t)}=`}writeValue(t){this.buffer+=Tt(t)}}});var Un,zh=S(()=>{c();Ie();K();On();ru();ox();Un=class extends At{options;serializer;deserializer;mixin=new It;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new su(r),this.deserializer=new ns(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(lt(t.input)==="unit"||!n.body)&&(n.body="");let o=t.name.split("#")[1]??t.name;return n.body=`Action=${o}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(t,r,s){let n=this.deserializer,o=D.of(t.output),i={};if(s.statusCode>=300){let d=await ut(s.body,r);d.byteLength>0&&Object.assign(i,await n.read(15,d)),await this.handleError(t,r,s,i,this.deserializeMetadata(s))}for(let d in s.headers){let g=s.headers[d];delete s.headers[d],s.headers[d.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,u=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await ut(s.body,r);return l.byteLength>0&&Object.assign(i,await n.read(o,l,u)),{$metadata:this.deserializeMetadata(s),...i}}useNestedResult(){return!0}async handleError(t,r,s,n,o){let i=this.loadQueryErrorCode(s,n)??"Unknown",a=this.loadQueryError(n),u=this.loadQueryErrorMessage(n);a.message=u,a.Error={Type:a.Type,Code:a.Code,Message:u};let{errorSchema:l,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,a,o,this.mixin.findQueryCompatibleError),d=D.of(l),g=U.for(l[1]).getErrorCtor(l)??Error,h=new g(u),y={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[b,R]of d.structIterator()){let P=R.getMergedTraits().xmlName??b,N=a[P]??n[P];y[b]=this.deserializer.readSchema(R,N)}throw this.mixin.decorateServiceException(Object.assign(h,f,{$fault:d.getMergedTraits().error,message:u},y),n)}loadQueryErrorCode(t,r){let s=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(s!==void 0)return s;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var nu,ix=S(()=>{c();zh();nu=class extends Un{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var ax,cx,Vh,ux,ou,Qh=S(()=>{c();ax=_(tu()),cx=_(H());$h();Vh=(e,t)=>Qc(e,t).then(r=>{if(r.length){let s;try{s=(0,ax.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let n="#text",o=Object.keys(s)[0],i=s[o];return i[n]&&(i[o]=i[n],delete i[n]),(0,cx.getValueFromTextNode)(i)}return{}}),ux=async(e,t)=>{let r=await Vh(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ou=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var mt,Kh,iu,Fn,Gh=S(()=>{c();mt=_(tu());Ie();K();ke();Kh=_(H()),iu=_(Nn());ts();ci();Fn=class extends Ze{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let s=D.of(t);if(s.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(s.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??iu.fromBase64)(r);else{this.buffer=this.writeStruct(s,r,void 0);let n=s.getMergedTraits();n.httpPayload&&!n.xmlName&&this.buffer.withName(s.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,s){let n=t.getMergedTraits(),o=t.isMemberSchema()&&!n.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():n.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=mt.XmlNode.of(o),[a,u]=this.getXmlnsAttribute(t,s);for(let[f,d]of Mn(t,r)){let g=r[f];if(g!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??f,this.writeSimple(d,g));continue}if(d.isListSchema())this.writeList(d,g,i,u);else if(d.isMapSchema())this.writeMap(d,g,i,u);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,g,u));else{let h=mt.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,g,h,u),i.addChildNode(h)}}}let{$unknown:l}=r;if(l&&t.isUnionSchema()&&Array.isArray(l)&&Object.keys(r).length===1){let[f,d]=l,g=mt.XmlNode.of(f);if(typeof d!="string")if(r instanceof mt.XmlNode||r instanceof mt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,d,g,u),i.addChildNode(g)}return u&&i.addAttribute(a,u),i}writeList(t,r,s,n){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),u=!!a.sparse,l=!!o.xmlFlattened,[f,d]=this.getXmlnsAttribute(t,n),g=(h,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],h,d);else if(i.isMapSchema())this.writeMap(i,y,h,d);else if(i.isStructSchema()){let b=this.writeStruct(i,y,d);h.addChildNode(b.withName(l?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let b=mt.XmlNode.of(l?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,y,b,d),h.addChildNode(b)}};if(l)for(let h of r)(u||h!=null)&&g(s,h);else{let h=mt.XmlNode.of(o.xmlName??t.getMemberName());d&&h.addAttribute(f,d);for(let y of r)(u||y!=null)&&g(h,y);s.addChildNode(h)}}writeMap(t,r,s,n,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",f=t.getValueSchema(),d=f.getMergedTraits(),g=d.xmlName??"value",h=!!d.sparse,y=!!i.xmlFlattened,[b,R]=this.getXmlnsAttribute(t,n),P=(N,$,L)=>{let q=mt.XmlNode.of(l,$),[ee,Ae]=this.getXmlnsAttribute(a,R);Ae&&q.addAttribute(ee,Ae),N.addChildNode(q);let Q=mt.XmlNode.of(g);f.isListSchema()?this.writeList(f,L,Q,R):f.isMapSchema()?this.writeMap(f,L,Q,R,!0):f.isStructSchema()?Q=this.writeStruct(f,L,R):this.writeSimpleInto(f,L,Q,R),N.addChildNode(Q)};if(y){for(let[N,$]of Object.entries(r))if(h||$!=null){let L=mt.XmlNode.of(i.xmlName??t.getMemberName());P(L,N,$),s.addChildNode(L)}}else{let N;o||(N=mt.XmlNode.of(i.xmlName??t.getMemberName()),R&&N.addAttribute(b,R),s.addChildNode(N));for(let[$,L]of Object.entries(r))if(h||L!=null){let q=mt.XmlNode.of("entry");P(q,$,L),(o?s:N).addChildNode(q)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let s=D.of(t),n=null;if(r&&typeof r=="object")if(s.isBlobSchema())n=(this.serdeContext?.base64Encoder??iu.toBase64)(r);else if(s.isTimestampSchema()&&r instanceof Date)switch($e(s,this.settings)){case 5:n=r.toISOString().replace(".000Z","Z");break;case 6:n=(0,Kh.dateToUtcString)(r);break;case 7:n=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),n=(0,Kh.dateToUtcString)(r);break}else{if(s.isBigDecimalSchema()&&r)return r instanceof G?r.string:String(r);throw s.isMapSchema()||s.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${s.getName(!0)}`)}if((s.isBooleanSchema()||s.isNumericSchema()||s.isBigIntegerSchema()||s.isBigDecimalSchema())&&(n=String(r)),s.isStringSchema()&&(r===void 0&&s.isIdempotencyToken()?n=(0,je.v4)():n=String(r)),n===null)throw new Error(`Unhandled schema-value pair ${s.getName(!0)}=${r}`);return n}writeSimpleInto(t,r,s,n){let o=this.writeSimple(t,r),i=D.of(t),a=new mt.XmlText(o),[u,l]=this.getXmlnsAttribute(i,n);l&&s.addAttribute(u,l),s.addChildNode(a)}getXmlnsAttribute(t,r){let s=t.getMergedTraits(),[n,o]=s.xmlNamespace??[];return o&&o!==r?[n?`xmlns:${n}`:"xmlns",o]:[void 0,void 0]}}});var Bn,Wh=S(()=>{c();ts();ru();Gh();Bn=class extends Ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Fn(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ns(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var au,lx=S(()=>{c();Ie();K();On();Qh();Wh();au=class extends Ht{codec;serializer;deserializer;mixin=new It;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Bn(r),this.serializer=new Vt(this.codec.createSerializer(),r),this.deserializer=new zt(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s),o=D.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(n.headers["content-type"]=i)}return typeof n.body=="string"&&n.headers["content-type"]===this.getDefaultContentType()&&!n.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(o)&&(n.body='<?xml version="1.0" encoding="UTF-8"?>'+n.body),n}async deserializeResponse(t,r,s){return super.deserializeResponse(t,r,s)}async handleError(t,r,s,n,o){let i=ou(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o),l=D.of(a),f=n.Error?.message??n.Error?.Message??n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f);await this.deserializeHttpMessage(a,r,s,n);let h={};for(let[y,b]of l.structIterator()){let R=b.getMergedTraits().xmlName??y,P=n.Error?.[R]??n[R];h[y]=this.codec.createDeserializer().readSchema(b,P)}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var dx={};Ye(dx,{AwsEc2QueryProtocol:()=>nu,AwsJson1_0Protocol:()=>Yc,AwsJson1_1Protocol:()=>Xc,AwsJsonRpcProtocol:()=>ss,AwsQueryProtocol:()=>Un,AwsRestJsonProtocol:()=>Jc,AwsRestXmlProtocol:()=>au,AwsSmithyRpcV2CborProtocol:()=>Hc,JsonCodec:()=>rs,JsonShapeDeserializer:()=>$n,JsonShapeSerializer:()=>Ln,XmlCodec:()=>Bn,XmlShapeDeserializer:()=>ns,XmlShapeSerializer:()=>Fn,_toBool:()=>PA,_toNum:()=>OA,_toStr:()=>IA,awsExpectUnion:()=>YA,loadRestJsonErrorCode:()=>kn,loadRestXmlErrorCode:()=>ou,parseJsonBody:()=>ui,parseJsonErrorBody:()=>jA,parseXmlBody:()=>Vh,parseXmlErrorBody:()=>ux});var Yh=S(()=>{c();vA();NA();QA();KA();Wc();GA();Gc();Lh();Fh();XA();li();ix();zh();lx();Wh();ru();Gh();Qh()});var di={};Ye(di,{AWSSDKSigV4Signer:()=>NT,AwsEc2QueryProtocol:()=>nu,AwsJson1_0Protocol:()=>Yc,AwsJson1_1Protocol:()=>Xc,AwsJsonRpcProtocol:()=>ss,AwsQueryProtocol:()=>Un,AwsRestJsonProtocol:()=>Jc,AwsRestXmlProtocol:()=>au,AwsSdkSigV4ASigner:()=>Cc,AwsSdkSigV4Signer:()=>Ks,AwsSmithyRpcV2CborProtocol:()=>Hc,JsonCodec:()=>rs,JsonShapeDeserializer:()=>$n,JsonShapeSerializer:()=>Ln,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ZB,NODE_SIGV4A_CONFIG_OPTIONS:()=>nq,XmlCodec:()=>Bn,XmlShapeDeserializer:()=>ns,XmlShapeSerializer:()=>Fn,_toBool:()=>PA,_toNum:()=>OA,_toStr:()=>IA,awsExpectUnion:()=>YA,emitWarningIfUnsupportedVersion:()=>YB,getBearerTokenEnvKey:()=>Zm,loadRestJsonErrorCode:()=>kn,loadRestXmlErrorCode:()=>ou,parseJsonBody:()=>ui,parseJsonErrorBody:()=>jA,parseXmlBody:()=>Vh,parseXmlErrorBody:()=>ux,resolveAWSSDKSigV4Config:()=>yq,resolveAwsSdkSigV4AConfig:()=>sq,resolveAwsSdkSigV4Config:()=>dA,setCredentialFeature:()=>Vm,setFeature:()=>XB,setTokenFeature:()=>JB,state:()=>zm,validateSigningProperties:()=>ri});var fi=S(()=>{c();Qm();mA();Yh()});var Zh=v(qn=>{"use strict";c();var Vq=(He(),J(Vs)),Qq=Wr(),Kq=re(),ir=(fi(),J(di)),hx=void 0;function Gq(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function Wq(e){let t=Vq.normalizeProvider(e.userAgentAppId??hx),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let s=await t();if(!Gq(s)){let n=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof s!="string"?n?.warn("userAgentAppId must be a string or undefined."):s.length>50&&n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return s}})}var Yq=/\d{12}\.ddb/;async function Xq(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&ir.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?ir.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):ir.setFeature(e,"RETRY_MODE_STANDARD","E"):ir.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(Yq)&&ir.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":ir.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":ir.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":ir.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let n=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source){let o=n;o.accountId&&ir.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))ir.setFeature(e,i,a)}}var fx="user-agent",Xh="x-amz-user-agent",px=" ",Jh="/",Jq=/[^!$%&'*+\-.^_`|~\w]/g,Zq=/[^!$%&'*+\-.^_`|~\w#]/g,mx="-",ej=1024;function tj(e){let t="";for(let r in e){let s=e[r];if(t.length+s.length+1<=ej){t.length?t+=","+s:t+=s;continue}break}return t}var gx=e=>(t,r)=>async s=>{let{request:n}=s;if(!Kq.HttpRequest.isInstance(n))return t(s);let{headers:o}=n,i=r?.userAgent?.map(cu)||[],a=(await e.defaultUserAgentProvider()).map(cu);await Xq(r,e,s);let u=r;a.push(`m/${tj(Object.assign({},r.__smithy_context?.features,u.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(cu)||[],f=await e.userAgentAppId();f&&a.push(cu(["app",`${f}`]));let d=Qq.getUserAgentPrefix(),g=(d?[d]:[]).concat([...a,...i,...l]).join(px),h=[...a.filter(y=>y.startsWith("aws-sdk-")),...l].join(px);return e.runtime!=="browser"?(h&&(o[Xh]=o[Xh]?`${o[fx]} ${h}`:h),o[fx]=g):o[Xh]=g,t({...s,request:n})},cu=e=>{let t=e[0].split(Jh).map(i=>i.replace(Jq,mx)).join(Jh),r=e[1]?.replace(Zq,mx),s=t.indexOf(Jh),n=t.substring(0,s),o=t.substring(s+1);return n==="api"&&(o=o.toLowerCase()),[n,o,r].filter(i=>i&&i.length>0).reduce((i,a,u)=>{switch(u){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},yx={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},rj=e=>({applyToStack:t=>{t.add(gx(e),yx)}});qn.DEFAULT_UA_APP_ID=hx;qn.getUserAgentMiddlewareOptions=yx;qn.getUserAgentPlugin=rj;qn.resolveUserAgentConfig=Wq;qn.userAgentMiddleware=gx});var Sx=v(jn=>{"use strict";c();var sj=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},nj=(e,t,r)=>{if(!(t in e))return;let s=parseInt(e[t],10);if(Number.isNaN(s))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return s};jn.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(jn.SelectorType||(jn.SelectorType={}));jn.booleanSelector=sj;jn.numberSelector=nj});var et=v(Ke=>{"use strict";c();var os=Sx(),uu=dt(),oj=Gr(),_x="AWS_USE_DUALSTACK_ENDPOINT",bx="use_dualstack_endpoint",ij=!1,aj={environmentVariableSelector:e=>os.booleanSelector(e,_x,os.SelectorType.ENV),configFileSelector:e=>os.booleanSelector(e,bx,os.SelectorType.CONFIG),default:!1},Tx="AWS_USE_FIPS_ENDPOINT",Ax="use_fips_endpoint",cj=!1,uj={environmentVariableSelector:e=>os.booleanSelector(e,Tx,os.SelectorType.ENV),configFileSelector:e=>os.booleanSelector(e,Ax,os.SelectorType.CONFIG),default:!1},lj=e=>{let{tls:t,endpoint:r,urlParser:s,useDualstackEndpoint:n}=e;return Object.assign(e,{tls:t??!0,endpoint:uu.normalizeProvider(typeof r=="string"?s(r):r),isCustomEndpoint:!0,useDualstackEndpoint:uu.normalizeProvider(n??!1)})},dj=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let n=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:n,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},fj=e=>{let t=uu.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:s,urlParser:n,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?uu.normalizeProvider(typeof r=="string"?n(r):r):()=>dj({...e,useDualstackEndpoint:t,useFipsEndpoint:s}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},xx="AWS_REGION",Rx="region",pj={environmentVariableSelector:e=>e[xx],configFileSelector:e=>e[Rx],default:()=>{throw new Error("Region is missing")}},mj={preferredFile:"credentials"},Ex=new Set,hj=(e,t=oj.isValidHostLabel)=>{if(!Ex.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else Ex.add(e)},Cx=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),gj=e=>Cx(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,yj=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let s=typeof t=="function"?await t():t,n=gj(s);return hj(n),n},useFipsEndpoint:async()=>{let s=typeof t=="string"?t:await t();return Cx(s)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},wx=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack"))?.hostname,Sj=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),Ej=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",wj=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:s})=>{if(t)return t;if(s){let n=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(n);if(o)return o[0].slice(1,-1)}},_j=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:s,regionHash:n,partitionHash:o})=>{let i=Ej(e,{partitionHash:o}),a=e in n?e:o[i]?.endpoint??e,u={useFipsEndpoint:t,useDualstackEndpoint:r},l=wx(n[a]?.variants,u),f=wx(o[i]?.variants,u),d=Sj(a,{regionHostname:l,partitionHostname:f});if(d===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let g=wj(d,{signingRegion:n[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:s,hostname:d,...g&&{signingRegion:g},...n[a]?.signingService&&{signingService:n[a].signingService}}};Ke.CONFIG_USE_DUALSTACK_ENDPOINT=bx;Ke.CONFIG_USE_FIPS_ENDPOINT=Ax;Ke.DEFAULT_USE_DUALSTACK_ENDPOINT=ij;Ke.DEFAULT_USE_FIPS_ENDPOINT=cj;Ke.ENV_USE_DUALSTACK_ENDPOINT=_x;Ke.ENV_USE_FIPS_ENDPOINT=Tx;Ke.NODE_REGION_CONFIG_FILE_OPTIONS=mj;Ke.NODE_REGION_CONFIG_OPTIONS=pj;Ke.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=aj;Ke.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=uj;Ke.REGION_ENV_NAME=xx;Ke.REGION_INI_NAME=Rx;Ke.getRegionInfo=_j;Ke.resolveCustomEndpointsConfig=lj;Ke.resolveEndpointsConfig=fj;Ke.resolveRegionConfig=yj});var Hn=v(lu=>{"use strict";c();var bj=re(),vx="content-length";function Ix(e){return t=>async r=>{let s=r.request;if(bj.HttpRequest.isInstance(s)){let{body:n,headers:o}=s;if(n&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(vx)===-1)try{let i=e(n);s.headers={...s.headers,[vx]:String(i)}}catch{}}return t({...r,request:s})}}var Px={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Tj=e=>({applyToStack:t=>{t.add(Ix(e.bodyLengthChecker),Px)}});lu.contentLengthMiddleware=Ix;lu.contentLengthMiddlewareOptions=Px;lu.getContentLengthPlugin=Tj});var tg=v(du=>{"use strict";c();Object.defineProperty(du,"__esModule",{value:!0});du.getHomeDir=void 0;var Aj=Y("os"),xj=Y("path"),eg={},Rj=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Cj=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:s=`C:${xj.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${s}${r}`;let n=Rj();return eg[n]||(eg[n]=(0,Aj.homedir)()),eg[n]};du.getHomeDir=Cj});var rg=v(fu=>{"use strict";c();Object.defineProperty(fu,"__esModule",{value:!0});fu.getSSOTokenFilepath=void 0;var vj=Y("crypto"),Ij=Y("path"),Pj=tg(),Oj=e=>{let r=(0,vj.createHash)("sha1").update(e).digest("hex");return(0,Ij.join)((0,Pj.getHomeDir)(),".aws","sso","cache",`${r}.json`)};fu.getSSOTokenFilepath=Oj});var Ox=v(is=>{"use strict";c();Object.defineProperty(is,"__esModule",{value:!0});is.getSSOTokenFromFile=is.tokenIntercept=void 0;var Nj=Y("fs/promises"),Mj=rg();is.tokenIntercept={};var Dj=async e=>{if(is.tokenIntercept[e])return is.tokenIntercept[e];let t=(0,Mj.getSSOTokenFilepath)(e),r=await(0,Nj.readFile)(t,"utf8");return JSON.parse(r)};is.getSSOTokenFromFile=Dj});var Nx=v(xt=>{"use strict";c();Object.defineProperty(xt,"__esModule",{value:!0});xt.readFile=xt.fileIntercept=xt.filePromises=void 0;var kj=Y("node:fs/promises");xt.filePromises={};xt.fileIntercept={};var $j=(e,t)=>xt.fileIntercept[e]!==void 0?xt.fileIntercept[e]:((!xt.filePromises[e]||t?.ignoreCache)&&(xt.filePromises[e]=(0,kj.readFile)(e,"utf8")),xt.filePromises[e]);xt.readFile=$j});var ar=v(ht=>{"use strict";c();var pi=tg(),Mx=rg(),sg=Ox(),pu=Y("path"),mu=jr(),zn=Nx(),kx="AWS_PROFILE",$x="default",Lj=e=>e.profile||process.env[kx]||$x,Ys=".",Uj=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ys);return r===-1?!1:Object.values(mu.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,s])=>{let n=r.indexOf(Ys),o=r.substring(0,n)===mu.IniSectionType.PROFILE?r.substring(n+1):r;return t[o]=s,t},{...e.default&&{default:e.default}}),Fj="AWS_CONFIG_FILE",Lx=()=>process.env[Fj]||pu.join(pi.getHomeDir(),".aws","config"),Bj="AWS_SHARED_CREDENTIALS_FILE",qj=()=>process.env[Bj]||pu.join(pi.getHomeDir(),".aws","credentials"),jj=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Hj=["__proto__","profile __proto__"],ng=e=>{let t={},r,s;for(let n of e.split(/\r?\n/)){let o=n.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,s=void 0;let a=o.substring(1,o.length-1),u=jj.exec(a);if(u){let[,l,,f]=u;Object.values(mu.IniSectionType).includes(l)&&(r=[l,f].join(Ys))}else r=a;if(Hj.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[u,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")s=u;else{s&&n.trimStart()===n&&(s=void 0),t[r]=t[r]||{};let f=s?[s,u].join(Ys):u;t[r][f]=l}}}}return t},Dx=()=>({}),Ux=async(e={})=>{let{filepath:t=qj(),configFilepath:r=Lx()}=e,s=pi.getHomeDir(),n="~/",o=t;t.startsWith(n)&&(o=pu.join(s,t.slice(2)));let i=r;r.startsWith(n)&&(i=pu.join(s,r.slice(2)));let a=await Promise.all([zn.readFile(i,{ignoreCache:e.ignoreCache}).then(ng).then(Uj).catch(Dx),zn.readFile(o,{ignoreCache:e.ignoreCache}).then(ng).catch(Dx)]);return{configFile:a[0],credentialsFile:a[1]}},zj=e=>Object.entries(e).filter(([t])=>t.startsWith(mu.IniSectionType.SSO_SESSION+Ys)).reduce((t,[r,s])=>({...t,[r.substring(r.indexOf(Ys)+1)]:s}),{}),Vj=()=>({}),Qj=async(e={})=>zn.readFile(e.configFilepath??Lx()).then(ng).then(zj).catch(Vj),Kj=(...e)=>{let t={};for(let r of e)for(let[s,n]of Object.entries(r))t[s]!==void 0?Object.assign(t[s],n):t[s]=n;return t},Gj=async e=>{let t=await Ux(e);return Kj(t.configFile,t.credentialsFile)},Wj={getFileRecord(){return zn.fileIntercept},interceptFile(e,t){zn.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return sg.tokenIntercept},interceptToken(e,t){sg.tokenIntercept[e]=t}};Object.defineProperty(ht,"getSSOTokenFromFile",{enumerable:!0,get:function(){return sg.getSSOTokenFromFile}});Object.defineProperty(ht,"readFile",{enumerable:!0,get:function(){return zn.readFile}});ht.CONFIG_PREFIX_SEPARATOR=Ys;ht.DEFAULT_PROFILE=$x;ht.ENV_PROFILE=kx;ht.externalDataInterceptor=Wj;ht.getProfileName=Lj;ht.loadSharedConfigFiles=Ux;ht.loadSsoSessionData=Qj;ht.parseKnownFiles=Gj;Object.keys(pi).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ht,e)&&Object.defineProperty(ht,e,{enumerable:!0,get:function(){return pi[e]}})});Object.keys(Mx).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ht,e)&&Object.defineProperty(ht,e,{enumerable:!0,get:function(){return Mx[e]}})})});var Gt=v(qx=>{"use strict";c();var mi=Qe(),Fx=ar();function Bx(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var Yj=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new mi.CredentialsProviderError(r.message||`Not found in ENV: ${Bx(e.toString())}`,{logger:t?.logger})}},Xj=(e,{preferredFile:t="config",...r}={})=>async()=>{let s=Fx.getProfileName(r),{configFile:n,credentialsFile:o}=await Fx.loadSharedConfigFiles(r),i=o[s]||{},a=n[s]||{},u=t==="config"?{...i,...a}:{...a,...i};try{let f=e(u,t==="config"?n:o);if(f===void 0)throw new Error;return f}catch(l){throw new mi.CredentialsProviderError(l.message||`Not found in config files w/ profile [${s}]: ${Bx(e.toString())}`,{logger:r.logger})}},Jj=e=>typeof e=="function",Zj=e=>Jj(e)?async()=>await e():mi.fromStatic(e),eH=({environmentVariableSelector:e,configFileSelector:t,default:r},s={})=>{let{signingName:n,logger:o}=s,i={signingName:n,logger:o};return mi.memoize(mi.chain(Yj(e,i),Xj(t,s),Zj(r)))};qx.loadConfig=eH});var Vx=v(hu=>{"use strict";c();Object.defineProperty(hu,"__esModule",{value:!0});hu.getEndpointUrlConfig=void 0;var jx=ar(),Hx="AWS_ENDPOINT_URL",zx="endpoint_url",tH=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),s=t[[Hx,...r].join("_")];if(s)return s;let n=t[Hx];if(n)return n},configFileSelector:(t,r)=>{if(r&&t.services){let n=r[["services",t.services].join(jx.CONFIG_PREFIX_SEPARATOR)];if(n){let o=e.split(" ").map(a=>a.toLowerCase()),i=n[[o.join("_"),zx].join(jx.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let s=t[zx];if(s)return s},default:void 0});hu.getEndpointUrlConfig=tH});var Qx=v(gu=>{"use strict";c();Object.defineProperty(gu,"__esModule",{value:!0});gu.getEndpointFromConfig=void 0;var rH=Gt(),sH=Vx(),nH=async e=>(0,rH.loadConfig)((0,sH.getEndpointUrlConfig)(e??""))();gu.getEndpointFromConfig=nH});var cr=v(Pr=>{"use strict";c();var Gx=Qx(),Kx=Ar(),oH=(He(),J(Vs)),yu=dt(),iH=Nm(),aH=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),fH(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!dH(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},cH=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,uH=/(\d+\.){3}\d+/,lH=/\.\./,dH=e=>cH.test(e)&&!uH.test(e)&&!lH.test(e),fH=e=>{let[t,r,s,,,n]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&s&&n);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},pH=(e,t,r,s=!1)=>{let n=async()=>{let o;return s?o=r.clientContextParams?.[e]??r[e]??r[t]:o=r[e]??r[t],typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:a,port:u,path:l}=o;return`${i}//${a}${u?":"+u:""}${l}`}}return o}:n},og=e=>typeof e=="object"?"url"in e?Kx.parseUrl(e.url):e:Kx.parseUrl(e),Wx=async(e,t,r,s)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await Gx.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(og(i)),r.isCustomEndpoint=!0)}let n=await Yx(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(n,s)},Yx=async(e,t,r)=>{let s={},n=t?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(n))switch(i.type){case"staticContextParams":s[o]=i.value;break;case"contextParams":s[o]=e[i.name];break;case"clientContextParams":case"builtInParams":s[o]=await pH(i.name,o,r,i.type!=="builtInParams")();break;case"operationContextParams":s[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(n).length===0&&Object.assign(s,r),String(r.serviceId).toLowerCase()==="s3"&&await aH(s),s},Xx=({config:e,instructions:t})=>(r,s)=>async n=>{e.isCustomEndpoint&&oH.setFeature(s,"ENDPOINT_OVERRIDE","N");let o=await Wx(n.input,{getEndpointParameterInstructions(){return t}},{...e},s);s.endpointV2=o,s.authSchemes=o.properties?.authSchemes;let i=s.authSchemes?.[0];if(i){s.signing_region=i.signingRegion,s.signing_service=i.signingName;let u=yu.getSmithyContext(s)?.selectedHttpAuthScheme?.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...n})},Jx={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:iH.serializerMiddlewareOption.name},mH=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Xx({config:e,instructions:t}),Jx)}}),hH=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:s,useFipsEndpoint:n}=e,o=r!=null?async()=>og(await yu.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:yu.normalizeProvider(s??!1),useFipsEndpoint:yu.normalizeProvider(n??!1)}),u;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!u&&(u=Gx.getEndpointFromConfig(e.serviceId)),u),a},gH=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Pr.endpointMiddleware=Xx;Pr.endpointMiddlewareOptions=Jx;Pr.getEndpointFromInstructions=Wx;Pr.getEndpointPlugin=mH;Pr.resolveEndpointConfig=hH;Pr.resolveEndpointRequiredConfig=gH;Pr.resolveParams=Yx;Pr.toEndpointV1=og});var ag=v(as=>{"use strict";c();var yH=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],SH=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],EH=["TimeoutError","RequestTimeout","RequestTimeoutException"],wH=[500,502,503,504],_H=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],bH=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Zx=e=>e?.$retryable!==void 0,TH=e=>yH.includes(e.name),e0=e=>e.$metadata?.clockSkewCorrected,t0=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},AH=e=>e.$metadata?.httpStatusCode===429||SH.includes(e.name)||e.$retryable?.throttling==!0,ig=(e,t=0)=>Zx(e)||e0(e)||EH.includes(e.name)||_H.includes(e?.code||"")||bH.includes(e?.code||"")||wH.includes(e.$metadata?.httpStatusCode||0)||t0(e)||e.cause!==void 0&&t<=10&&ig(e.cause,t+1),xH=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!ig(e)}return!1};as.isBrowserNetworkError=t0;as.isClockSkewCorrectedError=e0;as.isClockSkewError=TH;as.isRetryableByTrait=Zx;as.isServerError=xH;as.isThrottlingError=AH;as.isTransientError=ig});var Xs=v(Ne=>{"use strict";c();var RH=ag();Ne.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ne.RETRY_MODES||(Ne.RETRY_MODES={}));var cg=3,CH=Ne.RETRY_MODES.STANDARD,Su=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(s=>e.setTimeoutFn(s,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),RH.isThrottlingError(t)){let n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let s=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(s)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let s=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(s*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},hi=100,fg=20*1e3,s0=500,ug=500,n0=5,o0=10,i0=1,vH="amz-sdk-invocation-id",IH="amz-sdk-request",PH=()=>{let e=hi;return{computeNextBackoffDelay:s=>Math.floor(Math.min(fg,Math.random()*2**s*e)),setDelayBase:s=>{e=s}}},r0=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(fg,e),getRetryCost:()=>r}),gi=class{maxAttempts;mode=Ne.RETRY_MODES.STANDARD;capacity=ug;retryBackoffStrategy=PH();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return r0({retryDelay:hi,retryCount:0})}async refreshRetryTokenForRetry(t,r){let s=await this.getMaxAttempts();if(this.shouldRetry(t,r,s)){let n=r.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?s0:hi);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(n);return this.capacity-=a,r0({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(ug,this.capacity+(t.getRetryCost()??i0))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${cg}`),cg}}shouldRetry(t,r,s){return t.getRetryCount()+1<s&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?o0:n0}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},lg=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ne.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:s}=r??{};this.rateLimiter=s??new Su,this.standardRetryStrategy=new gi(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},dg=class extends gi{computeNextBackoffDelay;constructor(t,r=hi){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let s=await super.refreshRetryTokenForRetry(t,r);return s.getRetryDelay=()=>this.computeNextBackoffDelay(s.getRetryCount()),s}};Ne.AdaptiveRetryStrategy=lg;Ne.ConfiguredRetryStrategy=dg;Ne.DEFAULT_MAX_ATTEMPTS=cg;Ne.DEFAULT_RETRY_DELAY_BASE=hi;Ne.DEFAULT_RETRY_MODE=CH;Ne.DefaultRateLimiter=Su;Ne.INITIAL_RETRY_TOKENS=ug;Ne.INVOCATION_ID_HEADER=vH;Ne.MAXIMUM_RETRY_DELAY=fg;Ne.NO_RETRY_INCREMENT=i0;Ne.REQUEST_HEADER=IH;Ne.RETRY_COST=n0;Ne.StandardRetryStrategy=gi;Ne.THROTTLING_RETRY_DELAY_BASE=s0;Ne.TIMEOUT_RETRY_COST=o0});var a0=v(Eu=>{"use strict";c();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.isStreamingPayload=void 0;var OH=Y("stream"),NH=e=>e?.body instanceof OH.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Eu.isStreamingPayload=NH});var Wt=v(Be=>{"use strict";c();var Pe=Xs(),Vn=re(),cs=ag(),u0=rm(),c0=dt(),MH=H(),DH=a0(),kH=(e,t)=>{let r=e,s=Pe.NO_RETRY_INCREMENT,n=Pe.RETRY_COST,o=Pe.TIMEOUT_RETRY_COST,i=e,a=d=>d.name==="TimeoutError"?o:n,u=d=>a(d)<=i;return Object.freeze({hasRetryTokens:u,retrieveRetryTokens:d=>{if(!u(d))throw new Error("No retry token available");let g=a(d);return i-=g,g},releaseRetryTokens:d=>{i+=d??s,i=Math.min(i,r)}})},l0=(e,t)=>Math.floor(Math.min(Pe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),d0=e=>e?cs.isRetryableByTrait(e)||cs.isClockSkewError(e)||cs.isThrottlingError(e)||cs.isTransientError(e):!1,f0=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),wu=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Pe.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??d0,this.delayDecider=r?.delayDecider??l0,this.retryQuota=r?.retryQuota??kH(Pe.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,s){return r<s&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Pe.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,s){let n,o=0,i=0,a=await this.getMaxAttempts(),{request:u}=r;for(Vn.HttpRequest.isInstance(u)&&(u.headers[Pe.INVOCATION_ID_HEADER]=u0.v4());;)try{Vn.HttpRequest.isInstance(u)&&(u.headers[Pe.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),s?.beforeRequest&&await s.beforeRequest();let{response:l,output:f}=await t(r);return s?.afterRequest&&s.afterRequest(l),this.retryQuota.releaseRetryTokens(n),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,{response:l,output:f}}catch(l){let f=f0(l);if(o++,this.shouldRetry(f,o,a)){n=this.retryQuota.retrieveRetryTokens(f);let d=this.delayDecider(cs.isThrottlingError(f)?Pe.THROTTLING_RETRY_DELAY_BASE:Pe.DEFAULT_RETRY_DELAY_BASE,o),g=$H(f.$response),h=Math.max(g||0,d);i+=h,await new Promise(y=>setTimeout(y,h));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=i,f}}},$H=e=>{if(!Vn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],s=Number(r);return Number.isNaN(s)?new Date(r).getTime()-Date.now():s*1e3},pg=class extends wu{rateLimiter;constructor(t,r){let{rateLimiter:s,...n}=r??{};super(t,n),this.rateLimiter=s??new Pe.DefaultRateLimiter,this.mode=Pe.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:s=>{this.rateLimiter.updateClientSendingRate(s)}})}},mg="AWS_MAX_ATTEMPTS",hg="max_attempts",LH={environmentVariableSelector:e=>{let t=e[mg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${mg} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[hg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${hg} mast be a number, got "${t}"`);return r},default:Pe.DEFAULT_MAX_ATTEMPTS},UH=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:s}=e,n=c0.normalizeProvider(s??Pe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:n,retryStrategy:async()=>t||(await c0.normalizeProvider(r)()===Pe.RETRY_MODES.ADAPTIVE?new Pe.AdaptiveRetryStrategy(n):new Pe.StandardRetryStrategy(n))})},p0="AWS_RETRY_MODE",m0="retry_mode",FH={environmentVariableSelector:e=>e[p0],configFileSelector:e=>e[m0],default:Pe.DEFAULT_RETRY_MODE},h0=()=>e=>async t=>{let{request:r}=t;return Vn.HttpRequest.isInstance(r)&&(delete r.headers[Pe.INVOCATION_ID_HEADER],delete r.headers[Pe.REQUEST_HEADER]),e(t)},g0={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},BH=e=>({applyToStack:t=>{t.addRelativeTo(h0(),g0)}}),y0=e=>(t,r)=>async s=>{let n=await e.retryStrategy(),o=await e.maxAttempts();if(qH(n)){n=n;let i=await n.acquireInitialRetryToken(r.partition_id),a=new Error,u=0,l=0,{request:f}=s,d=Vn.HttpRequest.isInstance(f);for(d&&(f.headers[Pe.INVOCATION_ID_HEADER]=u0.v4());;)try{d&&(f.headers[Pe.REQUEST_HEADER]=`attempt=${u+1}; max=${o}`);let{response:g,output:h}=await t(s);return n.recordSuccess(i),h.$metadata.attempts=u+1,h.$metadata.totalRetryDelay=l,{response:g,output:h}}catch(g){let h=jH(g);if(a=f0(g),d&&DH.isStreamingPayload(f))throw(r.logger instanceof MH.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await n.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=l,a}u=i.getRetryCount();let y=i.getRetryDelay();l+=y,await new Promise(b=>setTimeout(b,y))}}else return n=n,n?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(t,s)},qH=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",jH=e=>{let t={error:e,errorType:HH(e)},r=E0(e.$response);return r&&(t.retryAfterHint=r),t},HH=e=>cs.isThrottlingError(e)?"THROTTLING":cs.isTransientError(e)?"TRANSIENT":cs.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",S0={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},zH=e=>({applyToStack:t=>{t.add(y0(e),S0)}}),E0=e=>{if(!Vn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],s=Number(r);return Number.isNaN(s)?new Date(r):new Date(s*1e3)};Be.AdaptiveRetryStrategy=pg;Be.CONFIG_MAX_ATTEMPTS=hg;Be.CONFIG_RETRY_MODE=m0;Be.ENV_MAX_ATTEMPTS=mg;Be.ENV_RETRY_MODE=p0;Be.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=LH;Be.NODE_RETRY_MODE_CONFIG_OPTIONS=FH;Be.StandardRetryStrategy=wu;Be.defaultDelayDecider=l0;Be.defaultRetryDecider=d0;Be.getOmitRetryHeadersPlugin=BH;Be.getRetryAfterHint=E0;Be.getRetryPlugin=zH;Be.omitRetryHeadersMiddleware=h0;Be.omitRetryHeadersMiddlewareOptions=g0;Be.resolveRetryConfig=UH;Be.retryMiddleware=y0;Be.retryMiddlewareOptions=S0});var yg=v(us=>{"use strict";c();Object.defineProperty(us,"__esModule",{value:!0});us.resolveHttpAuthSchemeConfig=us.defaultSQSHttpAuthSchemeProvider=us.defaultSQSHttpAuthSchemeParametersProvider=void 0;var VH=(fi(),J(di)),gg=dt(),QH=async(e,t,r)=>({operation:(0,gg.getSmithyContext)(t).operation,region:await(0,gg.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});us.defaultSQSHttpAuthSchemeParametersProvider=QH;function KH(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sqs",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var GH=e=>{let t=[];switch(e.operation){default:t.push(KH(e))}return t};us.defaultSQSHttpAuthSchemeProvider=GH;var WH=e=>{let t=(0,VH.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,gg.normalizeProvider)(e.authSchemePreference??[])})};us.resolveHttpAuthSchemeConfig=WH});var w0=v((Une,YH)=>{YH.exports={name:"@aws-sdk/client-sqs",description:"AWS SDK for JavaScript Sqs Client for Node.js, Browser and React Native",version:"3.974.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sqs","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sqs","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/credential-provider-node":"^3.972.1","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-sdk-sqs":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/md5-js":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sqs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sqs"}}});var _u,ls,_0=S(()=>{c();_u={warningEmitted:!1},ls=e=>{e&&!_u.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(_u.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function ds(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var b0=S(()=>{c()});function T0(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var A0=S(()=>{c()});function x0(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var R0=S(()=>{c()});var Or={};Ye(Or,{emitWarningIfUnsupportedVersion:()=>ls,setCredentialFeature:()=>ds,setFeature:()=>T0,setTokenFeature:()=>x0,state:()=>_u});var Pt=S(()=>{c();_0();b0();A0();R0()});var Sg=v(fs=>{"use strict";c();var XH=(Pt(),J(Or)),JH=Qe(),C0="AWS_ACCESS_KEY_ID",v0="AWS_SECRET_ACCESS_KEY",I0="AWS_SESSION_TOKEN",P0="AWS_CREDENTIAL_EXPIRATION",O0="AWS_CREDENTIAL_SCOPE",N0="AWS_ACCOUNT_ID",ZH=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[C0],r=process.env[v0],s=process.env[I0],n=process.env[P0],o=process.env[O0],i=process.env[N0];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...s&&{sessionToken:s},...n&&{expiration:new Date(n)},...o&&{credentialScope:o},...i&&{accountId:i}};return XH.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new JH.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};fs.ENV_ACCOUNT_ID=N0;fs.ENV_CREDENTIAL_SCOPE=O0;fs.ENV_EXPIRATION=P0;fs.ENV_KEY=C0;fs.ENV_SECRET=v0;fs.ENV_SESSION=I0;fs.fromEnv=ZH});var Si=v(tt=>{"use strict";c();var ur=Qe(),e2=Y("url"),t2=Y("buffer"),r2=Y("http"),Tg=Gt(),s2=Ar();function yi(e){return new Promise((t,r)=>{let s=r2.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});s.on("error",n=>{r(Object.assign(new ur.ProviderError("Unable to connect to instance metadata service"),n)),s.destroy()}),s.on("timeout",()=>{r(new ur.ProviderError("TimeoutError from instance metadata service")),s.destroy()}),s.on("response",n=>{let{statusCode:o=400}=n;(o<200||300<=o)&&(r(Object.assign(new ur.ProviderError("Error response received from instance metadata service"),{statusCode:o})),s.destroy());let i=[];n.on("data",a=>{i.push(a)}),n.on("end",()=>{t(t2.Buffer.concat(i)),s.destroy()})}),s.end()})}var $0=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",L0=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),U0=1e3,F0=0,Ag=({maxRetries:e=F0,timeout:t=U0})=>({maxRetries:e,timeout:t}),wg=(e,t)=>{let r=e();for(let s=0;s<t;s++)r=r.catch(e);return r},bu="AWS_CONTAINER_CREDENTIALS_FULL_URI",Tu="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",_g="AWS_CONTAINER_AUTHORIZATION_TOKEN",n2=(e={})=>{let{timeout:t,maxRetries:r}=Ag(e);return()=>wg(async()=>{let s=await u2({logger:e.logger}),n=JSON.parse(await o2(t,s));if(!$0(n))throw new ur.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return L0(n)},r)},o2=async(e,t)=>(process.env[_g]&&(t.headers={...t.headers,Authorization:process.env[_g]}),(await yi({...t,timeout:e})).toString()),i2="169.254.170.2",a2={localhost:!0,"127.0.0.1":!0},c2={"http:":!0,"https:":!0},u2=async({logger:e})=>{if(process.env[Tu])return{hostname:i2,path:process.env[Tu]};if(process.env[bu]){let t=e2.parse(process.env[bu]);if(!t.hostname||!(t.hostname in a2))throw new ur.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in c2))throw new ur.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new ur.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Tu} or ${bu} environment variable is set`,{tryNextLink:!1,logger:e})},bg=class e extends ur.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};tt.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(tt.Endpoint||(tt.Endpoint={}));var l2="AWS_EC2_METADATA_SERVICE_ENDPOINT",d2="ec2_metadata_service_endpoint",f2={environmentVariableSelector:e=>e[l2],configFileSelector:e=>e[d2],default:void 0},Qn;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Qn||(Qn={}));var p2="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",m2="ec2_metadata_service_endpoint_mode",h2={environmentVariableSelector:e=>e[p2],configFileSelector:e=>e[m2],default:Qn.IPv4},B0=async()=>s2.parseUrl(await g2()||await y2()),g2=async()=>Tg.loadConfig(f2)(),y2=async()=>{let e=await Tg.loadConfig(h2)();switch(e){case Qn.IPv4:return tt.Endpoint.IPv4;case Qn.IPv6:return tt.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Qn)}`)}},S2=5*60,E2=5*60,w2="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",M0=(e,t)=>{let r=S2+Math.floor(Math.random()*E2),s=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(s)}.
For more information, please visit: `+w2);let n=e.originalExpiration??e.expiration;return{...e,...n?{originalExpiration:n}:{},expiration:s}},_2=(e,t={})=>{let r=t?.logger||console,s;return async()=>{let n;try{n=await e(),n.expiration&&n.expiration.getTime()<Date.now()&&(n=M0(n,r))}catch(o){if(s)r.warn("Credential renew failed: ",o),n=M0(s,r);else throw o}return s=n,n}},q0="/latest/meta-data/iam/security-credentials/",b2="/latest/api/token",Eg="AWS_EC2_METADATA_V1_DISABLED",D0="ec2_metadata_v1_disabled",k0="x-aws-ec2-metadata-token",T2=(e={})=>_2(A2(e),{logger:e.logger}),A2=(e={})=>{let t=!1,{logger:r,profile:s}=e,{timeout:n,maxRetries:o}=Ag(e),i=async(a,u)=>{if(t||u.headers?.[k0]==null){let d=!1,g=!1,h=await Tg.loadConfig({environmentVariableSelector:y=>{let b=y[Eg];if(g=!!b&&b!=="false",b===void 0)throw new ur.CredentialsProviderError(`${Eg} not set in env, checking config file next.`,{logger:e.logger});return g},configFileSelector:y=>{let b=y[D0];return d=!!b&&b!=="false",d},default:!1},{profile:s})();if(e.ec2MetadataV1Disabled||h){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&y.push(`config file profile (${D0})`),g&&y.push(`process environment variable (${Eg})`),new bg(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let f=(await wg(async()=>{let d;try{d=await R2(u)}catch(g){throw g.statusCode===401&&(t=!1),g}return d},a)).trim();return wg(async()=>{let d;try{d=await C2(f,u,e)}catch(g){throw g.statusCode===401&&(t=!1),g}return d},a)};return async()=>{let a=await B0();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:n});{let u;try{u=(await x2({...a,timeout:n})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:n})}return i(o,{...a,headers:{[k0]:u},timeout:n})}}},x2=async e=>yi({...e,path:b2,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),R2=async e=>(await yi({...e,path:q0})).toString(),C2=async(e,t,r)=>{let s=JSON.parse((await yi({...t,path:q0+e})).toString());if(!$0(s))throw new ur.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return L0(s)};tt.DEFAULT_MAX_RETRIES=F0;tt.DEFAULT_TIMEOUT=U0;tt.ENV_CMDS_AUTH_TOKEN=_g;tt.ENV_CMDS_FULL_URI=bu;tt.ENV_CMDS_RELATIVE_URI=Tu;tt.fromContainerMetadata=n2;tt.fromInstanceMetadata=T2;tt.getInstanceMetadataEndpoint=B0;tt.httpRequest=yi;tt.providerConfigFromInit=Ag});var j0=v(Au=>{"use strict";c();Object.defineProperty(Au,"__esModule",{value:!0});Au.checkUrl=void 0;var v2=Qe(),I2="169.254.170.2",P2="169.254.170.23",O2="[fd00:ec2::23]",N2=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===I2||e.hostname===P2||e.hostname===O2)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),s=n=>{let o=parseInt(n,10);return 0<=o&&o<=255};if(r[0]==="127"&&s(r[1])&&s(r[2])&&s(r[3])&&r.length===4)return}throw new v2.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Au.checkUrl=N2});var H0=v(xu=>{"use strict";c();Object.defineProperty(xu,"__esModule",{value:!0});xu.createGetRequest=$2;xu.getCredentials=L2;var xg=Qe(),M2=re(),D2=H(),k2=Ja();function $2(e){return new M2.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,s])=>(t[r]=s,t),{}),fragment:e.hash})}async function L2(e,t){let s=await(0,k2.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let n=JSON.parse(s);if(typeof n.AccessKeyId!="string"||typeof n.SecretAccessKey!="string"||typeof n.Token!="string"||typeof n.Expiration!="string")throw new xg.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.Token,expiration:(0,D2.parseRfc3339DateTime)(n.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let n={};try{n=JSON.parse(s)}catch{}throw Object.assign(new xg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:n.Code,Message:n.Message})}throw new xg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var z0=v(Ru=>{"use strict";c();Object.defineProperty(Ru,"__esModule",{value:!0});Ru.retryWrapper=void 0;var U2=(e,t,r)=>async()=>{for(let s=0;s<t;++s)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};Ru.retryWrapper=U2});var K0=v(Cu=>{"use strict";c();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.fromHttp=void 0;var F2=(qs(),J(Bs)),B2=(Pt(),J(Or)),q2=Vr(),V0=Qe(),j2=F2.__importDefault(Y("fs/promises")),H2=j0(),Q0=H0(),z2=z0(),V2="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Q2="http://169.254.170.2",K2="AWS_CONTAINER_CREDENTIALS_FULL_URI",G2="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",W2="AWS_CONTAINER_AUTHORIZATION_TOKEN",Y2=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[V2],s=e.awsContainerCredentialsFullUri??process.env[K2],n=e.awsContainerAuthorizationToken??process.env[W2],o=e.awsContainerAuthorizationTokenFile??process.env[G2],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),n&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),s)t=s;else if(r)t=`${Q2}${r}`;else throw new V0.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,H2.checkUrl)(a,e.logger);let u=q2.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,z2.retryWrapper)(async()=>{let l=(0,Q0.createGetRequest)(a);n?l.headers.Authorization=n:o&&(l.headers.Authorization=(await j2.default.readFile(o)).toString());try{let f=await u.handle(l);return(0,Q0.getCredentials)(f.response).then(d=>(0,B2.setCredentialFeature)(d,"CREDENTIALS_HTTP","z"))}catch(f){throw new V0.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Cu.fromHttp=Y2});var Rg=v(vu=>{"use strict";c();Object.defineProperty(vu,"__esModule",{value:!0});vu.fromHttp=void 0;var X2=K0();Object.defineProperty(vu,"fromHttp",{enumerable:!0,get:function(){return X2.fromHttp}})});var G0,Cg,W0=S(()=>{c();G0=_(re()),Cg=e=>G0.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Kn,vg=S(()=>{c();Kn=e=>new Date(Date.now()+e)});var Y0,X0=S(()=>{c();vg();Y0=(e,t)=>Math.abs(Kn(t).getTime()-e)>=3e5});var Ig,J0=S(()=>{c();X0();Ig=(e,t)=>{let r=Date.parse(e);return Y0(r,t)?r-Date.now():t}});var Pg=S(()=>{c();W0();vg();J0()});var Z0,Ei,Gn,rt,Og,Ng=S(()=>{c();Z0=_(re());Pg();Ei=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Gn=async e=>{let t=Ei("context",e.context),r=Ei("config",e.config),s=t.endpointV2?.properties?.authSchemes?.[0],o=await Ei("signer",r.signer)(s),i=e?.signingRegion,a=e?.signingRegionSet,u=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:u}},rt=class{async sign(t,r,s){if(!Z0.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let n=await Gn(s),{config:o,signer:i}=n,{signingRegion:a,signingName:u}=n,l=s.context;if(l?.authSchemes?.length??!1){let[d,g]=l.authSchemes;d?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,u=g?.signingName??u)}return await i.sign(t,{signingDate:Kn(o.systemClockOffset),signingRegion:a,signingService:u})}errorHandler(t){return r=>{let s=r.ServerTime??Cg(r.$response);if(s){let n=Ei("config",t.config),o=n.systemClockOffset;n.systemClockOffset=Ig(s,n.systemClockOffset),n.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let s=Cg(t);if(s){let n=Ei("config",r.config);n.systemClockOffset=Ig(s,n.systemClockOffset)}}},Og=rt});var eR,wi,tR=S(()=>{c();eR=_(re());Pg();Ng();wi=class extends rt{async sign(t,r,s){if(!eR.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:n,signer:o,signingRegion:i,signingRegionSet:a,signingName:u}=await Gn(s),f=(await n.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(t,{signingDate:Kn(n.systemClockOffset),signingRegion:f,signingService:u})}}});var Mg,rR=S(()=>{c();Mg=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Iu,Dg=S(()=>{c();Iu=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var sR,nR,ps,oR=S(()=>{c();rR();Dg();sR="AWS_AUTH_SCHEME_PREFERENCE",nR="auth_scheme_preference",ps={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Iu(t.signingName)in e)return["httpBearerAuth"];if(sR in e)return Mg(e[sR])},configFileSelector:e=>{if(nR in e)return Mg(e[nR])},default:[]}});var kg,iR,aR,cR=S(()=>{c();He();kg=_(Qe()),iR=e=>(e.sigv4aSigningRegionSet=pt(e.sigv4aSigningRegionSet),e),aR={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new kg.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new kg.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});function J2(e,{credentials:t,credentialDefaultProvider:r}){let s;return t?t?.memoized?s=t:s=Zo(t,Jo,Tn):r?s=pt(r(Object.assign({},e,{parentClientConfig:e}))):s=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},s.memoized=!0,s}function Z2(e,t){if(t.configBound)return t;let r=async s=>t({...s,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var $g,Nr,uR,lR=S(()=>{c();Pt();He();$g=_(kc()),Nr=e=>{let t=e.credentials,r=!!e.credentials,s;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==s&&(r=!0),t=l;let f=J2(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=Z2(e,f);if(r&&!d.attributed){let g=typeof t=="object"&&t!==null;s=async h=>{let b=await d(h);return g&&(!b.$source||Object.keys(b.$source).length===0)?ds(b,"CREDENTIALS_CODE","e"):b},s.memoized=d.memoized,s.configBound=d.configBound,s.attributed=!0}else s=d},get(){return s},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:n=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=pt(e.signer):e.regionInfoProvider?a=()=>pt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,f])=>{let{signingRegion:d,signingService:g}=l;e.signingRegion=e.signingRegion||d||f,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},y=e.signerConstructor||$g.SignatureV4;return new y(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await pt(e.region)(),properties:{}},l);let f=l.signingRegion,d=l.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||d||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},h=e.signerConstructor||$g.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:n,signer:a})},uR=Nr});var dR=S(()=>{c();Ng();tR();oR();cR();lR()});var fR={};Ye(fR,{AWSSDKSigV4Signer:()=>Og,AwsSdkSigV4ASigner:()=>wi,AwsSdkSigV4Signer:()=>rt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ps,NODE_SIGV4A_CONFIG_OPTIONS:()=>aR,getBearerTokenEnvKey:()=>Iu,resolveAWSSDKSigV4Config:()=>uR,resolveAwsSdkSigV4AConfig:()=>iR,resolveAwsSdkSigV4Config:()=>Nr,validateSigningProperties:()=>Gn});var Lg=S(()=>{c();dR();Dg()});var bi=v(_i=>{"use strict";c();var e4=re();function t4(e){return e}var pR=e=>t=>async r=>{if(!e4.HttpRequest.isInstance(r.request))return t(r);let{request:s}=r,{handlerProtocol:n=""}=e.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let o=s.hostname;s.port!=null&&(o+=`:${s.port}`),s.headers.host=o}return t(r)},mR={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},r4=e=>({applyToStack:t=>{t.add(pR(e),mR)}});_i.getHostHeaderPlugin=r4;_i.hostHeaderMiddleware=pR;_i.hostHeaderMiddlewareOptions=mR;_i.resolveHostHeaderConfig=t4});var Ti=v(Pu=>{"use strict";c();var hR=()=>(e,t)=>async r=>{try{let s=await e(r),{clientName:n,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:l}=a,f=u??t.inputFilterSensitiveLog,d=l??t.outputFilterSensitiveLog,{$metadata:g,...h}=s.output;return i?.info?.({clientName:n,commandName:o,input:f(r.input),output:d(h),metadata:g}),s}catch(s){let{clientName:n,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u}=a,l=u??t.inputFilterSensitiveLog;throw i?.error?.({clientName:n,commandName:o,input:l(r.input),error:s,metadata:s.$metadata}),s}},gR={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},s4=e=>({applyToStack:t=>{t.add(hR(),gR)}});Pu.getLoggerPlugin=s4;Pu.loggerMiddleware=hR;Pu.loggerMiddlewareOptions=gR});var yR=v(Ou=>{"use strict";c();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.recursionDetectionMiddleware=void 0;var n4=(sp(),J(rp)),o4=re(),Ug="X-Amzn-Trace-Id",i4="AWS_LAMBDA_FUNCTION_NAME",a4="_X_AMZN_TRACE_ID",c4=()=>e=>async t=>{let{request:r}=t;if(!o4.HttpRequest.isInstance(r))return e(t);let s=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===Ug.toLowerCase())??Ug;if(r.headers.hasOwnProperty(s))return e(t);let n=process.env[i4],o=process.env[a4],u=(await n4.InvokeStore.getInstanceAsync())?.getXRayTraceId()??o,l=f=>typeof f=="string"&&f.length>0;return l(n)&&l(u)&&(r.headers[Ug]=u),e({...t,request:r})};Ou.recursionDetectionMiddleware=c4});var Ai=v(Nu=>{"use strict";c();var Fg=yR(),u4={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},l4=e=>({applyToStack:t=>{t.add(Fg.recursionDetectionMiddleware(),u4)}});Nu.getRecursionDetectionPlugin=l4;Object.keys(Fg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Nu,e)&&Object.defineProperty(Nu,e,{enumerable:!0,get:function(){return Fg[e]}})})});var Bg,Ot,Wn=S(()=>{c();K();Bg=_(H()),Ot=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let s=r.getMemberSchemas(),n=Object.values(s).find(o=>!!o.getMergedTraits().httpPayload);if(n){let o=n.getMergedTraits().mediaType;return o||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(s).find(i=>{let{httpQuery:a,httpQueryParams:u,httpHeader:l,httpLabel:f,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!u&&!l&&!f&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,s,n,o,i){let a=r,u=t;t.includes("#")&&([a,u]=t.split("#"));let l={$metadata:o,$fault:s.statusCode<500?"client":"server"},f=U.for(a);try{return{errorSchema:i?.(f,u)??f.getSchema(t),errorMetadata:l}}catch{n.message=n.message??n.Message??"UnknownError";let g=U.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let y=g.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new y({name:u}),l),n)}throw this.decorateServiceException(Object.assign(new Error(u),l),n)}}decorateServiceException(t,r={}){if(this.queryCompat){let s=t.Message??r.Message,n=(0,Bg.decorateServiceException)(t,r);s&&(n.message=s),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??s};let o=n.$metadata.requestId;return o&&(n.RequestId=o),n}return(0,Bg.decorateServiceException)(t,r)}setQueryCompatError(t,r){let s=r.headers?.["x-amzn-query-error"];if(t!==void 0&&s!=null){let[n,o]=s.split(";"),i=Object.entries(t),a={Code:n,Type:o};Object.assign(t,a);for(let[u,l]of i)a[u==="message"?"Message":u]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(n=>D.of(n).getMergedTraits().awsQueryError?.[0]===r)}}}});var Mu,SR=S(()=>{c();Mh();K();Wn();Mu=class extends Pn{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new Ot(this.awsQueryCompatible)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);return this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),n}async handleError(t,r,s,n,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,s);let i=(()=>{let y=s.headers["x-amzn-query-error"];return y&&this.awsQueryCompatible?y.split(";")[0]:In(s,n)??"Unknown"})(),{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f),h={};for(let[y,b]of l.structIterator())n[y]!=null&&(h[y]=this.deserializer.readValue(b,n[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,h),this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}}});var ER,wR,_R,bR=S(()=>{c();ER=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},wR=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},_R=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var st,ms=S(()=>{c();st=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var TR=v(Du=>{"use strict";c();Object.defineProperty(Du,"__esModule",{value:!0});Du.fromBase64=void 0;var d4=Et(),f4=/^[A-Za-z0-9+/]*={0,2}$/,p4=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!f4.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,d4.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Du.fromBase64=p4});var AR=v(ku=>{"use strict";c();Object.defineProperty(ku,"__esModule",{value:!0});ku.toBase64=void 0;var m4=Et(),h4=Te(),g4=e=>{let t;if(typeof e=="string"?t=(0,h4.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,m4.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ku.toBase64=g4});var Mr=v(xi=>{"use strict";c();var xR=TR(),RR=AR();Object.keys(xR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(xi,e)&&Object.defineProperty(xi,e,{enumerable:!0,get:function(){return xR[e]}})});Object.keys(RR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(xi,e)&&Object.defineProperty(xi,e,{enumerable:!0,get:function(){return RR[e]}})})});function*Yn(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let s=0;s<r[4].length;++s){let n=r[4][s],o=r[5][s],i=new D([o,0],n);!(n in t)&&!i.isIdempotencyToken()||(yield[n,i])}}function*CR(e,t,r){if(e.isUnitSchema())return;let s=e.getSchema(),n=Object.keys(t).filter(o=>o!=="__type").length;for(let o=0;o<s[4].length&&n!==0;++o){let i=s[4][o],a=s[5][o],u=new D([a,0],i),l=i;r&&(l=u.getMergedTraits()[r]??i),l in t&&(yield[i,u],n-=1)}}var Ri=S(()=>{c();K()});var Xn,qg=S(()=>{c();Xn=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(s=>s!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function vR(e,t,r){if(r?.source){let s=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||s!==String(t)))return s.includes(".")?new G(s,"bigDecimal"):BigInt(s)}return t}var IR=S(()=>{c();ke()});var PR,OR,$u,jg=S(()=>{c();PR=_(H()),OR=_(Te()),$u=(e,t)=>(0,PR.collectBody)(e,t).then(r=>(t?.utf8Encoder??OR.toUtf8)(r))});var Ci,NR,Jn,vi=S(()=>{c();jg();Ci=(e,t)=>$u(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(s){throw s?.name==="SyntaxError"&&Object.defineProperty(s,"$responseBodyText",{value:r}),s}return{}}),NR=async(e,t)=>{let r=await Ci(e,t);return r.message=r.message??r.Message,r},Jn=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),s=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return s(t[o]);if(t.__type!==void 0)return s(t.__type)}}});var MR,Zn,Hg=S(()=>{c();Ie();K();ke();MR=_(Mr());ms();Ri();qg();IR();vi();Zn=class extends st{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,vR):await Ci(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let s=r!==null&&typeof r=="object",n=D.of(t);if(s){if(n.isStructSchema()){let i=r,a=n.isUnionSchema(),u={},l,{jsonName:f}=this.settings;f&&(l={});let d;a&&(d=new Xn(i,u));for(let[g,h]of CR(n,i,f?"jsonName":!1)){let y=g;f&&(y=h.getMergedTraits().jsonName??y,l[y]=g),a&&d.mark(y),i[y]!=null&&(u[g]=this._read(h,i[y]))}if(a)d.writeUnknown();else if(typeof i.__type=="string")for(let[g,h]of Object.entries(i)){let y=f?l[g]??g:g;y in u||(u[y]=h)}return u}if(Array.isArray(r)&&n.isListSchema()){let i=n.getValueSchema(),a=[],u=!!n.getMergedTraits().sparse;for(let l of r)(u||l!=null)&&a.push(this._read(i,l));return a}if(n.isMapSchema()){let i=n.getValueSchema(),a={},u=!!n.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(u||f!=null)&&(a[l]=this._read(i,f));return a}}if(n.isBlobSchema()&&typeof r=="string")return(0,MR.fromBase64)(r);let o=n.getMergedTraits().mediaType;if(n.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?Fe.from(r):r;if(n.isTimestampSchema()&&r!=null)switch($e(n,this.settings)){case 5:return Vo(r);case 6:return Qo(r);case 7:return Ko(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(n.isBigDecimalSchema()&&r!=null){if(r instanceof G)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new G(i.string,i.type):new G(String(r),"bigDecimal")}if(n.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(n.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof G?i[a]=u:i[a]=this._read(n,u);return i}else return structuredClone(r);return r}}});var DR,Lu,kR=S(()=>{c();ke();DR="\u039D",Lu=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof G){let s=`${DR+"nv"+this.counter++}_`+r.string;return this.values.set(`"${s}"`,r.string),s}if(typeof r=="bigint"){let s=r.toString(),n=`${DR+"b"+this.counter++}_`+s;return this.values.set(`"${n}"`,s),n}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,s]of this.values)t=t.replace(r,s);return t}}});var zg,eo,Vg=S(()=>{c();Ie();K();ke();zg=_(Mr());ms();Ri();kR();eo=class extends st{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=D.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=D.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let s=new Lu;return s.replaceInJson(JSON.stringify(this.buffer,s.createReplacer(),0))}return this.buffer}_write(t,r,s){let n=r!==null&&typeof r=="object",o=D.of(t);if(n){if(o.isStructSchema()){let i=r,a={},{jsonName:u}=this.settings,l;u&&(l={});for(let[f,d]of Yn(o,i)){let g=this._write(d,i[f],o);if(g!==void 0){let h=f;u&&(h=d.getMergedTraits().jsonName??f,l[f]=h),a[h]=g}}if(o.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:f}=i;if(Array.isArray(f)){let[d,g]=f;a[d]=this._write(15,g)}}else if(typeof i.__type=="string")for(let[f,d]of Object.entries(i)){let g=u?l[f]??f:f;g in a||(a[g]=this._write(15,d))}return a}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],u=!!o.getMergedTraits().sparse;for(let l of r)(u||l!=null)&&a.push(this._write(i,l));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},u=!!o.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(u||f!=null)&&(a[l]=this._write(i,f));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??zg.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch($e(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Fs(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof G&&(this.useReplacer=!0)}if(!(r===null&&s?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,je.v4)();let i=o.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?Fe.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??zg.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof G?(this.useReplacer=!0,i[a]=u):i[a]=this._write(o,u);return i}else return structuredClone(r);return r}}}});var hs,Uu=S(()=>{c();ms();Hg();Vg();hs=class extends st{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new eo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Zn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var gs,Fu=S(()=>{c();Ie();K();Wn();Uu();vi();gs=class extends At{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=n??new hs({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!s,this.mixin=new Ot(this.awsQueryCompatible)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);return n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),(lt(t.input)==="unit"||!n.body)&&(n.body="{}"),n}getPayloadCodec(){return this.codec}async handleError(t,r,s,n,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,s);let i=Jn(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f),h={};for(let[y,b]of l.structIterator())n[y]!=null&&(h[y]=this.codec.createDeserializer().readObject(b,n[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,h),this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}}});var Bu,$R=S(()=>{c();Fu();Bu=class extends gs{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var qu,LR=S(()=>{c();Fu();qu=class extends gs{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:s,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var ys,UR=S(()=>{c();Ie();K();Wn();Uu();vi();ys=class extends Ht{serializer;deserializer;codec;mixin=new Ot;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new hs(r),this.serializer=new Vt(this.codec.createSerializer(),r),this.deserializer=new zt(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s),o=D.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(n.headers["content-type"]=i)}return n.body==null&&n.headers["content-type"]===this.getDefaultContentType()&&(n.body="{}"),n}async deserializeResponse(t,r,s){let n=await super.deserializeResponse(t,r,s),o=D.of(t.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in n)&&(n[i]=null);return n}async handleError(t,r,s,n,o){let i=Jn(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o),l=D.of(a),f=n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f);await this.deserializeHttpMessage(a,r,s,n);let h={};for(let[y,b]of l.structIterator()){let R=b.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(b,n[R])}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}getDefaultContentType(){return"application/json"}}});var FR,BR,qR=S(()=>{c();FR=_(H()),BR=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,FR.expectUnion)(e)}});var jR=v(Kg=>{"use strict";c();Object.defineProperty(Kg,"__esModule",{value:!0});Kg.parseXML=S4;var y4=Bh(),Qg=new y4.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Qg.addEntity("#xD","\r");Qg.addEntity("#10",`
`);function S4(e){return Qg.parse(e,!0)}});var zu=v(Hu=>{"use strict";c();var E4=jR();function w4(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function _4(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var ju=class{value;constructor(t){this.value=t}toString(){return _4(""+this.value)}},Gg=class e{name;children;attributes={};static of(t,r,s){let n=new e(t);return r!==void 0&&n.addChildNode(new ju(r)),s!==void 0&&n.withName(s),n}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,s=r){if(t[r]!=null){let n=e.of(r,t[r]).withName(s);this.c(n)}}l(t,r,s,n){t[r]!=null&&n().map(i=>{i.withName(s),this.c(i)})}lc(t,r,s,n){if(t[r]!=null){let o=n(),i=new e(s);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,s=this.attributes;for(let n of Object.keys(s)){let o=s[n];o!=null&&(r+=` ${n}="${w4(""+o)}"`)}return r+=t?`>${this.children.map(n=>n.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Hu,"parseXML",{enumerable:!0,get:function(){return E4.parseXML}});Hu.XmlNode=Gg;Hu.XmlText=ju});var HR,zR,VR,Ss,Vu=S(()=>{c();HR=_(zu());Ie();K();zR=_(H()),VR=_(Te());ms();qg();Ss=class extends st{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new br(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,s){let n=D.of(t),o=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},f=Object.keys(o)[0];return o[f].isBlobSchema()?l[f]=r:l[f]=this.read(o[f],r),l}let a=(this.serdeContext?.utf8Encoder??VR.toUtf8)(r),u=this.parseXml(a);return this.readSchema(t,s?u[s]:u)}readSchema(t,r){let s=D.of(t);if(s.isUnitSchema())return;let n=s.getMergedTraits();if(s.isListSchema()&&!Array.isArray(r))return this.readSchema(s,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!n.sparse,i=!!n.xmlFlattened;if(s.isListSchema()){let u=s.getValueSchema(),l=[],f=u.getMergedTraits().xmlName??"member",d=i?r:(r[0]??r)[f],g=Array.isArray(d)?d:[d];for(let h of g)(h!=null||o)&&l.push(this.readSchema(u,h));return l}let a={};if(s.isMapSchema()){let u=s.getKeySchema(),l=s.getValueSchema(),f;i?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let d=u.getMergedTraits().xmlName??"key",g=l.getMergedTraits().xmlName??"value";for(let h of f){let y=h[d],b=h[g];(b!=null||o)&&(a[y]=this.readSchema(l,b))}return a}if(s.isStructSchema()){let u=s.isUnionSchema(),l;u&&(l=new Xn(r,a));for(let[f,d]of s.structIterator()){let g=d.getMergedTraits(),h=g.httpPayload?g.xmlName??d.getName():d.getMemberTraits().xmlName??f;u&&l.mark(h),r[h]!=null&&(a[f]=this.readSchema(d,r[h]))}return u&&l.writeUnknown(),a}if(s.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${s.getName(!0)}`)}return s.isListSchema()?[]:s.isMapSchema()||s.isStructSchema()?{}:this.stringDeserializer.read(s,r)}parseXml(t){if(t.length){let r;try{r=(0,HR.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let s="#text",n=Object.keys(r)[0],o=r[n];return o[s]&&(o[n]=o[s],delete o[s]),(0,zR.getValueFromTextNode)(o)}return{}}}});var QR,KR,Qu,GR=S(()=>{c();Ie();K();ke();QR=_(H()),KR=_(Mr());ms();Ri();Qu=class extends st{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,s=""){this.buffer===void 0&&(this.buffer="");let n=D.of(t);if(s&&!s.endsWith(".")&&(s+="."),n.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(s),this.writeValue((this.serdeContext?.base64Encoder??KR.toBase64)(r)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())r!=null?(this.writeKey(s),this.writeValue(String(r))):n.isIdempotencyToken()&&(this.writeKey(s),this.writeValue((0,je.v4)()));else if(n.isBigIntegerSchema())r!=null&&(this.writeKey(s),this.writeValue(String(r)));else if(n.isBigDecimalSchema())r!=null&&(this.writeKey(s),this.writeValue(r instanceof G?r.string:String(r)));else if(n.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(s),$e(n,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,QR.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(n.isDocumentSchema())Array.isArray(r)?this.write(79,r,s):r instanceof Date?this.write(4,r,s):r instanceof Uint8Array?this.write(21,r,s):r&&typeof r=="object"?this.write(143,r,s):(this.writeKey(s),this.writeValue(String(r)));else if(n.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(s),this.writeValue(""));else{let o=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened,a=1;for(let u of r){if(u==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),f=i?`${s}${a}`:`${s}${l}.${a}`;this.write(o,u,f),++a}}}else if(n.isMapSchema()){if(r&&typeof r=="object"){let o=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened,u=1;for(let[l,f]of Object.entries(r)){if(f==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),g=a?`${s}${u}.${d}`:`${s}entry.${u}.${d}`,h=this.getKey("value",i.getMergedTraits().xmlName),y=a?`${s}${u}.${h}`:`${s}entry.${u}.${h}`;this.write(o,l,g),this.write(i,f,y),++u}}}else if(n.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[i,a]of Yn(n,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let u=this.getKey(i,a.getMergedTraits().xmlName),l=`${s}${u}`;this.write(a,r[i],l),o=!0}if(!o&&n.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,u]=i,l=`${s}${a}`;this.write(15,u,l)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let s=r??t;return this.settings.capitalizeKeys?s[0].toUpperCase()+s.slice(1):s}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Tt(t)}=`}writeValue(t){this.buffer+=Tt(t)}}});var Es,Wg=S(()=>{c();Ie();K();Wn();Vu();GR();Es=class extends At{options;serializer;deserializer;mixin=new Ot;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Qu(r),this.deserializer=new Ss(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(lt(t.input)==="unit"||!n.body)&&(n.body="");let o=t.name.split("#")[1]??t.name;return n.body=`Action=${o}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(t,r,s){let n=this.deserializer,o=D.of(t.output),i={};if(s.statusCode>=300){let d=await ut(s.body,r);d.byteLength>0&&Object.assign(i,await n.read(15,d)),await this.handleError(t,r,s,i,this.deserializeMetadata(s))}for(let d in s.headers){let g=s.headers[d];delete s.headers[d],s.headers[d.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,u=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await ut(s.body,r);return l.byteLength>0&&Object.assign(i,await n.read(o,l,u)),{$metadata:this.deserializeMetadata(s),...i}}useNestedResult(){return!0}async handleError(t,r,s,n,o){let i=this.loadQueryErrorCode(s,n)??"Unknown",a=this.loadQueryError(n),u=this.loadQueryErrorMessage(n);a.message=u,a.Error={Type:a.Type,Code:a.Code,Message:u};let{errorSchema:l,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,a,o,this.mixin.findQueryCompatibleError),d=D.of(l),g=U.for(l[1]).getErrorCtor(l)??Error,h=new g(u),y={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[b,R]of d.structIterator()){let P=R.getMergedTraits().xmlName??b,N=a[P]??n[P];y[b]=this.deserializer.readSchema(R,N)}throw this.mixin.decorateServiceException(Object.assign(h,f,{$fault:d.getMergedTraits().error,message:u},y),n)}loadQueryErrorCode(t,r){let s=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(s!==void 0)return s;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Ku,WR=S(()=>{c();Wg();Ku=class extends Es{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var YR,XR,Yg,JR,Gu,Xg=S(()=>{c();YR=_(zu()),XR=_(H());jg();Yg=(e,t)=>$u(e,t).then(r=>{if(r.length){let s;try{s=(0,YR.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let n="#text",o=Object.keys(s)[0],i=s[o];return i[n]&&(i[o]=i[n],delete i[n]),(0,XR.getValueFromTextNode)(i)}return{}}),JR=async(e,t)=>{let r=await Yg(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Gu=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var gt,Jg,Wu,to,Zg=S(()=>{c();gt=_(zu());Ie();K();ke();Jg=_(H()),Wu=_(Mr());ms();Ri();to=class extends st{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let s=D.of(t);if(s.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(s.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Wu.fromBase64)(r);else{this.buffer=this.writeStruct(s,r,void 0);let n=s.getMergedTraits();n.httpPayload&&!n.xmlName&&this.buffer.withName(s.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,s){let n=t.getMergedTraits(),o=t.isMemberSchema()&&!n.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():n.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=gt.XmlNode.of(o),[a,u]=this.getXmlnsAttribute(t,s);for(let[f,d]of Yn(t,r)){let g=r[f];if(g!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??f,this.writeSimple(d,g));continue}if(d.isListSchema())this.writeList(d,g,i,u);else if(d.isMapSchema())this.writeMap(d,g,i,u);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,g,u));else{let h=gt.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,g,h,u),i.addChildNode(h)}}}let{$unknown:l}=r;if(l&&t.isUnionSchema()&&Array.isArray(l)&&Object.keys(r).length===1){let[f,d]=l,g=gt.XmlNode.of(f);if(typeof d!="string")if(r instanceof gt.XmlNode||r instanceof gt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,d,g,u),i.addChildNode(g)}return u&&i.addAttribute(a,u),i}writeList(t,r,s,n){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),u=!!a.sparse,l=!!o.xmlFlattened,[f,d]=this.getXmlnsAttribute(t,n),g=(h,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],h,d);else if(i.isMapSchema())this.writeMap(i,y,h,d);else if(i.isStructSchema()){let b=this.writeStruct(i,y,d);h.addChildNode(b.withName(l?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let b=gt.XmlNode.of(l?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,y,b,d),h.addChildNode(b)}};if(l)for(let h of r)(u||h!=null)&&g(s,h);else{let h=gt.XmlNode.of(o.xmlName??t.getMemberName());d&&h.addAttribute(f,d);for(let y of r)(u||y!=null)&&g(h,y);s.addChildNode(h)}}writeMap(t,r,s,n,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",f=t.getValueSchema(),d=f.getMergedTraits(),g=d.xmlName??"value",h=!!d.sparse,y=!!i.xmlFlattened,[b,R]=this.getXmlnsAttribute(t,n),P=(N,$,L)=>{let q=gt.XmlNode.of(l,$),[ee,Ae]=this.getXmlnsAttribute(a,R);Ae&&q.addAttribute(ee,Ae),N.addChildNode(q);let Q=gt.XmlNode.of(g);f.isListSchema()?this.writeList(f,L,Q,R):f.isMapSchema()?this.writeMap(f,L,Q,R,!0):f.isStructSchema()?Q=this.writeStruct(f,L,R):this.writeSimpleInto(f,L,Q,R),N.addChildNode(Q)};if(y){for(let[N,$]of Object.entries(r))if(h||$!=null){let L=gt.XmlNode.of(i.xmlName??t.getMemberName());P(L,N,$),s.addChildNode(L)}}else{let N;o||(N=gt.XmlNode.of(i.xmlName??t.getMemberName()),R&&N.addAttribute(b,R),s.addChildNode(N));for(let[$,L]of Object.entries(r))if(h||L!=null){let q=gt.XmlNode.of("entry");P(q,$,L),(o?s:N).addChildNode(q)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let s=D.of(t),n=null;if(r&&typeof r=="object")if(s.isBlobSchema())n=(this.serdeContext?.base64Encoder??Wu.toBase64)(r);else if(s.isTimestampSchema()&&r instanceof Date)switch($e(s,this.settings)){case 5:n=r.toISOString().replace(".000Z","Z");break;case 6:n=(0,Jg.dateToUtcString)(r);break;case 7:n=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),n=(0,Jg.dateToUtcString)(r);break}else{if(s.isBigDecimalSchema()&&r)return r instanceof G?r.string:String(r);throw s.isMapSchema()||s.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${s.getName(!0)}`)}if((s.isBooleanSchema()||s.isNumericSchema()||s.isBigIntegerSchema()||s.isBigDecimalSchema())&&(n=String(r)),s.isStringSchema()&&(r===void 0&&s.isIdempotencyToken()?n=(0,je.v4)():n=String(r)),n===null)throw new Error(`Unhandled schema-value pair ${s.getName(!0)}=${r}`);return n}writeSimpleInto(t,r,s,n){let o=this.writeSimple(t,r),i=D.of(t),a=new gt.XmlText(o),[u,l]=this.getXmlnsAttribute(i,n);l&&s.addAttribute(u,l),s.addChildNode(a)}getXmlnsAttribute(t,r){let s=t.getMergedTraits(),[n,o]=s.xmlNamespace??[];return o&&o!==r?[n?`xmlns:${n}`:"xmlns",o]:[void 0,void 0]}}});var ro,ey=S(()=>{c();ms();Vu();Zg();ro=class extends st{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new to(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ss(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Yu,ZR=S(()=>{c();Ie();K();Wn();Xg();ey();Yu=class extends Ht{codec;serializer;deserializer;mixin=new Ot;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new ro(r),this.serializer=new Vt(this.codec.createSerializer(),r),this.deserializer=new zt(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,s){let n=await super.serializeRequest(t,r,s),o=D.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(n.headers["content-type"]=i)}return typeof n.body=="string"&&n.headers["content-type"]===this.getDefaultContentType()&&!n.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(o)&&(n.body='<?xml version="1.0" encoding="UTF-8"?>'+n.body),n}async deserializeResponse(t,r,s){return super.deserializeResponse(t,r,s)}async handleError(t,r,s,n,o){let i=Gu(s,n)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,s,n,o),l=D.of(a),f=n.Error?.message??n.Error?.Message??n.message??n.Message??"Unknown",d=U.for(a[1]).getErrorCtor(a)??Error,g=new d(f);await this.deserializeHttpMessage(a,r,s,n);let h={};for(let[y,b]of l.structIterator()){let R=b.getMergedTraits().xmlName??y,P=n.Error?.[R]??n[R];h[y]=this.codec.createDeserializer().readSchema(b,P)}throw this.mixin.decorateServiceException(Object.assign(g,u,{$fault:l.getMergedTraits().error,message:f},h),n)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var eC={};Ye(eC,{AwsEc2QueryProtocol:()=>Ku,AwsJson1_0Protocol:()=>Bu,AwsJson1_1Protocol:()=>qu,AwsJsonRpcProtocol:()=>gs,AwsQueryProtocol:()=>Es,AwsRestJsonProtocol:()=>ys,AwsRestXmlProtocol:()=>Yu,AwsSmithyRpcV2CborProtocol:()=>Mu,JsonCodec:()=>hs,JsonShapeDeserializer:()=>Zn,JsonShapeSerializer:()=>eo,XmlCodec:()=>ro,XmlShapeDeserializer:()=>Ss,XmlShapeSerializer:()=>to,_toBool:()=>wR,_toNum:()=>_R,_toStr:()=>ER,awsExpectUnion:()=>BR,loadRestJsonErrorCode:()=>Jn,loadRestXmlErrorCode:()=>Gu,parseJsonBody:()=>Ci,parseJsonErrorBody:()=>NR,parseXmlBody:()=>Yg,parseXmlErrorBody:()=>JR});var so=S(()=>{c();SR();bR();$R();LR();Fu();UR();Uu();Hg();Vg();qR();vi();WR();Wg();ZR();ey();Vu();Zg();Xg()});var Ii={};Ye(Ii,{AWSSDKSigV4Signer:()=>Og,AwsEc2QueryProtocol:()=>Ku,AwsJson1_0Protocol:()=>Bu,AwsJson1_1Protocol:()=>qu,AwsJsonRpcProtocol:()=>gs,AwsQueryProtocol:()=>Es,AwsRestJsonProtocol:()=>ys,AwsRestXmlProtocol:()=>Yu,AwsSdkSigV4ASigner:()=>wi,AwsSdkSigV4Signer:()=>rt,AwsSmithyRpcV2CborProtocol:()=>Mu,JsonCodec:()=>hs,JsonShapeDeserializer:()=>Zn,JsonShapeSerializer:()=>eo,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ps,NODE_SIGV4A_CONFIG_OPTIONS:()=>aR,XmlCodec:()=>ro,XmlShapeDeserializer:()=>Ss,XmlShapeSerializer:()=>to,_toBool:()=>wR,_toNum:()=>_R,_toStr:()=>ER,awsExpectUnion:()=>BR,emitWarningIfUnsupportedVersion:()=>ls,getBearerTokenEnvKey:()=>Iu,loadRestJsonErrorCode:()=>Jn,loadRestXmlErrorCode:()=>Gu,parseJsonBody:()=>Ci,parseJsonErrorBody:()=>NR,parseXmlBody:()=>Yg,parseXmlErrorBody:()=>JR,resolveAWSSDKSigV4Config:()=>uR,resolveAwsSdkSigV4AConfig:()=>iR,resolveAwsSdkSigV4Config:()=>Nr,setCredentialFeature:()=>ds,setFeature:()=>T0,setTokenFeature:()=>x0,state:()=>_u,validateSigningProperties:()=>Gn});var _t=S(()=>{c();Pt();Lg();so()});var oo=v(no=>{"use strict";c();var b4=(He(),J(Vs)),T4=Wr(),A4=re(),lr=(_t(),J(Ii)),nC=void 0;function x4(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function R4(e){let t=b4.normalizeProvider(e.userAgentAppId??nC),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let s=await t();if(!x4(s)){let n=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof s!="string"?n?.warn("userAgentAppId must be a string or undefined."):s.length>50&&n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return s}})}var C4=/\d{12}\.ddb/;async function v4(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&lr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?lr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):lr.setFeature(e,"RETRY_MODE_STANDARD","E"):lr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(C4)&&lr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":lr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":lr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":lr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let n=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source){let o=n;o.accountId&&lr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))lr.setFeature(e,i,a)}}var tC="user-agent",ty="x-amz-user-agent",rC=" ",ry="/",I4=/[^!$%&'*+\-.^_`|~\w]/g,P4=/[^!$%&'*+\-.^_`|~\w#]/g,sC="-",O4=1024;function N4(e){let t="";for(let r in e){let s=e[r];if(t.length+s.length+1<=O4){t.length?t+=","+s:t+=s;continue}break}return t}var oC=e=>(t,r)=>async s=>{let{request:n}=s;if(!A4.HttpRequest.isInstance(n))return t(s);let{headers:o}=n,i=r?.userAgent?.map(Xu)||[],a=(await e.defaultUserAgentProvider()).map(Xu);await v4(r,e,s);let u=r;a.push(`m/${N4(Object.assign({},r.__smithy_context?.features,u.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Xu)||[],f=await e.userAgentAppId();f&&a.push(Xu(["app",`${f}`]));let d=T4.getUserAgentPrefix(),g=(d?[d]:[]).concat([...a,...i,...l]).join(rC),h=[...a.filter(y=>y.startsWith("aws-sdk-")),...l].join(rC);return e.runtime!=="browser"?(h&&(o[ty]=o[ty]?`${o[tC]} ${h}`:h),o[tC]=g):o[ty]=g,t({...s,request:n})},Xu=e=>{let t=e[0].split(ry).map(i=>i.replace(I4,sC)).join(ry),r=e[1]?.replace(P4,sC),s=t.indexOf(ry),n=t.substring(0,s),o=t.substring(s+1);return n==="api"&&(o=o.toLowerCase()),[n,o,r].filter(i=>i&&i.length>0).reduce((i,a,u)=>{switch(u){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},iC={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},M4=e=>({applyToStack:t=>{t.add(oC(e),iC)}});no.DEFAULT_UA_APP_ID=nC;no.getUserAgentMiddlewareOptions=iC;no.getUserAgentPlugin=M4;no.resolveUserAgentConfig=R4;no.userAgentMiddleware=oC});function D4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function k4(e){return{schemeId:"smithy.api#noAuth"}}var Pi,aC,cC,uC,sy=S(()=>{c();_t();Pi=_(dt()),aC=async(e,t,r)=>({operation:(0,Pi.getSmithyContext)(t).operation,region:await(0,Pi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});cC=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(k4(e));break}default:t.push(D4(e))}return t},uC=e=>{let t=Nr(e);return Object.assign(t,{authSchemePreference:(0,Pi.normalizeProvider)(e.authSchemePreference??[])})}});var lC,dC,ny=S(()=>{c();lC=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),dC={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var io,Ju=S(()=>{io={name:"@aws-sdk/nested-clients",version:"3.974.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var Oi=v(Js=>{"use strict";c();var fC=Y("os"),oy=Y("process"),L4=oo(),pC={isCrtAvailable:!1},U4=()=>pC.isCrtAvailable?["md/crt-avail"]:null,mC=({serviceId:e,clientVersion:t})=>async r=>{let s=[["aws-sdk-js",t],["ua","2.1"],[`os/${fC.platform()}`,fC.release()],["lang/js"],["md/nodejs",`${oy.versions.node}`]],n=U4();n&&s.push(n),e&&s.push([`api/${e}`,t]),oy.env.AWS_EXECUTION_ENV&&s.push([`exec-env/${oy.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...s,[`app/${o}`]]:[...s]},F4=mC,hC="AWS_SDK_UA_APP_ID",gC="sdk_ua_app_id",B4="sdk-ua-app-id",q4={environmentVariableSelector:e=>e[hC],configFileSelector:e=>e[gC]??e[B4],default:L4.DEFAULT_UA_APP_ID};Js.NODE_APP_ID_CONFIG_OPTIONS=q4;Js.UA_APP_ID_ENV_NAME=hC;Js.UA_APP_ID_INI_NAME=gC;Js.createDefaultUserAgentProvider=mC;Js.crtAvailability=pC;Js.defaultUserAgent=F4});var ao=v(EC=>{"use strict";c();var iy=Et(),j4=Te(),H4=Y("buffer"),yC=Y("crypto"),ay=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(j4.toUint8Array(SC(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?yC.createHmac(this.algorithmIdentifier,SC(this.secret)):yC.createHash(this.algorithmIdentifier)}};function SC(e,t){return H4.Buffer.isBuffer(e)?e:typeof e=="string"?iy.fromString(e,t):ArrayBuffer.isView(e)?iy.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):iy.fromArrayBuffer(e)}EC.Hash=ay});var co=v(wC=>{"use strict";c();var cy=Y("node:fs"),z4=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof cy.ReadStream){if(e.path!=null)return cy.lstatSync(e.path).size;if(typeof e.fd=="number")return cy.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};wC.calculateBodyLength=z4});var uo=v(AC=>{"use strict";c();var V4=et(),_C=Gt(),Q4=Qe(),K4="AWS_EXECUTION_ENV",bC="AWS_REGION",TC="AWS_DEFAULT_REGION",G4="AWS_EC2_METADATA_DISABLED",W4=["in-region","cross-region","mobile","standard","legacy"],Y4="/latest/meta-data/placement/region",X4="AWS_DEFAULTS_MODE",J4="defaults_mode",Z4={environmentVariableSelector:e=>e[X4],configFileSelector:e=>e[J4],default:"legacy"},ez=({region:e=_C.loadConfig(V4.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=_C.loadConfig(Z4)}={})=>Q4.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return tz(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${W4.join(", ")}, got ${r}`)}}),tz=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await rz();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},rz=async()=>{if(process.env[K4]&&(process.env[bC]||process.env[TC]))return process.env[bC]??process.env[TC];if(!process.env[G4])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>_(Si())),r=await e();return(await t({...r,path:Y4})).toString()}catch{}};AC.resolveDefaultsModeConfig=ez});var DC,Mt,Dt,po,xC,Ni,lo,fo,Dr,uy,ly,RC,CC,vC,kC,$C,Nt,IC,LC,PC,OC,NC,MC,sz,UC,FC=S(()=>{c();DC="required",Mt="fn",Dt="argv",po="ref",xC="isSet",Ni="booleanEquals",lo="error",fo="endpoint",Dr="tree",uy="PartitionResult",ly="getAttr",RC={[DC]:!1,type:"string"},CC={[DC]:!0,default:!1,type:"boolean"},vC={[po]:"Endpoint"},kC={[Mt]:Ni,[Dt]:[{[po]:"UseFIPS"},!0]},$C={[Mt]:Ni,[Dt]:[{[po]:"UseDualStack"},!0]},Nt={},IC={[Mt]:ly,[Dt]:[{[po]:uy},"supportsFIPS"]},LC={[po]:uy},PC={[Mt]:Ni,[Dt]:[!0,{[Mt]:ly,[Dt]:[LC,"supportsDualStack"]}]},OC=[kC],NC=[$C],MC=[{[po]:"Region"}],sz={version:"1.0",parameters:{Region:RC,UseDualStack:CC,UseFIPS:CC,Endpoint:RC},rules:[{conditions:[{[Mt]:xC,[Dt]:[vC]}],rules:[{conditions:OC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:lo},{conditions:NC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:lo},{endpoint:{url:vC,properties:Nt,headers:Nt},type:fo}],type:Dr},{conditions:[{[Mt]:xC,[Dt]:MC}],rules:[{conditions:[{[Mt]:"aws.partition",[Dt]:MC,assign:uy}],rules:[{conditions:[kC,$C],rules:[{conditions:[{[Mt]:Ni,[Dt]:[!0,IC]},PC],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:fo}],type:Dr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:lo}],type:Dr},{conditions:OC,rules:[{conditions:[{[Mt]:Ni,[Dt]:[IC,!0]}],rules:[{conditions:[{[Mt]:"stringEquals",[Dt]:[{[Mt]:ly,[Dt]:[LC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Nt,headers:Nt},type:fo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:fo}],type:Dr},{error:"FIPS is enabled but this partition does not support FIPS",type:lo}],type:Dr},{conditions:NC,rules:[{conditions:[PC],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:fo}],type:Dr},{error:"DualStack is enabled but this partition does not support DualStack",type:lo}],type:Dr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:fo}],type:Dr}],type:Dr},{error:"Invalid Configuration: Missing Region",type:lo}]},UC=sz});var BC,mo,nz,qC,jC=S(()=>{c();BC=_(Wr()),mo=_(Gr());FC();nz=new mo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),qC=(e,t={})=>nz.get(e,()=>(0,mo.resolveEndpoint)(UC,{endpointParams:e,logger:t.logger}));mo.customEndpointFunctions.aws=BC.awsEndpointFunctions});var HC,zC,Zu,el,VC,QC=S(()=>{c();_t();so();He();HC=_(H()),zC=_(Ar()),Zu=_(Mr()),el=_(Te());sy();jC();VC=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Zu.fromBase64,base64Encoder:e?.base64Encoder??Zu.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??qC,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??cC,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:e?.logger??new HC.NoOpLogger,protocol:e?.protocol??ys,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??zC.parseUrl,utf8Decoder:e?.utf8Decoder??el.fromUtf8,utf8Encoder:e?.utf8Encoder??el.toUtf8})});var tl,_s,KC,rl,ws,sl,nl,GC,WC,YC,XC,JC=S(()=>{c();Ju();_t();tl=_(Oi()),_s=_(et()),KC=_(ao()),rl=_(Wt()),ws=_(Gt()),sl=_(Vr()),nl=_(H()),GC=_(co()),WC=_(uo()),YC=_(Xs());QC();XC=e=>{(0,nl.emitWarningIfUnsupportedVersion)(process.version);let t=(0,WC.resolveDefaultsModeConfig)(e),r=()=>t().then(nl.loadConfigsForDefaultMode),s=VC(e);ls(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ws.loadConfig)(ps,n),bodyLengthChecker:e?.bodyLengthChecker??GC.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,tl.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:io.version}),maxAttempts:e?.maxAttempts??(0,ws.loadConfig)(rl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ws.loadConfig)(_s.NODE_REGION_CONFIG_OPTIONS,{..._s.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:sl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ws.loadConfig)({...rl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||YC.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??KC.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??sl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ws.loadConfig)(_s.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,ws.loadConfig)(_s.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,ws.loadConfig)(tl.NODE_APP_ID_CONFIG_OPTIONS,n)}}});var ev=v(ho=>{"use strict";c();Object.defineProperty(ho,"__esModule",{value:!0});ho.warning=void 0;ho.stsRegionDefaultResolver=iz;var ZC=et(),oz=Gt();function iz(e={}){return(0,oz.loadConfig)({...ZC.NODE_REGION_CONFIG_OPTIONS,async default(){return ho.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...ZC.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}ho.warning={silence:!1}});var go=v(dr=>{"use strict";c();var tv=ev(),Mi=et(),az=e=>({setRegion(t){e.region=t},region(){return e.region}}),cz=e=>({region:e.region()});Object.defineProperty(dr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Mi.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(dr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Mi.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(dr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Mi.REGION_ENV_NAME}});Object.defineProperty(dr,"REGION_INI_NAME",{enumerable:!0,get:function(){return Mi.REGION_INI_NAME}});Object.defineProperty(dr,"resolveRegionConfig",{enumerable:!0,get:function(){return Mi.resolveRegionConfig}});dr.getAwsRegionExtensionConfiguration=az;dr.resolveAwsRegionExtensionConfiguration=cz;Object.keys(tv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(dr,e)&&Object.defineProperty(dr,e,{enumerable:!0,get:function(){return tv[e]}})})});var rv,sv,nv=S(()=>{c();rv=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},sv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ol,il,al,ov,iv=S(()=>{c();ol=_(go()),il=_(re()),al=_(H());nv();ov=(e,t)=>{let r=Object.assign((0,ol.getAwsRegionExtensionConfiguration)(e),(0,al.getDefaultExtensionConfiguration)(e),(0,il.getHttpHandlerExtensionConfiguration)(e),rv(e));return t.forEach(s=>s.configure(r)),Object.assign(e,(0,ol.resolveAwsRegionExtensionConfiguration)(r),(0,al.resolveDefaultRuntimeConfig)(r),(0,il.resolveHttpHandlerRuntimeConfig)(r),sv(r))}});var cl,av,cv,ul,uv,lv,dv,ll,dy,Di,fy=S(()=>{c();cl=_(bi()),av=_(Ti()),cv=_(Ai()),ul=_(oo()),uv=_(et());He();K();lv=_(Hn()),dv=_(cr()),ll=_(Wt()),dy=_(H());sy();ny();JC();iv();Di=class extends dy.Client{config;constructor(...[t]){let r=XC(t||{});super(r),this.initConfig=r;let s=lC(r),n=(0,ul.resolveUserAgentConfig)(s),o=(0,ll.resolveRetryConfig)(n),i=(0,uv.resolveRegionConfig)(o),a=(0,cl.resolveHostHeaderConfig)(i),u=(0,dv.resolveEndpointConfig)(a),l=uC(u),f=ov(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(Ls(this.config)),this.middlewareStack.use((0,ul.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ll.getRetryPlugin)(this.config)),this.middlewareStack.use((0,lv.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,cl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,av.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,cv.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Hs(this.config,{httpAuthSchemeParametersProvider:aC,identityProviderConfigProvider:async d=>new Tr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(zs(this.config))}destroy(){super.destroy()}}});var fv,ze,dl=S(()=>{c();fv=_(H()),ze=class e extends fv.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ki,$i,Li,Ui,Fi,Bi,qi,ji,Hi,zi,Vi,py=S(()=>{c();dl();ki=class e extends ze{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},$i=class e extends ze{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Li=class e extends ze{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ui=class e extends ze{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Fi=class e extends ze{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Bi=class e extends ze{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qi=class e extends ze{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},ji=class e extends ze{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Hi=class e extends ze{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zi=class e extends ze{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vi=class e extends ze{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var uz,lz,dz,fz,pz,mz,hz,gz,yz,Sz,Ez,wz,_z,bz,Tz,Az,xz,Rz,Cz,vz,fr,Iz,Pz,Oz,Nz,Mz,Me,Dz,Yt,kz,$z,Xt,Lz,pv,mv,Uz,Fz,Bz,hv,qz,le,jz,Hz,zz,Vz,gv,yv,Sv,Ev,wv,_v,bv,Tv,Av,xv,Rv,Cv,vv,Iv,Pv,my,hy=S(()=>{c();K();py();dl();uz="AccessDeniedException",lz="AuthorizationPendingException",dz="AccessToken",fz="ClientSecret",pz="CreateToken",mz="CreateTokenRequest",hz="CreateTokenResponse",gz="CodeVerifier",yz="ExpiredTokenException",Sz="InvalidClientException",Ez="InvalidGrantException",wz="InvalidRequestException",_z="InternalServerException",bz="InvalidScopeException",Tz="IdToken",Az="RefreshToken",xz="SlowDownException",Rz="UnauthorizedClientException",Cz="UnsupportedGrantTypeException",vz="accessToken",fr="client",Iz="clientId",Pz="clientSecret",Oz="codeVerifier",Nz="code",Mz="deviceCode",Me="error",Dz="expiresIn",Yt="error_description",kz="grantType",$z="http",Xt="httpError",Lz="idToken",pv="reason",mv="refreshToken",Uz="redirectUri",Fz="scope",Bz="server",hv="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",qz="tokenType",le="com.amazonaws.ssooidc",jz=[0,le,dz,8,0],Hz=[0,le,fz,8,0],zz=[0,le,gz,8,0],Vz=[0,le,Tz,8,0],gv=[0,le,Az,8,0],yv=[-3,le,uz,{[Me]:fr,[Xt]:400},[Me,pv,Yt],[0,0,0]];U.for(le).registerError(yv,ki);Sv=[-3,le,lz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Sv,$i);Ev=[3,le,mz,0,[Iz,Pz,kz,Mz,Nz,mv,Fz,Uz,Oz],[0,[()=>Hz,0],0,0,0,[()=>gv,0],64,0,[()=>zz,0]],3],wv=[3,le,hz,0,[vz,qz,Dz,mv,Lz],[[()=>jz,0],0,1,[()=>gv,0],[()=>Vz,0]]],_v=[-3,le,yz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(_v,Li);bv=[-3,le,_z,{[Me]:Bz,[Xt]:500},[Me,Yt],[0,0]];U.for(le).registerError(bv,Ui);Tv=[-3,le,Sz,{[Me]:fr,[Xt]:401},[Me,Yt],[0,0]];U.for(le).registerError(Tv,Fi);Av=[-3,le,Ez,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Av,Bi);xv=[-3,le,wz,{[Me]:fr,[Xt]:400},[Me,pv,Yt],[0,0,0]];U.for(le).registerError(xv,qi);Rv=[-3,le,bz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Rv,ji);Cv=[-3,le,xz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Cv,Hi);vv=[-3,le,Rz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(vv,zi);Iv=[-3,le,Cz,{[Me]:fr,[Xt]:400},[Me,Yt],[0,0]];U.for(le).registerError(Iv,Vi);Pv=[-3,hv,"SSOOIDCServiceException",0,[],[]];U.for(hv).registerError(Pv,ze);my=[9,le,pz,{[$z]:["POST","/token",200]},()=>Ev,()=>wv]});var Ov,gy,Qi,yy=S(()=>{c();Ov=_(cr()),gy=_(H());ny();hy();Qi=class extends gy.Command.classBuilder().ep(dC).m(function(t,r,s,n){return[(0,Ov.getEndpointPlugin)(s,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(my).build(){}});var Nv,Qz,fl,Mv=S(()=>{c();Nv=_(H());yy();fy();Qz={CreateTokenCommand:Qi},fl=class extends Di{};(0,Nv.createAggregatedClient)(Qz,fl)});var Dv=S(()=>{c();yy()});var Kz,Gz,kv=S(()=>{c();Kz={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Gz={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var $v=S(()=>{c()});var Sy={};Ye(Sy,{$Command:()=>gy.Command,AccessDeniedException:()=>ki,AccessDeniedException$:()=>yv,AccessDeniedExceptionReason:()=>Kz,AuthorizationPendingException:()=>$i,AuthorizationPendingException$:()=>Sv,CreateToken$:()=>my,CreateTokenCommand:()=>Qi,CreateTokenRequest$:()=>Ev,CreateTokenResponse$:()=>wv,ExpiredTokenException:()=>Li,ExpiredTokenException$:()=>_v,InternalServerException:()=>Ui,InternalServerException$:()=>bv,InvalidClientException:()=>Fi,InvalidClientException$:()=>Tv,InvalidGrantException:()=>Bi,InvalidGrantException$:()=>Av,InvalidRequestException:()=>qi,InvalidRequestException$:()=>xv,InvalidRequestExceptionReason:()=>Gz,InvalidScopeException:()=>ji,InvalidScopeException$:()=>Rv,SSOOIDC:()=>fl,SSOOIDCClient:()=>Di,SSOOIDCServiceException:()=>ze,SSOOIDCServiceException$:()=>Pv,SlowDownException:()=>Hi,SlowDownException$:()=>Cv,UnauthorizedClientException:()=>zi,UnauthorizedClientException$:()=>vv,UnsupportedGrantTypeException:()=>Vi,UnsupportedGrantTypeException$:()=>Iv,__Client:()=>dy.Client});var Ey=S(()=>{c();fy();Mv();Dv();hy();kv();py();$v();dl()});var Bv=v(Gi=>{"use strict";c();var Wz=(Pt(),J(Or)),Yz=(Lg(),J(fR)),Rt=Qe(),Ki=ar(),Xz=Y("fs"),Jz=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Rt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=Yz.getBearerTokenEnvKey(t);if(!(r in process.env))throw new Rt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let s={token:process.env[r]};return Wz.setTokenFeature(s,"BEARER_SERVICE_ENV_VARS","3"),s},Zz=5*60*1e3,wy="To refresh this SSO session run 'aws sso login' with the corresponding profile.",eV=async(e,t={},r)=>{let{SSOOIDCClient:s}=await Promise.resolve().then(()=>(Ey(),Sy)),n=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new s(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))},tV=async(e,t,r={},s)=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Ey(),Sy));return(await eV(t,r,s)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},Lv=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Rt.TokenProviderError(`Token is expired. ${wy}`,!1)},Zs=(e,t,r=!1)=>{if(typeof t>"u")throw new Rt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${wy}`,!1)},{writeFile:rV}=Xz.promises,sV=(e,t)=>{let r=Ki.getSSOTokenFilepath(e),s=JSON.stringify(t,null,2);return rV(r,s)},Uv=new Date(0),Fv=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Ki.parseKnownFiles(e),s=Ki.getProfileName({profile:e.profile??t?.profile}),n=r[s];if(n){if(!n.sso_session)throw new Rt.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new Rt.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=n.sso_session,a=(await Ki.loadSsoSessionData(e))[o];if(!a)throw new Rt.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new Rt.TokenProviderError(`Sso session '${o}' is missing required property '${h}'.`,!1);a.sso_start_url;let u=a.sso_region,l;try{l=await Ki.getSSOTokenFromFile(o)}catch{throw new Rt.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${wy}`,!1)}Zs("accessToken",l.accessToken),Zs("expiresAt",l.expiresAt);let{accessToken:f,expiresAt:d}=l,g={token:f,expiration:new Date(d)};if(g.expiration.getTime()-Date.now()>Zz)return g;if(Date.now()-Uv.getTime()<30*1e3)return Lv(g),g;Zs("clientId",l.clientId,!0),Zs("clientSecret",l.clientSecret,!0),Zs("refreshToken",l.refreshToken,!0);try{Uv.setTime(Date.now());let h=await tV(l,u,e,t);Zs("accessToken",h.accessToken),Zs("expiresIn",h.expiresIn);let y=new Date(Date.now()+h.expiresIn*1e3);try{await sV(o,{...l,accessToken:h.accessToken,expiresAt:y.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:y}}catch{return Lv(g),g}},nV=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Rt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},oV=(e={})=>Rt.memoize(Rt.chain(Fv(e),async()=>{throw new Rt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Gi.fromEnvSigningName=Jz;Gi.fromSso=Fv;Gi.fromStatic=nV;Gi.nodeProvider=oV});var by=v(bs=>{"use strict";c();Object.defineProperty(bs,"__esModule",{value:!0});bs.resolveHttpAuthSchemeConfig=bs.defaultSSOHttpAuthSchemeProvider=bs.defaultSSOHttpAuthSchemeParametersProvider=void 0;var iV=(_t(),J(Ii)),_y=dt(),aV=async(e,t,r)=>({operation:(0,_y.getSmithyContext)(t).operation,region:await(0,_y.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});bs.defaultSSOHttpAuthSchemeParametersProvider=aV;function cV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function pl(e){return{schemeId:"smithy.api#noAuth"}}var uV=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(pl(e));break}case"ListAccountRoles":{t.push(pl(e));break}case"ListAccounts":{t.push(pl(e));break}case"Logout":{t.push(pl(e));break}default:t.push(cV(e))}return t};bs.defaultSSOHttpAuthSchemeProvider=uV;var lV=e=>{let t=(0,iV.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,_y.normalizeProvider)(e.authSchemePreference??[])})};bs.resolveHttpAuthSchemeConfig=lV});var qv=v((kle,dV)=>{dV.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.974.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var rI=v(ml=>{"use strict";c();Object.defineProperty(ml,"__esModule",{value:!0});ml.ruleSet=void 0;var Jv="required",$t="fn",Lt="argv",Eo="ref",jv=!0,Hv="isSet",Wi="booleanEquals",yo="error",So="endpoint",kr="tree",Ty="PartitionResult",Ay="getAttr",zv={[Jv]:!1,type:"string"},Vv={[Jv]:!0,default:!1,type:"boolean"},Qv={[Eo]:"Endpoint"},Zv={[$t]:Wi,[Lt]:[{[Eo]:"UseFIPS"},!0]},eI={[$t]:Wi,[Lt]:[{[Eo]:"UseDualStack"},!0]},kt={},Kv={[$t]:Ay,[Lt]:[{[Eo]:Ty},"supportsFIPS"]},tI={[Eo]:Ty},Gv={[$t]:Wi,[Lt]:[!0,{[$t]:Ay,[Lt]:[tI,"supportsDualStack"]}]},Wv=[Zv],Yv=[eI],Xv=[{[Eo]:"Region"}],fV={version:"1.0",parameters:{Region:zv,UseDualStack:Vv,UseFIPS:Vv,Endpoint:zv},rules:[{conditions:[{[$t]:Hv,[Lt]:[Qv]}],rules:[{conditions:Wv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:yo},{conditions:Yv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:yo},{endpoint:{url:Qv,properties:kt,headers:kt},type:So}],type:kr},{conditions:[{[$t]:Hv,[Lt]:Xv}],rules:[{conditions:[{[$t]:"aws.partition",[Lt]:Xv,assign:Ty}],rules:[{conditions:[Zv,eI],rules:[{conditions:[{[$t]:Wi,[Lt]:[jv,Kv]},Gv],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:kt,headers:kt},type:So}],type:kr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:yo}],type:kr},{conditions:Wv,rules:[{conditions:[{[$t]:Wi,[Lt]:[Kv,jv]}],rules:[{conditions:[{[$t]:"stringEquals",[Lt]:[{[$t]:Ay,[Lt]:[tI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:kt,headers:kt},type:So},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:kt,headers:kt},type:So}],type:kr},{error:"FIPS is enabled but this partition does not support FIPS",type:yo}],type:kr},{conditions:Yv,rules:[{conditions:[Gv],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:kt,headers:kt},type:So}],type:kr},{error:"DualStack is enabled but this partition does not support DualStack",type:yo}],type:kr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:kt,headers:kt},type:So}],type:kr}],type:kr},{error:"Invalid Configuration: Missing Region",type:yo}]};ml.ruleSet=fV});var sI=v(hl=>{"use strict";c();Object.defineProperty(hl,"__esModule",{value:!0});hl.defaultEndpointResolver=void 0;var pV=Wr(),xy=Gr(),mV=rI(),hV=new xy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),gV=(e,t={})=>hV.get(e,()=>(0,xy.resolveEndpoint)(mV.ruleSet,{endpointParams:e,logger:t.logger}));hl.defaultEndpointResolver=gV;xy.customEndpointFunctions.aws=pV.awsEndpointFunctions});var iI=v(gl=>{"use strict";c();Object.defineProperty(gl,"__esModule",{value:!0});gl.getRuntimeConfig=void 0;var yV=(_t(),J(Ii)),SV=(so(),J(eC)),EV=(He(),J(Vs)),wV=H(),_V=Ar(),nI=Mr(),oI=Te(),bV=by(),TV=sI(),AV=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??nI.fromBase64,base64Encoder:e?.base64Encoder??nI.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??TV.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??bV.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new yV.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new EV.NoAuthSigner}],logger:e?.logger??new wV.NoOpLogger,protocol:e?.protocol??SV.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??_V.parseUrl,utf8Decoder:e?.utf8Decoder??oI.fromUtf8,utf8Encoder:e?.utf8Encoder??oI.toUtf8});gl.getRuntimeConfig=AV});var fI=v(Sl=>{"use strict";c();Object.defineProperty(Sl,"__esModule",{value:!0});Sl.getRuntimeConfig=void 0;var xV=(qs(),J(Bs)),RV=xV.__importDefault(qv()),aI=(_t(),J(Ii)),cI=Oi(),yl=et(),CV=ao(),uI=Wt(),en=Gt(),lI=Vr(),dI=H(),vV=co(),IV=uo(),PV=Xs(),OV=iI(),NV=e=>{(0,dI.emitWarningIfUnsupportedVersion)(process.version);let t=(0,IV.resolveDefaultsModeConfig)(e),r=()=>t().then(dI.loadConfigsForDefaultMode),s=(0,OV.getRuntimeConfig)(e);(0,aI.emitWarningIfUnsupportedVersion)(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,en.loadConfig)(aI.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,n),bodyLengthChecker:e?.bodyLengthChecker??vV.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,cI.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:RV.default.version}),maxAttempts:e?.maxAttempts??(0,en.loadConfig)(uI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,en.loadConfig)(yl.NODE_REGION_CONFIG_OPTIONS,{...yl.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:lI.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,en.loadConfig)({...uI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||PV.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??CV.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??lI.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,en.loadConfig)(yl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,en.loadConfig)(yl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,en.loadConfig)(cI.NODE_APP_ID_CONFIG_OPTIONS,n)}};Sl.getRuntimeConfig=NV});var zI=v(se=>{"use strict";c();var pI=bi(),MV=Ti(),DV=Ai(),mI=oo(),kV=et(),Yi=(He(),J(Vs)),_o=(K(),J(ac)),$V=Hn(),Zi=cr(),hI=Wt(),Jt=H(),gI=by(),LV=fI(),yI=go(),SI=re(),UV=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Rl={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},FV=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},BV=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),qV=(e,t)=>{let r=Object.assign(yI.getAwsRegionExtensionConfiguration(e),Jt.getDefaultExtensionConfiguration(e),SI.getHttpHandlerExtensionConfiguration(e),FV(e));return t.forEach(s=>s.configure(r)),Object.assign(e,yI.resolveAwsRegionExtensionConfiguration(r),Jt.resolveDefaultRuntimeConfig(r),SI.resolveHttpHandlerRuntimeConfig(r),BV(r))},wo=class extends Jt.Client{config;constructor(...[t]){let r=LV.getRuntimeConfig(t||{});super(r),this.initConfig=r;let s=UV(r),n=mI.resolveUserAgentConfig(s),o=hI.resolveRetryConfig(n),i=kV.resolveRegionConfig(o),a=pI.resolveHostHeaderConfig(i),u=Zi.resolveEndpointConfig(a),l=gI.resolveHttpAuthSchemeConfig(u),f=qV(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(_o.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(mI.getUserAgentPlugin(this.config)),this.middlewareStack.use(hI.getRetryPlugin(this.config)),this.middlewareStack.use($V.getContentLengthPlugin(this.config)),this.middlewareStack.use(pI.getHostHeaderPlugin(this.config)),this.middlewareStack.use(MV.getLoggerPlugin(this.config)),this.middlewareStack.use(DV.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Yi.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:gI.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async d=>new Yi.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Yi.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Ts=class e extends Jt.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},El=class e extends Ts{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wl=class e extends Ts{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_l=class e extends Ts{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bl=class e extends Ts{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jV="AccountInfo",HV="AccountListType",zV="AccessTokenType",VV="GetRoleCredentials",QV="GetRoleCredentialsRequest",KV="GetRoleCredentialsResponse",GV="InvalidRequestException",WV="Logout",YV="ListAccounts",XV="ListAccountsRequest",JV="ListAccountRolesRequest",ZV="ListAccountRolesResponse",e3="ListAccountsResponse",t3="ListAccountRoles",r3="LogoutRequest",s3="RoleCredentials",n3="RoleInfo",o3="RoleListType",i3="ResourceNotFoundException",a3="SecretAccessKeyType",c3="SessionTokenType",u3="TooManyRequestsException",l3="UnauthorizedException",Cl="accountId",d3="accessKeyId",f3="accountList",p3="accountName",vl="accessToken",EI="account_id",Il="client",Pl="error",m3="emailAddress",h3="expiration",Ol="http",Nl="httpError",Ml="httpHeader",tn="httpQuery",Dl="message",wI="maxResults",_I="max_result",kl="nextToken",bI="next_token",g3="roleCredentials",y3="roleList",TI="roleName",S3="role_name",AI="smithy.ts.sdk.synthetic.com.amazonaws.sso",E3="secretAccessKey",w3="sessionToken",$l="x-amz-sso_bearer_token",_e="com.amazonaws.sso",Ll=[0,_e,zV,8,0],_3=[0,_e,a3,8,0],b3=[0,_e,c3,8,0],xI=[3,_e,jV,0,[Cl,p3,m3],[0,0,0]],RI=[3,_e,QV,0,[TI,Cl,vl],[[0,{[tn]:S3}],[0,{[tn]:EI}],[()=>Ll,{[Ml]:$l}]],3],CI=[3,_e,KV,0,[g3],[[()=>kI,0]]],vI=[-3,_e,GV,{[Pl]:Il,[Nl]:400},[Dl],[0]];_o.TypeRegistry.for(_e).registerError(vI,El);var II=[3,_e,JV,0,[vl,Cl,kl,wI],[[()=>Ll,{[Ml]:$l}],[0,{[tn]:EI}],[0,{[tn]:bI}],[1,{[tn]:_I}]],2],PI=[3,_e,ZV,0,[kl,y3],[0,()=>x3]],OI=[3,_e,XV,0,[vl,kl,wI],[[()=>Ll,{[Ml]:$l}],[0,{[tn]:bI}],[1,{[tn]:_I}]],1],NI=[3,_e,e3,0,[kl,f3],[0,()=>A3]],MI=[3,_e,r3,0,[vl],[[()=>Ll,{[Ml]:$l}]],1],DI=[-3,_e,i3,{[Pl]:Il,[Nl]:404},[Dl],[0]];_o.TypeRegistry.for(_e).registerError(DI,wl);var kI=[3,_e,s3,0,[d3,E3,w3,h3],[0,[()=>_3,0],[()=>b3,0],1]],$I=[3,_e,n3,0,[TI,Cl],[0,0]],LI=[-3,_e,u3,{[Pl]:Il,[Nl]:429},[Dl],[0]];_o.TypeRegistry.for(_e).registerError(LI,_l);var UI=[-3,_e,l3,{[Pl]:Il,[Nl]:401},[Dl],[0]];_o.TypeRegistry.for(_e).registerError(UI,bl);var T3="unit",FI=[-3,AI,"SSOServiceException",0,[],[]];_o.TypeRegistry.for(AI).registerError(FI,Ts);var A3=[1,_e,HV,0,()=>xI],x3=[1,_e,o3,0,()=>$I],BI=[9,_e,VV,{[Ol]:["GET","/federation/credentials",200]},()=>RI,()=>CI],qI=[9,_e,t3,{[Ol]:["GET","/assignment/roles",200]},()=>II,()=>PI],jI=[9,_e,YV,{[Ol]:["GET","/assignment/accounts",200]},()=>OI,()=>NI],HI=[9,_e,WV,{[Ol]:["POST","/logout",200]},()=>MI,()=>T3],Tl=class extends Jt.Command.classBuilder().ep(Rl).m(function(t,r,s,n){return[Zi.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(BI).build(){},Xi=class extends Jt.Command.classBuilder().ep(Rl).m(function(t,r,s,n){return[Zi.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(qI).build(){},Ji=class extends Jt.Command.classBuilder().ep(Rl).m(function(t,r,s,n){return[Zi.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(jI).build(){},Al=class extends Jt.Command.classBuilder().ep(Rl).m(function(t,r,s,n){return[Zi.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(HI).build(){},R3={GetRoleCredentialsCommand:Tl,ListAccountRolesCommand:Xi,ListAccountsCommand:Ji,LogoutCommand:Al},xl=class extends wo{};Jt.createAggregatedClient(R3,xl);var C3=Yi.createPaginator(wo,Xi,"nextToken","nextToken","maxResults"),v3=Yi.createPaginator(wo,Ji,"nextToken","nextToken","maxResults");Object.defineProperty(se,"$Command",{enumerable:!0,get:function(){return Jt.Command}});Object.defineProperty(se,"__Client",{enumerable:!0,get:function(){return Jt.Client}});se.AccountInfo$=xI;se.GetRoleCredentials$=BI;se.GetRoleCredentialsCommand=Tl;se.GetRoleCredentialsRequest$=RI;se.GetRoleCredentialsResponse$=CI;se.InvalidRequestException=El;se.InvalidRequestException$=vI;se.ListAccountRoles$=qI;se.ListAccountRolesCommand=Xi;se.ListAccountRolesRequest$=II;se.ListAccountRolesResponse$=PI;se.ListAccounts$=jI;se.ListAccountsCommand=Ji;se.ListAccountsRequest$=OI;se.ListAccountsResponse$=NI;se.Logout$=HI;se.LogoutCommand=Al;se.LogoutRequest$=MI;se.ResourceNotFoundException=wl;se.ResourceNotFoundException$=DI;se.RoleCredentials$=kI;se.RoleInfo$=$I;se.SSO=xl;se.SSOClient=wo;se.SSOServiceException=Ts;se.SSOServiceException$=FI;se.TooManyRequestsException=_l;se.TooManyRequestsException$=LI;se.UnauthorizedException=bl;se.UnauthorizedException$=UI;se.paginateListAccountRoles=C3;se.paginateListAccounts=v3});var QI=v(Ry=>{"use strict";c();var VI=zI();Object.defineProperty(Ry,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return VI.GetRoleCredentialsCommand}});Object.defineProperty(Ry,"SSOClient",{enumerable:!0,get:function(){return VI.SSOClient}})});var Cy=v(Fl=>{"use strict";c();var Zt=Qe(),Ul=ar(),KI=(Pt(),J(Or)),I3=Bv(),WI=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ea=!1,GI=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:s,ssoRoleName:n,ssoClient:o,clientConfig:i,parentClientConfig:a,callerClientConfig:u,profile:l,filepath:f,configFilepath:d,ignoreCache:g,logger:h})=>{let y,b="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let St=await I3.fromSso({profile:l,filepath:f,configFilepath:d,ignoreCache:g})();y={accessToken:St.token,expiresAt:new Date(St.expiration).toISOString()}}catch(St){throw new Zt.CredentialsProviderError(St.message,{tryNextLink:ea,logger:h})}else try{y=await Ul.getSSOTokenFromFile(e)}catch{throw new Zt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${b}`,{tryNextLink:ea,logger:h})}if(new Date(y.expiresAt).getTime()-Date.now()<=0)throw new Zt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${b}`,{tryNextLink:ea,logger:h});let{accessToken:R}=y,{SSOClient:P,GetRoleCredentialsCommand:N}=await Promise.resolve().then(function(){return QI()}),$=o||new P(Object.assign({},i??{},{logger:i?.logger??u?.logger??a?.logger,region:i?.region??s,userAgentAppId:i?.userAgentAppId??u?.userAgentAppId??a?.userAgentAppId})),L;try{L=await $.send(new N({accountId:r,roleName:n,accessToken:R}))}catch(St){throw new Zt.CredentialsProviderError(St,{tryNextLink:ea,logger:h})}let{roleCredentials:{accessKeyId:q,secretAccessKey:ee,sessionToken:Ae,expiration:Q,credentialScope:ne,accountId:Ee}={}}=L;if(!q||!ee||!Ae||!Q)throw new Zt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ea,logger:h});let Ve={accessKeyId:q,secretAccessKey:ee,sessionToken:Ae,expiration:new Date(Q),...ne&&{credentialScope:ne},...Ee&&{accountId:Ee}};return t?KI.setCredentialFeature(Ve,"CREDENTIALS_SSO","s"):KI.setCredentialFeature(Ve,"CREDENTIALS_SSO_LEGACY","u"),Ve},YI=(e,t)=>{let{sso_start_url:r,sso_account_id:s,sso_region:n,sso_role_name:o}=e;if(!r||!s||!n||!o)throw new Zt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},P3=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:s,ssoRegion:n,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,u=Ul.getProfileName({profile:e.profile??t?.profile});if(!r&&!s&&!n&&!o&&!i){let f=(await Ul.parseKnownFiles(e))[u];if(!f)throw new Zt.CredentialsProviderError(`Profile ${u} was not found.`,{logger:e.logger});if(!WI(f))throw new Zt.CredentialsProviderError(`Profile ${u} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let P=(await Ul.loadSsoSessionData(e))[f.sso_session],N=` configurations in profile ${u} and sso-session ${f.sso_session}`;if(n&&n!==P.sso_region)throw new Zt.CredentialsProviderError("Conflicting SSO region"+N,{tryNextLink:!1,logger:e.logger});if(r&&r!==P.sso_start_url)throw new Zt.CredentialsProviderError("Conflicting SSO start_url"+N,{tryNextLink:!1,logger:e.logger});f.sso_region=P.sso_region,f.sso_start_url=P.sso_start_url}let{sso_start_url:d,sso_account_id:g,sso_region:h,sso_role_name:y,sso_session:b}=YI(f,e.logger);return GI({ssoStartUrl:d,ssoSession:b,ssoAccountId:g,ssoRegion:h,ssoRoleName:y,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:u,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!s||!n||!o)throw new Zt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return GI({ssoStartUrl:r,ssoSession:i,ssoAccountId:s,ssoRegion:n,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:u,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Fl.fromSSO=P3;Fl.isSsoProfile=WI;Fl.validateSsoProfile=YI});function O3(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function N3(e){return{schemeId:"smithy.api#noAuth"}}var ta,XI,JI,ZI,vy=S(()=>{c();_t();ta=_(dt()),XI=async(e,t,r)=>({operation:(0,ta.getSmithyContext)(t).operation,region:await(0,ta.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});JI=e=>{let t=[];switch(e.operation){case"CreateOAuth2Token":{t.push(N3(e));break}default:t.push(O3(e))}return t},ZI=e=>{let t=Nr(e);return Object.assign(t,{authSchemePreference:(0,ta.normalizeProvider)(e.authSchemePreference??[])})}});var eP,tP,Iy=S(()=>{c();eP=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),tP={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var uP,ot,it,$r,rP,rn,bo,As,er,jl,Py,sP,nP,oP,Oy,Ny,nt,My,Bl,ql,iP,aP,cP,M3,lP,dP=S(()=>{c();uP="required",ot="fn",it="argv",$r="ref",rP="isSet",rn="booleanEquals",bo="error",As="endpoint",er="tree",jl="PartitionResult",Py="stringEquals",sP={[uP]:!0,default:!1,type:"boolean"},nP={[uP]:!1,type:"string"},oP={[$r]:"Endpoint"},Oy={[ot]:rn,[it]:[{[$r]:"UseFIPS"},!0]},Ny={[ot]:rn,[it]:[{[$r]:"UseDualStack"},!0]},nt={},My={[ot]:"getAttr",[it]:[{[$r]:jl},"name"]},Bl={[ot]:rn,[it]:[{[$r]:"UseFIPS"},!1]},ql={[ot]:rn,[it]:[{[$r]:"UseDualStack"},!1]},iP={[ot]:"getAttr",[it]:[{[$r]:jl},"supportsFIPS"]},aP={[ot]:rn,[it]:[!0,{[ot]:"getAttr",[it]:[{[$r]:jl},"supportsDualStack"]}]},cP=[{[$r]:"Region"}],M3={version:"1.0",parameters:{UseDualStack:sP,UseFIPS:sP,Endpoint:nP,Region:nP},rules:[{conditions:[{[ot]:rP,[it]:[oP]}],rules:[{conditions:[Oy],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bo},{rules:[{conditions:[Ny],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bo},{endpoint:{url:oP,properties:nt,headers:nt},type:As}],type:er}],type:er},{rules:[{conditions:[{[ot]:rP,[it]:cP}],rules:[{conditions:[{[ot]:"aws.partition",[it]:cP,assign:jl}],rules:[{conditions:[{[ot]:Py,[it]:[My,"aws"]},Bl,ql],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:nt,headers:nt},type:As},{conditions:[{[ot]:Py,[it]:[My,"aws-cn"]},Bl,ql],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:nt,headers:nt},type:As},{conditions:[{[ot]:Py,[it]:[My,"aws-us-gov"]},Bl,ql],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:nt,headers:nt},type:As},{conditions:[Oy,Ny],rules:[{conditions:[{[ot]:rn,[it]:[!0,iP]},aP],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nt,headers:nt},type:As}],type:er},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bo}],type:er},{conditions:[Oy,ql],rules:[{conditions:[{[ot]:rn,[it]:[iP,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nt,headers:nt},type:As}],type:er},{error:"FIPS is enabled but this partition does not support FIPS",type:bo}],type:er},{conditions:[Bl,Ny],rules:[{conditions:[aP],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nt,headers:nt},type:As}],type:er},{error:"DualStack is enabled but this partition does not support DualStack",type:bo}],type:er},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:nt,headers:nt},type:As}],type:er}],type:er},{error:"Invalid Configuration: Missing Region",type:bo}],type:er}]},lP=M3});var fP,To,D3,pP,mP=S(()=>{c();fP=_(Wr()),To=_(Gr());dP();D3=new To.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),pP=(e,t={})=>D3.get(e,()=>(0,To.resolveEndpoint)(lP,{endpointParams:e,logger:t.logger}));To.customEndpointFunctions.aws=fP.awsEndpointFunctions});var hP,gP,Hl,zl,yP,SP=S(()=>{c();_t();so();He();hP=_(H()),gP=_(Ar()),Hl=_(Mr()),zl=_(Te());vy();mP();yP=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??Hl.fromBase64,base64Encoder:e?.base64Encoder??Hl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??pP,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??JI,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:e?.logger??new hP.NoOpLogger,protocol:e?.protocol??ys,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??gP.parseUrl,utf8Decoder:e?.utf8Decoder??zl.fromUtf8,utf8Encoder:e?.utf8Encoder??zl.toUtf8})});var Vl,Rs,EP,Ql,xs,Kl,Gl,wP,_P,bP,TP,AP=S(()=>{c();Ju();_t();Vl=_(Oi()),Rs=_(et()),EP=_(ao()),Ql=_(Wt()),xs=_(Gt()),Kl=_(Vr()),Gl=_(H()),wP=_(co()),_P=_(uo()),bP=_(Xs());SP();TP=e=>{(0,Gl.emitWarningIfUnsupportedVersion)(process.version);let t=(0,_P.resolveDefaultsModeConfig)(e),r=()=>t().then(Gl.loadConfigsForDefaultMode),s=yP(e);ls(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,xs.loadConfig)(ps,n),bodyLengthChecker:e?.bodyLengthChecker??wP.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Vl.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:io.version}),maxAttempts:e?.maxAttempts??(0,xs.loadConfig)(Ql.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xs.loadConfig)(Rs.NODE_REGION_CONFIG_OPTIONS,{...Rs.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:Kl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,xs.loadConfig)({...Ql.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||bP.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??EP.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Kl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xs.loadConfig)(Rs.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,xs.loadConfig)(Rs.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,xs.loadConfig)(Vl.NODE_APP_ID_CONFIG_OPTIONS,n)}}});var xP,RP,CP=S(()=>{c();xP=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},RP=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Wl,Yl,Xl,vP,IP=S(()=>{c();Wl=_(go()),Yl=_(re()),Xl=_(H());CP();vP=(e,t)=>{let r=Object.assign((0,Wl.getAwsRegionExtensionConfiguration)(e),(0,Xl.getDefaultExtensionConfiguration)(e),(0,Yl.getHttpHandlerExtensionConfiguration)(e),xP(e));return t.forEach(s=>s.configure(r)),Object.assign(e,(0,Wl.resolveAwsRegionExtensionConfiguration)(r),(0,Xl.resolveDefaultRuntimeConfig)(r),(0,Yl.resolveHttpHandlerRuntimeConfig)(r),RP(r))}});var Jl,PP,OP,Zl,NP,MP,DP,ed,Dy,ra,ky=S(()=>{c();Jl=_(bi()),PP=_(Ti()),OP=_(Ai()),Zl=_(oo()),NP=_(et());He();K();MP=_(Hn()),DP=_(cr()),ed=_(Wt()),Dy=_(H());vy();Iy();AP();IP();ra=class extends Dy.Client{config;constructor(...[t]){let r=TP(t||{});super(r),this.initConfig=r;let s=eP(r),n=(0,Zl.resolveUserAgentConfig)(s),o=(0,ed.resolveRetryConfig)(n),i=(0,NP.resolveRegionConfig)(o),a=(0,Jl.resolveHostHeaderConfig)(i),u=(0,DP.resolveEndpointConfig)(a),l=ZI(u),f=vP(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(Ls(this.config)),this.middlewareStack.use((0,Zl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ed.getRetryPlugin)(this.config)),this.middlewareStack.use((0,MP.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Jl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,PP.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,OP.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Hs(this.config,{httpAuthSchemeParametersProvider:XI,identityProviderConfigProvider:async d=>new Tr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(zs(this.config))}destroy(){super.destroy()}}});var kP,tr,td=S(()=>{c();kP=_(H()),tr=class e extends kP.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var sa,na,oa,ia,$y=S(()=>{c();td();sa=class e extends tr{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},na=class e extends tr{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},oa=class e extends tr{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},ia=class e extends tr{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var k3,$3,L3,U3,F3,B3,q3,j3,H3,z3,V3,$P,LP,Ly,UP,FP,Q3,Cs,BP,qP,K3,Uy,jP,Ct,sd,rd,HP,G3,zP,VP,KP,W3,Y3,QP,yt,GP,WP,YP,XP,JP,ZP,eO,tO,rO,sO,nO,Fy,By=S(()=>{c();K();$y();td();k3="AccessDeniedException",$3="AccessToken",L3="CreateOAuth2Token",U3="CreateOAuth2TokenRequest",F3="CreateOAuth2TokenRequestBody",B3="CreateOAuth2TokenResponseBody",q3="CreateOAuth2TokenResponse",j3="InternalServerException",H3="RefreshToken",z3="TooManyRequestsError",V3="ValidationException",$P="accessKeyId",LP="accessToken",Ly="client",UP="clientId",FP="codeVerifier",Q3="code",Cs="error",BP="expiresIn",qP="grantType",K3="http",Uy="httpError",jP="idToken",Ct="jsonName",sd="message",rd="refreshToken",HP="redirectUri",G3="server",zP="secretAccessKey",VP="sessionToken",KP="smithy.ts.sdk.synthetic.com.amazonaws.signin",W3="tokenInput",Y3="tokenOutput",QP="tokenType",yt="com.amazonaws.signin",GP=[0,yt,H3,8,0],WP=[-3,yt,k3,{[Cs]:Ly},[Cs,sd],[0,0],2];U.for(yt).registerError(WP,sa);YP=[3,yt,$3,8,[$P,zP,VP],[[0,{[Ct]:$P}],[0,{[Ct]:zP}],[0,{[Ct]:VP}]],3],XP=[3,yt,U3,0,[W3],[[()=>JP,16]],1],JP=[3,yt,F3,0,[UP,qP,Q3,HP,FP,rd],[[0,{[Ct]:UP}],[0,{[Ct]:qP}],0,[0,{[Ct]:HP}],[0,{[Ct]:FP}],[()=>GP,{[Ct]:rd}]],2],ZP=[3,yt,q3,0,[Y3],[[()=>eO,16]],1],eO=[3,yt,B3,0,[LP,QP,BP,rd,jP],[[()=>YP,{[Ct]:LP}],[0,{[Ct]:QP}],[1,{[Ct]:BP}],[()=>GP,{[Ct]:rd}],[0,{[Ct]:jP}]],4],tO=[-3,yt,j3,{[Cs]:G3,[Uy]:500},[Cs,sd],[0,0],2];U.for(yt).registerError(tO,na);rO=[-3,yt,z3,{[Cs]:Ly,[Uy]:429},[Cs,sd],[0,0],2];U.for(yt).registerError(rO,oa);sO=[-3,yt,V3,{[Cs]:Ly,[Uy]:400},[Cs,sd],[0,0],2];U.for(yt).registerError(sO,ia);nO=[-3,KP,"SigninServiceException",0,[],[]];U.for(KP).registerError(nO,tr);Fy=[9,yt,L3,{[K3]:["POST","/v1/token",200]},()=>XP,()=>ZP]});var oO,qy,aa,jy=S(()=>{c();oO=_(cr()),qy=_(H());Iy();By();aa=class extends qy.Command.classBuilder().ep(tP).m(function(t,r,s,n){return[(0,oO.getEndpointPlugin)(s,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(Fy).build(){}});var iO,X3,nd,aO=S(()=>{c();iO=_(H());jy();ky();X3={CreateOAuth2TokenCommand:aa},nd=class extends ra{};(0,iO.createAggregatedClient)(X3,nd)});var cO=S(()=>{c();jy()});var J3,uO=S(()=>{c();J3={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var lO=S(()=>{c()});var dO={};Ye(dO,{$Command:()=>qy.Command,AccessDeniedException:()=>sa,AccessDeniedException$:()=>WP,AccessToken$:()=>YP,CreateOAuth2Token$:()=>Fy,CreateOAuth2TokenCommand:()=>aa,CreateOAuth2TokenRequest$:()=>XP,CreateOAuth2TokenRequestBody$:()=>JP,CreateOAuth2TokenResponse$:()=>ZP,CreateOAuth2TokenResponseBody$:()=>eO,InternalServerException:()=>na,InternalServerException$:()=>tO,OAuth2ErrorCode:()=>J3,Signin:()=>nd,SigninClient:()=>ra,SigninServiceException:()=>tr,SigninServiceException$:()=>nO,TooManyRequestsError:()=>oa,TooManyRequestsError$:()=>rO,ValidationException:()=>ia,ValidationException$:()=>sO,__Client:()=>Dy.Client});var fO=S(()=>{c();ky();aO();cO();By();uO();$y();lO();td()});var mO=v(pO=>{"use strict";c();var Z3=(Pt(),J(Or)),vs=Qe(),Vy=ar(),e6=re(),od=Y("node:crypto"),Hy=Y("node:fs"),t6=Y("node:os"),zy=Y("node:path"),Qy=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(t,r,s){this.profileData=t,this.init=r,this.callerClientConfig=s}async loadCredentials(){let t=await this.loadToken();if(!t)throw new vs.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,s=Date.now();return new Date(r.expiresAt).getTime()-s<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:s}=await Promise.resolve().then(()=>(fO(),dO)),{logger:n,userAgentAppId:o}=this.callerClientConfig??{},a=(d=>d?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,u=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,l=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:u,requestHandler:a,logger:n,userAgentAppId:o,...this.init?.clientConfig});this.createDPoPInterceptor(l.middlewareStack);let f={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let d=await l.send(new s(f)),{accessKeyId:g,secretAccessKey:h,sessionToken:y}=d.tokenOutput?.accessToken??{},{refreshToken:b,expiresIn:R}=d.tokenOutput??{};if(!g||!h||!y||!b)throw new vs.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let P=(R??900)*1e3,N=new Date(Date.now()+P),$={...t,accessToken:{...t.accessToken,accessKeyId:g,secretAccessKey:h,sessionToken:y,expiresAt:N.toISOString()},refreshToken:b};await this.saveToken($);let L=$.accessToken;return{accessKeyId:L.accessKeyId,secretAccessKey:L.secretAccessKey,sessionToken:L.sessionToken,accountId:L.accountId,expiration:N}}catch(d){if(d.name==="AccessDeniedException"){let g=d.error,h;switch(g){case"TOKEN_EXPIRED":h="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":h="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":h="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:h=`Failed to refresh token: ${String(d)}. Please re-authenticate using \`aws login\``}throw new vs.CredentialsProviderError(h,{logger:this.logger,tryNextLink:!1})}throw new vs.CredentialsProviderError(`Failed to refresh token: ${String(d)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await Vy.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await Hy.promises.readFile(t,"utf8")}let s=JSON.parse(r),n=["accessToken","clientId","refreshToken","dpopKey"].filter(o=>!s[o]);if(s.accessToken?.accountId||n.push("accountId"),n.length>0)throw new vs.CredentialsProviderError(`Token validation failed, missing fields: ${n.join(", ")}`,{logger:this.logger,tryNextLink:!1});return s}catch(r){throw new vs.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),s=zy.dirname(r);try{await Hy.promises.mkdir(s,{recursive:!0})}catch{}await Hy.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??zy.join(t6.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),s=od.createHash("sha256").update(r).digest("hex");return zy.join(t,`${s}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let s=t[r++],n=t.subarray(r,r+s);if(r+=s,t[r]!==2)throw new Error("Invalid DER signature");r++;let o=t[r++],i=t.subarray(r,r+o);n=n[0]===0?n.subarray(1):n,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-n.length),n]),u=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,u])}createDPoPInterceptor(t){t.add(r=>async s=>{if(e6.HttpRequest.isInstance(s.request)){let n=s.request,o=`${n.protocol}//${n.hostname}${n.port?`:${n.port}`:""}${n.path}`,i=await this.generateDpop(n.method,o);n.headers={...n.headers,DPoP:i}}return r(s)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let s=await this.loadToken();try{let n=od.createPrivateKey({key:s.dpopKey,format:"pem",type:"sec1"}),i=od.createPublicKey(n).export({format:"der",type:"spki"}),a=-1;for(let N=0;N<i.length;N++)if(i[N]===4){a=N;break}let u=i.slice(a+1,a+33),l=i.slice(a+33,a+65),f={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:u.toString("base64url"),y:l.toString("base64url")}},d={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},g=Buffer.from(JSON.stringify(f)).toString("base64url"),h=Buffer.from(JSON.stringify(d)).toString("base64url"),y=`${g}.${h}`,b=od.sign("sha256",Buffer.from(y),n),P=this.derToRawSignature(b).toString("base64url");return`${y}.${P}`}catch(n){throw new vs.CredentialsProviderError(`Failed to generate Dpop proof: ${n instanceof Error?n.message:String(n)}`,{logger:this.logger,tryNextLink:!1})}}},r6=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await Vy.parseKnownFiles(e||{}),s=Vy.getProfileName({profile:e?.profile??t?.profile}),n=r[s];if(!n?.login_session)throw new vs.CredentialsProviderError(`Profile ${s} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new Qy(n,e,t).loadCredentials();return Z3.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};pO.fromLoginCredentials=r6});function s6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function n6(e){return{schemeId:"smithy.api#noAuth"}}var ca,hO,gO,o6,yO,Ky=S(()=>{c();_t();ca=_(dt());ua();hO=async(e,t,r)=>({operation:(0,ca.getSmithyContext)(t).operation,region:await(0,ca.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});gO=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(n6(e));break}default:t.push(s6(e))}return t},o6=e=>Object.assign(e,{stsClientCtor:pr}),yO=e=>{let t=o6(e),r=Nr(t);return Object.assign(r,{authSchemePreference:(0,ca.normalizeProvider)(e.authSchemePreference??[])})}});var SO,id,ad=S(()=>{c();SO=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),id={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var IO,W,ae,ce,Ps,Is,Ge,PO,OO,NO,xe,EO,mr,Ao,Wy,wO,Gy,MO,_O,We,bO,DO,kO,at,vt,TO,$O,LO,AO,UO,xO,RO,CO,vO,i6,FO,BO=S(()=>{c();IO="required",W="type",ae="fn",ce="argv",Ps="ref",Is="booleanEquals",Ge="stringEquals",PO="sigv4",OO="sts",NO="us-east-1",xe="endpoint",EO="https://sts.{Region}.{PartitionResult#dnsSuffix}",mr="tree",Ao="error",Wy="getAttr",wO={[IO]:!1,[W]:"string"},Gy={[IO]:!0,default:!1,[W]:"boolean"},MO={[Ps]:"Endpoint"},_O={[ae]:"isSet",[ce]:[{[Ps]:"Region"}]},We={[Ps]:"Region"},bO={[ae]:"aws.partition",[ce]:[We],assign:"PartitionResult"},DO={[Ps]:"UseFIPS"},kO={[Ps]:"UseDualStack"},at={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:PO,signingName:OO,signingRegion:NO}]},headers:{}},vt={},TO={conditions:[{[ae]:Ge,[ce]:[We,"aws-global"]}],[xe]:at,[W]:xe},$O={[ae]:Is,[ce]:[DO,!0]},LO={[ae]:Is,[ce]:[kO,!0]},AO={[ae]:Wy,[ce]:[{[Ps]:"PartitionResult"},"supportsFIPS"]},UO={[Ps]:"PartitionResult"},xO={[ae]:Is,[ce]:[!0,{[ae]:Wy,[ce]:[UO,"supportsDualStack"]}]},RO=[{[ae]:"isSet",[ce]:[MO]}],CO=[$O],vO=[LO],i6={version:"1.0",parameters:{Region:wO,UseDualStack:Gy,UseFIPS:Gy,Endpoint:wO,UseGlobalEndpoint:Gy},rules:[{conditions:[{[ae]:Is,[ce]:[{[Ps]:"UseGlobalEndpoint"},!0]},{[ae]:"not",[ce]:RO},_O,bO,{[ae]:Is,[ce]:[DO,!1]},{[ae]:Is,[ce]:[kO,!1]}],rules:[{conditions:[{[ae]:Ge,[ce]:[We,"ap-northeast-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"ap-south-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"ap-southeast-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"ap-southeast-2"]}],endpoint:at,[W]:xe},TO,{conditions:[{[ae]:Ge,[ce]:[We,"ca-central-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-central-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-north-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-west-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-west-2"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"eu-west-3"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"sa-east-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,NO]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"us-east-2"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"us-west-1"]}],endpoint:at,[W]:xe},{conditions:[{[ae]:Ge,[ce]:[We,"us-west-2"]}],endpoint:at,[W]:xe},{endpoint:{url:EO,properties:{authSchemes:[{name:PO,signingName:OO,signingRegion:"{Region}"}]},headers:vt},[W]:xe}],[W]:mr},{conditions:RO,rules:[{conditions:CO,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[W]:Ao},{conditions:vO,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[W]:Ao},{endpoint:{url:MO,properties:vt,headers:vt},[W]:xe}],[W]:mr},{conditions:[_O],rules:[{conditions:[bO],rules:[{conditions:[$O,LO],rules:[{conditions:[{[ae]:Is,[ce]:[!0,AO]},xO],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vt,headers:vt},[W]:xe}],[W]:mr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[W]:Ao}],[W]:mr},{conditions:CO,rules:[{conditions:[{[ae]:Is,[ce]:[AO,!0]}],rules:[{conditions:[{[ae]:Ge,[ce]:[{[ae]:Wy,[ce]:[UO,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:vt,headers:vt},[W]:xe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vt,headers:vt},[W]:xe}],[W]:mr},{error:"FIPS is enabled but this partition does not support FIPS",[W]:Ao}],[W]:mr},{conditions:vO,rules:[{conditions:[xO],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vt,headers:vt},[W]:xe}],[W]:mr},{error:"DualStack is enabled but this partition does not support DualStack",[W]:Ao}],[W]:mr},TO,{endpoint:{url:EO,properties:vt,headers:vt},[W]:xe}],[W]:mr}],[W]:mr},{error:"Invalid Configuration: Missing Region",[W]:Ao}]},FO=i6});var qO,xo,a6,jO,HO=S(()=>{c();qO=_(Wr()),xo=_(Gr());BO();a6=new xo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),jO=(e,t={})=>a6.get(e,()=>(0,xo.resolveEndpoint)(FO,{endpointParams:e,logger:t.logger}));xo.customEndpointFunctions.aws=qO.awsEndpointFunctions});var zO,VO,cd,ud,QO,KO=S(()=>{c();_t();so();He();zO=_(H()),VO=_(Ar()),cd=_(Mr()),ud=_(Te());Ky();HO();QO=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??cd.fromBase64,base64Encoder:e?.base64Encoder??cd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??jO,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??gO,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:e?.logger??new zO.NoOpLogger,protocol:e?.protocol??Es,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??VO.parseUrl,utf8Decoder:e?.utf8Decoder??ud.fromUtf8,utf8Encoder:e?.utf8Encoder??ud.toUtf8})});var ld,Ns,GO,dd,Os,fd,pd,WO,YO,XO,JO,ZO=S(()=>{c();Ju();_t();ld=_(Oi()),Ns=_(et());He();GO=_(ao()),dd=_(Wt()),Os=_(Gt()),fd=_(Vr()),pd=_(H()),WO=_(co()),YO=_(uo()),XO=_(Xs());KO();JO=e=>{(0,pd.emitWarningIfUnsupportedVersion)(process.version);let t=(0,YO.resolveDefaultsModeConfig)(e),r=()=>t().then(pd.loadConfigsForDefaultMode),s=QO(e);ls(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Os.loadConfig)(ps,n),bodyLengthChecker:e?.bodyLengthChecker??WO.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ld.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:io.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],maxAttempts:e?.maxAttempts??(0,Os.loadConfig)(dd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Os.loadConfig)(Ns.NODE_REGION_CONFIG_OPTIONS,{...Ns.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:fd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Os.loadConfig)({...dd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||XO.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??GO.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??fd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Os.loadConfig)(Ns.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,Os.loadConfig)(Ns.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,Os.loadConfig)(ld.NODE_APP_ID_CONFIG_OPTIONS,n)}}});var eN,tN,rN=S(()=>{c();eN=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},tN=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var md,hd,gd,sN,nN=S(()=>{c();md=_(go()),hd=_(re()),gd=_(H());rN();sN=(e,t)=>{let r=Object.assign((0,md.getAwsRegionExtensionConfiguration)(e),(0,gd.getDefaultExtensionConfiguration)(e),(0,hd.getHttpHandlerExtensionConfiguration)(e),eN(e));return t.forEach(s=>s.configure(r)),Object.assign(e,(0,md.resolveAwsRegionExtensionConfiguration)(r),(0,gd.resolveDefaultRuntimeConfig)(r),(0,hd.resolveHttpHandlerRuntimeConfig)(r),tN(r))}});var yd,oN,iN,Sd,aN,cN,uN,Ed,Yy,pr,ua=S(()=>{c();yd=_(bi()),oN=_(Ti()),iN=_(Ai()),Sd=_(oo()),aN=_(et());He();K();cN=_(Hn()),uN=_(cr()),Ed=_(Wt()),Yy=_(H());Ky();ad();ZO();nN();pr=class extends Yy.Client{config;constructor(...[t]){let r=JO(t||{});super(r),this.initConfig=r;let s=SO(r),n=(0,Sd.resolveUserAgentConfig)(s),o=(0,Ed.resolveRetryConfig)(n),i=(0,aN.resolveRegionConfig)(o),a=(0,yd.resolveHostHeaderConfig)(i),u=(0,uN.resolveEndpointConfig)(a),l=yO(u),f=sN(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(Ls(this.config)),this.middlewareStack.use((0,Sd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ed.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cN.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,yd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,oN.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iN.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Hs(this.config,{httpAuthSchemeParametersProvider:hO,identityProviderConfigProvider:async d=>new Tr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(zs(this.config))}destroy(){super.destroy()}}});var lN,bt,wd=S(()=>{c();lN=_(H()),bt=class e extends lN.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var la,da,fa,pa,ma,ha,ga,Xy=S(()=>{c();wd();la=class e extends bt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},da=class e extends bt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fa=class e extends bt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pa=class e extends bt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ma=class e extends bt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ha=class e extends bt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ga=class e extends bt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var c6,u6,l6,d6,f6,p6,Jy,m6,h6,g6,y6,Zy,S6,dN,E6,w6,_6,b6,T6,A6,x6,R6,fN,pN,C6,v6,I6,P6,O6,N6,mN,M6,D6,hN,k6,gN,$6,L6,eS,U6,F6,B6,q6,j6,H6,z6,V6,Q6,K6,sn,nn,G6,on,an,cn,W6,yN,Y6,de,X6,J6,tS,SN,EN,wN,_N,rS,bN,TN,AN,xN,RN,CN,vN,IN,PN,ON,NN,MN,Z6,eQ,sS,nS,_d=S(()=>{c();K();Xy();wd();c6="Arn",u6="AccessKeyId",l6="AssumeRole",d6="AssumedRoleId",f6="AssumeRoleRequest",p6="AssumeRoleResponse",Jy="AssumedRoleUser",m6="AssumeRoleWithWebIdentity",h6="AssumeRoleWithWebIdentityRequest",g6="AssumeRoleWithWebIdentityResponse",y6="Audience",Zy="Credentials",S6="ContextAssertion",dN="DurationSeconds",E6="Expiration",w6="ExternalId",_6="ExpiredTokenException",b6="IDPCommunicationErrorException",T6="IDPRejectedClaimException",A6="InvalidIdentityTokenException",x6="Key",R6="MalformedPolicyDocumentException",fN="Policy",pN="PolicyArns",C6="ProviderArn",v6="ProvidedContexts",I6="ProvidedContextsListType",P6="ProvidedContext",O6="PolicyDescriptorType",N6="ProviderId",mN="PackedPolicySize",M6="PackedPolicyTooLargeException",D6="Provider",hN="RoleArn",k6="RegionDisabledException",gN="RoleSessionName",$6="SecretAccessKey",L6="SubjectFromWebIdentityToken",eS="SourceIdentity",U6="SerialNumber",F6="SessionToken",B6="Tags",q6="TokenCode",j6="TransitiveTagKeys",H6="Tag",z6="Value",V6="WebIdentityToken",Q6="arn",K6="accessKeySecretType",sn="awsQueryError",nn="client",G6="clientTokenType",on="error",an="httpError",cn="message",W6="policyDescriptorListType",yN="smithy.ts.sdk.synthetic.com.amazonaws.sts",Y6="tagListType",de="com.amazonaws.sts",X6=[0,de,K6,8,0],J6=[0,de,G6,8,0],tS=[3,de,Jy,0,[d6,c6],[0,0],2],SN=[3,de,f6,0,[hN,gN,pN,fN,dN,B6,j6,w6,U6,q6,eS,v6],[0,0,()=>MN,0,1,()=>eQ,64,0,0,0,0,()=>Z6],2],EN=[3,de,p6,0,[Zy,Jy,mN,eS],[[()=>rS,0],()=>tS,1,0]],wN=[3,de,h6,0,[hN,gN,V6,N6,pN,fN,dN],[0,0,[()=>J6,0],0,()=>MN,0,1],3],_N=[3,de,g6,0,[Zy,L6,Jy,mN,D6,y6,eS],[[()=>rS,0],0,()=>tS,1,0,0,0]],rS=[3,de,Zy,0,[u6,$6,F6,E6],[0,[()=>X6,0],0,4],4],bN=[-3,de,_6,{[sn]:["ExpiredTokenException",400],[on]:nn,[an]:400},[cn],[0]];U.for(de).registerError(bN,la);TN=[-3,de,b6,{[sn]:["IDPCommunicationError",400],[on]:nn,[an]:400},[cn],[0]];U.for(de).registerError(TN,ga);AN=[-3,de,T6,{[sn]:["IDPRejectedClaim",403],[on]:nn,[an]:403},[cn],[0]];U.for(de).registerError(AN,ma);xN=[-3,de,A6,{[sn]:["InvalidIdentityToken",400],[on]:nn,[an]:400},[cn],[0]];U.for(de).registerError(xN,ha);RN=[-3,de,R6,{[sn]:["MalformedPolicyDocument",400],[on]:nn,[an]:400},[cn],[0]];U.for(de).registerError(RN,da);CN=[-3,de,M6,{[sn]:["PackedPolicyTooLarge",400],[on]:nn,[an]:400},[cn],[0]];U.for(de).registerError(CN,fa);vN=[3,de,O6,0,[Q6],[0]],IN=[3,de,P6,0,[C6,S6],[0,0]],PN=[-3,de,k6,{[sn]:["RegionDisabledException",403],[on]:nn,[an]:403},[cn],[0]];U.for(de).registerError(PN,pa);ON=[3,de,H6,0,[x6,z6],[0,0],2],NN=[-3,yN,"STSServiceException",0,[],[]];U.for(yN).registerError(NN,bt);MN=[1,de,W6,0,()=>vN],Z6=[1,de,I6,0,()=>IN],eQ=[1,de,Y6,0,()=>ON],sS=[9,de,l6,0,()=>SN,()=>EN],nS=[9,de,m6,0,()=>wN,()=>_N]});var DN,kN,un,bd=S(()=>{c();DN=_(cr()),kN=_(H());ad();_d();un=class extends kN.Command.classBuilder().ep(id).m(function(t,r,s,n){return[(0,DN.getEndpointPlugin)(s,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(sS).build(){}});var $N,LN,ln,Td=S(()=>{c();$N=_(cr()),LN=_(H());ad();_d();ln=class extends LN.Command.classBuilder().ep(id).m(function(t,r,s,n){return[(0,$N.getEndpointPlugin)(s,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(nS).build(){}});var UN,tQ,Ad,FN=S(()=>{c();UN=_(H());bd();Td();ua();tQ={AssumeRoleCommand:un,AssumeRoleWithWebIdentityCommand:ln},Ad=class extends pr{};(0,UN.createAggregatedClient)(tQ,Ad)});var BN=S(()=>{c();bd();Td()});var qN=S(()=>{c()});var jN,HN,zN,VN,QN,KN,GN=S(()=>{c();Pt();jN=_(go());bd();Td();HN=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},zN=async(e,t,r,s={})=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t,i="",a=n??o??(i=await(0,jN.stsRegionDefaultResolver)(s)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (credential provider clientConfig)`,`${o} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},VN=(e,t)=>{let r,s;return async(n,o)=>{if(s=n,!r){let{logger:f=e?.parentClientConfig?.logger,profile:d=e?.parentClientConfig?.profile,region:g,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:b=e?.parentClientConfig?.userAgentAppId}=e,R=await zN(g,e?.parentClientConfig?.region,y,{logger:f,profile:d}),P=!KN(h);r=new t({...e,userAgentAppId:b,profile:d,credentialDefaultProvider:()=>async()=>s,region:R,requestHandler:P?h:void 0,logger:f})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new un(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let u=HN(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...u&&{accountId:u}};return ds(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},QN=(e,t)=>{let r;return async s=>{if(!r){let{logger:u=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:f,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g,userAgentAppId:h=e?.parentClientConfig?.userAgentAppId}=e,y=await zN(f,e?.parentClientConfig?.region,g,{logger:u,profile:l}),b=!KN(d);r=new t({...e,userAgentAppId:h,profile:l,region:y,requestHandler:b?d:void 0,logger:u})}let{Credentials:n,AssumedRoleUser:o}=await r.send(new ln(s));if(!n||!n.AccessKeyId||!n.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${s.RoleArn}`);let i=HN(o),a={accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.SessionToken,expiration:n.Expiration,...n.CredentialScope&&{credentialScope:n.CredentialScope},...i&&{accountId:i}};return i&&ds(a,"RESOLVED_ACCOUNT_ID","T"),ds(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},KN=e=>e?.metadata?.handlerProtocol==="h2"});var WN,YN,XN,rQ,JN=S(()=>{c();GN();ua();WN=(e,t)=>t?class extends e{constructor(s){super(s);for(let n of t)this.middlewareStack.use(n)}}:e,YN=(e={},t)=>VN(e,WN(pr,t)),XN=(e={},t)=>QN(e,WN(pr,t)),rQ=e=>t=>e({roleAssumer:YN(t),roleAssumerWithWebIdentity:XN(t),...t})});var oS={};Ye(oS,{AssumeRole$:()=>sS,AssumeRoleCommand:()=>un,AssumeRoleRequest$:()=>SN,AssumeRoleResponse$:()=>EN,AssumeRoleWithWebIdentity$:()=>nS,AssumeRoleWithWebIdentityCommand:()=>ln,AssumeRoleWithWebIdentityRequest$:()=>wN,AssumeRoleWithWebIdentityResponse$:()=>_N,AssumedRoleUser$:()=>tS,Credentials$:()=>rS,ExpiredTokenException:()=>la,ExpiredTokenException$:()=>bN,IDPCommunicationErrorException:()=>ga,IDPCommunicationErrorException$:()=>TN,IDPRejectedClaimException:()=>ma,IDPRejectedClaimException$:()=>AN,InvalidIdentityTokenException:()=>ha,InvalidIdentityTokenException$:()=>xN,MalformedPolicyDocumentException:()=>da,MalformedPolicyDocumentException$:()=>RN,PackedPolicyTooLargeException:()=>fa,PackedPolicyTooLargeException$:()=>CN,PolicyDescriptorType$:()=>vN,ProvidedContext$:()=>IN,RegionDisabledException:()=>pa,RegionDisabledException$:()=>PN,STS:()=>Ad,STSClient:()=>pr,STSServiceException:()=>bt,STSServiceException$:()=>NN,Tag$:()=>ON,__Client:()=>Yy.Client,decorateDefaultCredentialProvider:()=>rQ,getDefaultRoleAssumer:()=>YN,getDefaultRoleAssumerWithWebIdentity:()=>XN});var iS=S(()=>{c();ua();FN();BN();_d();Xy();qN();JN();wd()});var uS=v(ZN=>{"use strict";c();var cS=ar(),aS=Qe(),sQ=Y("child_process"),nQ=Y("util"),oQ=(Pt(),J(Or)),iQ=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let s=t.AccountId;!s&&r?.[e]?.aws_account_id&&(s=r[e].aws_account_id);let n={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...s&&{accountId:s}};return oQ.setCredentialFeature(n,"CREDENTIALS_PROCESS","w"),n},aQ=async(e,t,r)=>{let s=t[e];if(t[e]){let n=s.credential_process;if(n!==void 0){let o=nQ.promisify(cS.externalDataInterceptor?.getTokenRecord?.().exec??sQ.exec);try{let{stdout:i}=await o(n),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return iQ(e,a,t)}catch(i){throw new aS.CredentialsProviderError(i.message,{logger:r})}}else throw new aS.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new aS.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},cQ=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await cS.parseKnownFiles(e);return aQ(cS.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};ZN.fromProcess=cQ});var lS=v(hr=>{"use strict";c();var uQ=hr&&hr.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),lQ=hr&&hr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dQ=hr&&hr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var s=[];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[s.length]=n);return s},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var s=e(t),n=0;n<s.length;n++)s[n]!=="default"&&uQ(r,t,s[n]);return lQ(r,t),r}}();Object.defineProperty(hr,"__esModule",{value:!0});hr.fromWebToken=void 0;var fQ=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:s,webIdentityToken:n,providerId:o,policyArns:i,policy:a,durationSeconds:u}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>dQ((iS(),J(oS))));l=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:s??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:u})};hr.fromWebToken=fQ});var tM=v(xd=>{"use strict";c();Object.defineProperty(xd,"__esModule",{value:!0});xd.fromTokenFile=void 0;var pQ=(Pt(),J(Or)),mQ=Qe(),hQ=ar(),gQ=Y("fs"),yQ=lS(),eM="AWS_WEB_IDENTITY_TOKEN_FILE",SQ="AWS_ROLE_ARN",EQ="AWS_ROLE_SESSION_NAME",wQ=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[eM],s=e?.roleArn??process.env[SQ],n=e?.roleSessionName??process.env[EQ];if(!r||!s)throw new mQ.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,yQ.fromWebToken)({...e,webIdentityToken:hQ.externalDataInterceptor?.getTokenRecord?.()[r]??(0,gQ.readFileSync)(r,{encoding:"ascii"}),roleArn:s,roleSessionName:n})(t);return r===process.env[eM]&&(0,pQ.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};xd.fromTokenFile=wQ});var dS=v(ya=>{"use strict";c();var rM=tM(),sM=lS();Object.keys(rM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ya,e)&&Object.defineProperty(ya,e,{enumerable:!0,get:function(){return rM[e]}})});Object.keys(sM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ya,e)&&Object.defineProperty(ya,e,{enumerable:!0,get:function(){return sM[e]}})})});var uM=v(cM=>{"use strict";c();var pS=ar(),Sa=Qe(),Lr=(Pt(),J(Or)),_Q=mO(),bQ=(e,t,r)=>{let s={EcsContainer:async n=>{let{fromHttp:o}=await Promise.resolve().then(()=>_(Rg())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>_(Si()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Sa.chain(o(n??{}),i(n))().then(fS)},Ec2InstanceMetadata:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>_(Si()));return async()=>o(n)().then(fS)},Environment:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>_(Sg()));return async()=>o(n)().then(fS)}};if(e in s)return s[e];throw new Sa.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},fS=e=>Lr.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),TQ=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(AQ(e,{profile:t,logger:r})||xQ(e,{profile:t,logger:r})),AQ=(e,{profile:t,logger:r})=>{let s=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return s&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),s},xQ=(e,{profile:t,logger:r})=>{let s=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return s&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),s},RQ=async(e,t,r,s,n={},o)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:u}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:f}=await Promise.resolve().then(()=>(iS(),oS));r.roleAssumer=f({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...s,...r?.parentClientConfig,region:u??r?.parentClientConfig?.region??s?.region}},r.clientPlugins)}if(a&&a in n)throw new Sa.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${pS.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let l=a?o(a,t,r,s,{...n,[a]:!0},nM(t[a]??{})):(await bQ(i.credential_source,e,r.logger)(r))();if(nM(i))return l.then(f=>Lr.setCredentialFeature(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let f={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:d}=i;if(d){if(!r.mfaCodeProvider)throw new Sa.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});f.SerialNumber=d,f.TokenCode=await r.mfaCodeProvider(d)}let g=await l;return r.roleAssumer(g,f).then(h=>Lr.setCredentialFeature(h,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},nM=e=>!e.role_arn&&!!e.credential_source,CQ=e=>!!(e&&e.login_session),vQ=async(e,t,r)=>{let s=await _Q.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return Lr.setCredentialFeature(s,"CREDENTIALS_PROFILE_LOGIN","AC")},IQ=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",PQ=async(e,t)=>Promise.resolve().then(()=>_(uS())).then(({fromProcess:r})=>r({...e,profile:t})().then(s=>Lr.setCredentialFeature(s,"CREDENTIALS_PROFILE_PROCESS","v"))),OQ=async(e,t,r={},s)=>{let{fromSSO:n}=await Promise.resolve().then(()=>_(Cy()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:s}).then(o=>t.sso_session?Lr.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO","r"):Lr.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},NQ=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),oM=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,iM=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Lr.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},MQ=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,DQ=async(e,t,r)=>Promise.resolve().then(()=>_(dS())).then(({fromTokenFile:s})=>s({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(n=>Lr.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),aM=async(e,t,r,s,n={},o=!1)=>{let i=t[e];if(Object.keys(n).length>0&&oM(i))return iM(i,r);if(o||TQ(i,{profile:e,logger:r.logger}))return RQ(e,t,r,s,n,aM);if(oM(i))return iM(i,r);if(MQ(i))return DQ(i,r,s);if(IQ(i))return PQ(r,e);if(NQ(i))return await OQ(e,i,r,s);if(CQ(i))return vQ(e,r,s);throw new Sa.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},kQ=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await pS.parseKnownFiles(e);return aM(pS.getProfileName({profile:e.profile??t?.profile}),r,e,t)};cM.fromIni=kQ});var hS=v(Rd=>{"use strict";c();var mS=Sg(),Ea=Qe(),$Q=ar(),lM="AWS_EC2_METADATA_DISABLED",LQ=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:s,fromInstanceMetadata:n}=await Promise.resolve().then(()=>_(Si()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>_(Rg()));return Ea.chain(o(e),s(e))}return process.env[lM]&&process.env[lM]!=="false"?async()=>{throw new Ea.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),n(e))};function UQ(e,t){let r=FQ(e),s,n,o,i=async a=>{if(a?.forceRefresh)return await r(a);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),s)await s;else if(!o||t?.(o))if(o)n||(n=r(a).then(u=>{o=u,n=void 0}));else return s=r(a).then(u=>{o=u,s=void 0}),i(a);return o};return i}var FQ=e=>async t=>{let r;for(let s of e)try{return await s(t)}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r},dM=!1,BQ=(e={})=>UQ([async()=>{if(e.profile??process.env[$Q.ENV_PROFILE])throw process.env[mS.ENV_KEY]&&process.env[mS.ENV_SECRET]&&(dM||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),dM=!0)),new Ea.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),mS.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:s,ssoRegion:n,ssoRoleName:o,ssoSession:i}=e;if(!r&&!s&&!n&&!o&&!i)throw new Ea.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>_(Cy()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>_(uM()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>_(uS()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>_(dS()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await LQ(e))()),async()=>{throw new Ea.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],fM),qQ=e=>e?.expiration!==void 0,fM=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Rd.credentialsTreatedAsExpired=fM;Rd.credentialsWillNeedRefresh=qQ;Rd.defaultProvider=BQ});var SM=v(dn=>{"use strict";c();var pM=Y("os"),gS=Y("process"),jQ=Zh(),mM={isCrtAvailable:!1},HQ=()=>mM.isCrtAvailable?["md/crt-avail"]:null,hM=({serviceId:e,clientVersion:t})=>async r=>{let s=[["aws-sdk-js",t],["ua","2.1"],[`os/${pM.platform()}`,pM.release()],["lang/js"],["md/nodejs",`${gS.versions.node}`]],n=HQ();n&&s.push(n),e&&s.push([`api/${e}`,t]),gS.env.AWS_EXECUTION_ENV&&s.push([`exec-env/${gS.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...s,[`app/${o}`]]:[...s]},zQ=hM,gM="AWS_SDK_UA_APP_ID",yM="sdk_ua_app_id",VQ="sdk-ua-app-id",QQ={environmentVariableSelector:e=>e[gM],configFileSelector:e=>e[yM]??e[VQ],default:jQ.DEFAULT_UA_APP_ID};dn.NODE_APP_ID_CONFIG_OPTIONS=QQ;dn.UA_APP_ID_ENV_NAME=gM;dn.UA_APP_ID_INI_NAME=yM;dn.createDefaultUserAgentProvider=hM;dn.crtAvailability=mM;dn.defaultUserAgent=zQ});var MM=v(Cd=>{"use strict";c();Object.defineProperty(Cd,"__esModule",{value:!0});Cd.ruleSet=void 0;var IM="required",Ft="fn",Bt="argv",vo="ref",EM=!0,wM="isSet",wa="booleanEquals",Ro="error",Co="endpoint",Ur="tree",yS="PartitionResult",SS="getAttr",_M={[IM]:!1,type:"string"},bM={[IM]:!0,default:!1,type:"boolean"},TM={[vo]:"Endpoint"},PM={[Ft]:wa,[Bt]:[{[vo]:"UseFIPS"},!0]},OM={[Ft]:wa,[Bt]:[{[vo]:"UseDualStack"},!0]},Ut={},AM={[Ft]:SS,[Bt]:[{[vo]:yS},"supportsFIPS"]},NM={[vo]:yS},xM={[Ft]:wa,[Bt]:[!0,{[Ft]:SS,[Bt]:[NM,"supportsDualStack"]}]},RM=[PM],CM=[OM],vM=[{[vo]:"Region"}],KQ={version:"1.0",parameters:{Region:_M,UseDualStack:bM,UseFIPS:bM,Endpoint:_M},rules:[{conditions:[{[Ft]:wM,[Bt]:[TM]}],rules:[{conditions:RM,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ro},{conditions:CM,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ro},{endpoint:{url:TM,properties:Ut,headers:Ut},type:Co}],type:Ur},{conditions:[{[Ft]:wM,[Bt]:vM}],rules:[{conditions:[{[Ft]:"aws.partition",[Bt]:vM,assign:yS}],rules:[{conditions:[PM,OM],rules:[{conditions:[{[Ft]:wa,[Bt]:[EM,AM]},xM],rules:[{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ut,headers:Ut},type:Co}],type:Ur},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ro}],type:Ur},{conditions:RM,rules:[{conditions:[{[Ft]:wa,[Bt]:[AM,EM]}],rules:[{conditions:[{[Ft]:"stringEquals",[Bt]:[{[Ft]:SS,[Bt]:[NM,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sqs.{Region}.amazonaws.com",properties:Ut,headers:Ut},type:Co},{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ut,headers:Ut},type:Co}],type:Ur},{error:"FIPS is enabled but this partition does not support FIPS",type:Ro}],type:Ur},{conditions:CM,rules:[{conditions:[xM],rules:[{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ut,headers:Ut},type:Co}],type:Ur},{error:"DualStack is enabled but this partition does not support DualStack",type:Ro}],type:Ur},{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dnsSuffix}",properties:Ut,headers:Ut},type:Co}],type:Ur}],type:Ur},{error:"Invalid Configuration: Missing Region",type:Ro}]};Cd.ruleSet=KQ});var DM=v(vd=>{"use strict";c();Object.defineProperty(vd,"__esModule",{value:!0});vd.defaultEndpointResolver=void 0;var GQ=Wr(),ES=Gr(),WQ=MM(),YQ=new ES.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),XQ=(e,t={})=>YQ.get(e,()=>(0,ES.resolveEndpoint)(WQ.ruleSet,{endpointParams:e,logger:t.logger}));vd.defaultEndpointResolver=XQ;ES.customEndpointFunctions.aws=GQ.awsEndpointFunctions});var LM=v(Id=>{"use strict";c();Object.defineProperty(Id,"__esModule",{value:!0});Id.getRuntimeConfig=void 0;var JQ=(fi(),J(di)),ZQ=(Yh(),J(dx)),eK=H(),tK=Ar(),kM=Nn(),$M=Te(),rK=yg(),sK=DM(),nK=e=>({apiVersion:"2012-11-05",base64Decoder:e?.base64Decoder??kM.fromBase64,base64Encoder:e?.base64Encoder??kM.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sK.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??rK.defaultSQSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new JQ.AwsSdkSigV4Signer}],logger:e?.logger??new eK.NoOpLogger,protocol:e?.protocol??ZQ.AwsJson1_0Protocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sqs",version:"2012-11-05",serviceTarget:"AmazonSQS",awsQueryCompatible:!0},serviceId:e?.serviceId??"SQS",urlParser:e?.urlParser??tK.parseUrl,utf8Decoder:e?.utf8Decoder??$M.fromUtf8,utf8Encoder:e?.utf8Encoder??$M.toUtf8});Id.getRuntimeConfig=nK});var zM=v(Od=>{"use strict";c();Object.defineProperty(Od,"__esModule",{value:!0});Od.getRuntimeConfig=void 0;var oK=(qs(),J(Bs)),iK=oK.__importDefault(w0()),UM=(fi(),J(di)),aK=hS(),FM=SM(),Pd=et(),BM=ao(),qM=Wt(),fn=Gt(),jM=Vr(),HM=H(),cK=co(),uK=uo(),lK=Xs(),dK=LM(),fK=e=>{(0,HM.emitWarningIfUnsupportedVersion)(process.version);let t=(0,uK.resolveDefaultsModeConfig)(e),r=()=>t().then(HM.loadConfigsForDefaultMode),s=(0,dK.getRuntimeConfig)(e);(0,UM.emitWarningIfUnsupportedVersion)(process.version);let n={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,fn.loadConfig)(UM.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,n),bodyLengthChecker:e?.bodyLengthChecker??cK.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??aK.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,FM.createDefaultUserAgentProvider)({serviceId:s.serviceId,clientVersion:iK.default.version}),maxAttempts:e?.maxAttempts??(0,fn.loadConfig)(qM.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??BM.Hash.bind(null,"md5"),region:e?.region??(0,fn.loadConfig)(Pd.NODE_REGION_CONFIG_OPTIONS,{...Pd.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:jM.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,fn.loadConfig)({...qM.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||lK.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??BM.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??jM.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,fn.loadConfig)(Pd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,fn.loadConfig)(Pd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,fn.loadConfig)(FM.NODE_APP_ID_CONFIG_OPTIONS,n)}};Od.getRuntimeConfig=fK});var QM=v(Io=>{"use strict";c();Object.defineProperty(Io,"__esModule",{value:!0});Io.warning=void 0;Io.stsRegionDefaultResolver=mK;var VM=et(),pK=Gt();function mK(e={}){return(0,pK.loadConfig)({...VM.NODE_REGION_CONFIG_OPTIONS,async default(){return Io.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...VM.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Io.warning={silence:!1}});var GM=v(gr=>{"use strict";c();var KM=QM(),_a=et(),hK=e=>({setRegion(t){e.region=t},region(){return e.region}}),gK=e=>({region:e.region()});Object.defineProperty(gr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return _a.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(gr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return _a.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(gr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return _a.REGION_ENV_NAME}});Object.defineProperty(gr,"REGION_INI_NAME",{enumerable:!0,get:function(){return _a.REGION_INI_NAME}});Object.defineProperty(gr,"resolveRegionConfig",{enumerable:!0,get:function(){return _a.resolveRegionConfig}});gr.getAwsRegionExtensionConfiguration=hK;gr.resolveAwsRegionExtensionConfiguration=gK;Object.keys(KM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(gr,e)&&Object.defineProperty(gr,e,{enumerable:!0,get:function(){return KM[e]}})})});var R1=v(x=>{"use strict";c();var WM=rE(),yK=oE(),SK=aE(),Ta=Sb(),YM=Zh(),EK=et(),ba=(He(),J(Vs)),pe=(K(),J(ac)),wK=Hn(),Re=cr(),XM=Wt(),fe=H(),JM=yg(),_K=zM(),ZM=GM(),eD=re(),bK=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sqs"}),Oe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},TK=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){s=n},credentials(){return s}}},AK=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),xK=(e,t)=>{let r=Object.assign(ZM.getAwsRegionExtensionConfiguration(e),fe.getDefaultExtensionConfiguration(e),eD.getHttpHandlerExtensionConfiguration(e),TK(e));return t.forEach(s=>s.configure(r)),Object.assign(e,ZM.resolveAwsRegionExtensionConfiguration(r),fe.resolveDefaultRuntimeConfig(r),eD.resolveHttpHandlerRuntimeConfig(r),AK(r))},Po=class extends fe.Client{config;constructor(...[t]){let r=_K.getRuntimeConfig(t||{});super(r),this.initConfig=r;let s=bK(r),n=YM.resolveUserAgentConfig(s),o=XM.resolveRetryConfig(n),i=EK.resolveRegionConfig(o),a=WM.resolveHostHeaderConfig(i),u=Re.resolveEndpointConfig(a),l=Ta.resolveQueueUrlConfig(u),f=JM.resolveHttpAuthSchemeConfig(l),d=xK(f,t?.extensions||[]);this.config=d,this.middlewareStack.use(pe.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(YM.getUserAgentPlugin(this.config)),this.middlewareStack.use(XM.getRetryPlugin(this.config)),this.middlewareStack.use(wK.getContentLengthPlugin(this.config)),this.middlewareStack.use(WM.getHostHeaderPlugin(this.config)),this.middlewareStack.use(yK.getLoggerPlugin(this.config)),this.middlewareStack.use(SK.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ta.getQueueUrlPlugin(this.config)),this.middlewareStack.use(ba.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:JM.defaultSQSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new ba.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(ba.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},ue=class e extends fe.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Nd=class e extends ue{name="InvalidAddress";$fault="client";constructor(t){super({name:"InvalidAddress",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Md=class e extends ue{name="InvalidSecurity";$fault="client";constructor(t){super({name:"InvalidSecurity",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Dd=class e extends ue{name="OverLimit";$fault="client";constructor(t){super({name:"OverLimit",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},kd=class e extends ue{name="QueueDoesNotExist";$fault="client";constructor(t){super({name:"QueueDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$d=class e extends ue{name="RequestThrottled";$fault="client";constructor(t){super({name:"RequestThrottled",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ld=class e extends ue{name="UnsupportedOperation";$fault="client";constructor(t){super({name:"UnsupportedOperation",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ud=class e extends ue{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fd=class e extends ue{name="MessageNotInflight";$fault="client";constructor(t){super({name:"MessageNotInflight",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bd=class e extends ue{name="ReceiptHandleIsInvalid";$fault="client";constructor(t){super({name:"ReceiptHandleIsInvalid",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qd=class e extends ue{name="BatchEntryIdsNotDistinct";$fault="client";constructor(t){super({name:"BatchEntryIdsNotDistinct",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jd=class e extends ue{name="EmptyBatchRequest";$fault="client";constructor(t){super({name:"EmptyBatchRequest",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Hd=class e extends ue{name="InvalidBatchEntryId";$fault="client";constructor(t){super({name:"InvalidBatchEntryId",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zd=class e extends ue{name="TooManyEntriesInBatchRequest";$fault="client";constructor(t){super({name:"TooManyEntriesInBatchRequest",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vd=class e extends ue{name="InvalidAttributeName";$fault="client";constructor(t){super({name:"InvalidAttributeName",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Qd=class e extends ue{name="InvalidAttributeValue";$fault="client";constructor(t){super({name:"InvalidAttributeValue",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Kd=class e extends ue{name="QueueDeletedRecently";$fault="client";constructor(t){super({name:"QueueDeletedRecently",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gd=class e extends ue{name="QueueNameExists";$fault="client";constructor(t){super({name:"QueueNameExists",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Wd=class e extends ue{name="InvalidIdFormat";$fault="client";constructor(t){super({name:"InvalidIdFormat",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yd=class e extends ue{name="PurgeQueueInProgress";$fault="client";constructor(t){super({name:"PurgeQueueInProgress",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xd=class e extends ue{name="KmsAccessDenied";$fault="client";constructor(t){super({name:"KmsAccessDenied",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jd=class e extends ue{name="KmsDisabled";$fault="client";constructor(t){super({name:"KmsDisabled",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Zd=class e extends ue{name="KmsInvalidKeyUsage";$fault="client";constructor(t){super({name:"KmsInvalidKeyUsage",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ef=class e extends ue{name="KmsInvalidState";$fault="client";constructor(t){super({name:"KmsInvalidState",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tf=class e extends ue{name="KmsNotFound";$fault="client";constructor(t){super({name:"KmsNotFound",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rf=class e extends ue{name="KmsOptInRequired";$fault="client";constructor(t){super({name:"KmsOptInRequired",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sf=class e extends ue{name="KmsThrottled";$fault="client";constructor(t){super({name:"KmsThrottled",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nf=class e extends ue{name="InvalidMessageContents";$fault="client";constructor(t){super({name:"InvalidMessageContents",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},of=class e extends ue{name="BatchRequestTooLong";$fault="client";constructor(t){super({name:"BatchRequestTooLong",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},RK="Actions",CK="ActionName",rD="ApproximateNumberOfMessagesMoved",vK="ApproximateNumberOfMessagesToMove",sD="AttributeNames",wS="AttributeName",IK="AddPermission",PK="AddPermissionRequest",OK="AWSAccountIds",NK="AWSAccountId",If="Attributes",Pf="Attribute",MK="Body",DK="BatchEntryIdsNotDistinct",kK="BinaryList",nD="BinaryListValues",_S="BinaryListValue",Of="BatchResultErrorEntry",$K="BatchResultErrorEntryList",LK="BatchRequestTooLong",oD="BinaryValue",UK="Code",FK="CancelMessageMoveTask",BK="CancelMessageMoveTaskRequest",qK="CancelMessageMoveTaskResult",jK="ChangeMessageVisibility",HK="ChangeMessageVisibilityBatch",zK="ChangeMessageVisibilityBatchRequest",iD="ChangeMessageVisibilityBatchRequestEntry",VK="ChangeMessageVisibilityBatchRequestEntryList",QK="ChangeMessageVisibilityBatchResultEntryList",aD="ChangeMessageVisibilityBatchResultEntry",KK="ChangeMessageVisibilityBatchResult",GK="ChangeMessageVisibilityRequest",WK="CreateQueue",YK="CreateQueueRequest",XK="CreateQueueResult",cD="DestinationArn",JK="DeleteMessage",ZK="DeleteMessageBatch",e8="DeleteMessageBatchRequest",uD="DeleteMessageBatchRequestEntry",t8="DeleteMessageBatchRequestEntryList",r8="DeleteMessageBatchResultEntryList",lD="DeleteMessageBatchResultEntry",s8="DeleteMessageBatchResult",n8="DeleteMessageRequest",o8="DeleteQueue",i8="DeleteQueueRequest",dD="DelaySeconds",fD="DataType",bS="Entries",a8="EmptyBatchRequest",TS="Failed",c8="FailureReason",u8="GetQueueAttributes",l8="GetQueueAttributesRequest",d8="GetQueueAttributesResult",f8="GetQueueUrl",p8="GetQueueUrlRequest",m8="GetQueueUrlResult",pn="Id",h8="InvalidAddress",g8="InvalidAttributeName",y8="InvalidAttributeValue",S8="InvalidBatchEntryId",E8="InvalidIdFormat",w8="InvalidMessageContents",_8="InvalidSecurity",b8="Key",T8="KmsAccessDenied",A8="KmsDisabled",x8="KmsInvalidKeyUsage",R8="KmsInvalidState",C8="KmsNotFound",v8="KmsOptInRequired",I8="KmsThrottled",pD="Label",P8="ListDeadLetterSourceQueues",O8="ListDeadLetterSourceQueuesRequest",N8="ListDeadLetterSourceQueuesResult",M8="ListMessageMoveTasks",D8="ListMessageMoveTasksRequest",mD="ListMessageMoveTasksResultEntry",k8="ListMessageMoveTasksResultEntryList",tD="ListMessageMoveTasksResult",$8="ListQueues",L8="ListQueuesRequest",U8="ListQueuesResult",F8="ListQueueTags",B8="ListQueueTagsRequest",q8="ListQueueTagsResult",AS="Message",xS="MessageAttributes",j8="MessageAttributeNames",H8="MessageAttributeName",z8="MessageAttributeValue",RS="MessageAttribute",hD="MessageBody",V8="MessageBodyAttributeMap",Q8="MessageBodySystemAttributeMap",gD="MessageDeduplicationId",K8="MD5OfBody",CS="MD5OfMessageAttributes",yD="MD5OfMessageBody",SD="MD5OfMessageSystemAttributes",ED="MessageGroupId",vS="MessageId",G8="MessageList",W8="MessageNotInflight",Y8="MaxNumberOfMessages",wD="MaxNumberOfMessagesPerSecond",IS="MaxResults",_D="MessageSystemAttributes",X8="MessageSystemAttributeMap",J8="MessageSystemAttributeNames",Z8="MessageSystemAttributeValue",bD="MessageSystemAttribute",eG="Messages",Nf="Name",Mf="NextToken",tG="OverLimit",rG="PurgeQueue",sG="PurgeQueueInProgress",nG="PurgeQueueRequest",oG="QueueAttributeMap",iG="QueueDoesNotExist",aG="QueueDeletedRecently",TD="QueueName",cG="QueueNameExists",uG="QueueNamePrefix",lG="QueueOwnerAWSAccountId",Le="QueueUrl",dG="QueueUrls",fG="Results",Ra="ReceiptHandle",pG="ReceiptHandleIsInvalid",mG="ReceiveMessage",hG="ReceiveMessageRequest",gG="ReceiveMessageResult",yG="ResourceNotFoundException",SG="RemovePermission",EG="RemovePermissionRequest",wG="ReceiveRequestAttemptId",_G="RequestThrottled",PS="Successful",OS="SourceArn",bG="SenderFault",TG="StringList",AD="StringListValues",NS="StringListValue",AG="SendMessage",xG="SendMessageBatch",RG="SendMessageBatchRequest",xD="SendMessageBatchRequestEntry",CG="SendMessageBatchRequestEntryList",vG="SendMessageBatchResultEntryList",RD="SendMessageBatchResultEntry",IG="SendMessageBatchResult",PG="StartMessageMoveTask",OG="StartMessageMoveTaskRequest",NG="StartMessageMoveTaskResult",MG="SendMessageRequest",DG="SendMessageResult",CD="SequenceNumber",kG="SetQueueAttributes",$G="SetQueueAttributesRequest",LG="StartedTimestamp",vD="StringValue",UG="Status",MS="Tag",DS="TaskHandle",FG="TagKeys",BG="TagKey",qG="TagMap",jG="TooManyEntriesInBatchRequest",HG="TagQueue",zG="TagQueueRequest",ID="Tags",VG="UnsupportedOperation",QG="UntagQueue",KG="UntagQueueRequest",Ca="Value",kS="VisibilityTimeout",GG="WaitTimeSeconds",Ce="awsQueryError",ye="client",Se="error",ve="httpError",be="message",WG="queueUrls",PD="smithy.ts.sdk.synthetic.com.amazonaws.sqs",YG="tags",te="xmlFlattened",j="xmlName",C="com.amazonaws.sqs",OD=[3,C,PK,0,[Le,pD,OK,RK],[0,0,[64,{[te]:1,[j]:NK}],[64,{[te]:1,[j]:CK}]],4],ND=[-3,C,DK,{[Ce]:["AWS.SimpleQueueService.BatchEntryIdsNotDistinct",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(ND,qd);var MD=[-3,C,LK,{[Ce]:["AWS.SimpleQueueService.BatchRequestTooLong",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(MD,of);var DD=[3,C,Of,0,[pn,bG,UK,AS],[0,2,0,0],3],kD=[3,C,BK,0,[DS],[0],1],$D=[3,C,qK,0,[rD],[1]],LD=[3,C,zK,0,[Le,bS],[0,[()=>XG,{[te]:1,[j]:iD}]],2],UD=[3,C,iD,0,[pn,Ra,kS],[0,0,1],2],FD=[3,C,KK,0,[PS,TS],[[()=>JG,{[te]:1,[j]:aD}],[()=>$S,{[te]:1,[j]:Of}]],2],BD=[3,C,aD,0,[pn],[0],1],qD=[3,C,GK,0,[Le,Ra,kS],[0,0,1],3],jD=[3,C,YK,0,[TD,If,YG],[0,[()=>US,{[te]:1,[j]:Pf}],[()=>FS,{[te]:1,[j]:MS}]],1],HD=[3,C,XK,0,[Le],[0]],zD=[3,C,e8,0,[Le,bS],[0,[()=>ZG,{[te]:1,[j]:uD}]],2],VD=[3,C,uD,0,[pn,Ra],[0,0],2],QD=[3,C,s8,0,[PS,TS],[[()=>eW,{[te]:1,[j]:lD}],[()=>$S,{[te]:1,[j]:Of}]],2],KD=[3,C,lD,0,[pn],[0],1],GD=[3,C,n8,0,[Le,Ra],[0,0],2],WD=[3,C,i8,0,[Le],[0],1],YD=[-3,C,a8,{[Ce]:["AWS.SimpleQueueService.EmptyBatchRequest",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(YD,jd);var XD=[3,C,l8,0,[Le,sD],[0,[64,{[te]:1,[j]:wS}]],1],JD=[3,C,d8,0,[If],[[()=>US,{[te]:1,[j]:Pf}]]],ZD=[3,C,p8,0,[TD,lG],[0,0],1],ek=[3,C,m8,0,[Le],[0]],tk=[-3,C,h8,{[Ce]:["InvalidAddress",404],[Se]:ye,[ve]:404},[be],[0]];pe.TypeRegistry.for(C).registerError(tk,Nd);var rk=[-3,C,g8,{[Se]:ye},[be],[0]];pe.TypeRegistry.for(C).registerError(rk,Vd);var sk=[-3,C,y8,{[Se]:ye},[be],[0]];pe.TypeRegistry.for(C).registerError(sk,Qd);var nk=[-3,C,S8,{[Ce]:["AWS.SimpleQueueService.InvalidBatchEntryId",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(nk,Hd);var ok=[-3,C,E8,{[Se]:ye},[],[]];pe.TypeRegistry.for(C).registerError(ok,Wd);var ik=[-3,C,w8,{[Se]:ye},[be],[0]];pe.TypeRegistry.for(C).registerError(ik,nf);var ak=[-3,C,_8,{[Ce]:["InvalidSecurity",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(ak,Md);var ck=[-3,C,T8,{[Ce]:["KMS.AccessDeniedException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(ck,Xd);var uk=[-3,C,A8,{[Ce]:["KMS.DisabledException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(uk,Jd);var lk=[-3,C,x8,{[Ce]:["KMS.InvalidKeyUsageException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(lk,Zd);var dk=[-3,C,R8,{[Ce]:["KMS.InvalidStateException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(dk,ef);var fk=[-3,C,C8,{[Ce]:["KMS.NotFoundException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(fk,tf);var pk=[-3,C,v8,{[Ce]:["KMS.OptInRequired",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(pk,rf);var mk=[-3,C,I8,{[Ce]:["KMS.ThrottlingException",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(mk,sf);var hk=[3,C,O8,0,[Le,Mf,IS],[0,0,1],1],gk=[3,C,N8,0,[WG,Mf],[[64,{[te]:1,[j]:Le}],0],1],yk=[3,C,D8,0,[OS,IS],[0,1],1],Sk=[3,C,tD,{[j]:tD},[fG],[[()=>tW,{[te]:1,[j]:mD}]]],Ek=[3,C,mD,0,[DS,UG,OS,cD,wD,rD,vK,c8,LG],[0,0,0,0,1,1,1,0,1]],wk=[3,C,L8,0,[uG,Mf,IS],[0,0,1]],_k=[3,C,U8,0,[dG,Mf],[[64,{[te]:1,[j]:Le}],0]],bk=[3,C,B8,0,[Le],[0],1],Tk=[3,C,q8,0,[ID],[[()=>FS,{[te]:1,[j]:MS}]]],Ak=[3,C,AS,0,[vS,Ra,K8,MK,If,CS,xS],[0,0,0,0,[()=>oW,{[te]:1,[j]:Pf}],0,[()=>LS,{[te]:1,[j]:RS}]]],xk=[3,C,z8,0,[fD,vD,oD,AD,nD],[0,0,21,[()=>t1,{[te]:1,[j]:NS}],[()=>e1,{[te]:1,[j]:_S}]],1],Rk=[-3,C,W8,{[Ce]:["AWS.SimpleQueueService.MessageNotInflight",400],[Se]:ye,[ve]:400},[],[]];pe.TypeRegistry.for(C).registerError(Rk,Fd);var Ck=[3,C,Z8,0,[fD,vD,oD,AD,nD],[0,0,21,[()=>t1,{[te]:1,[j]:NS}],[()=>e1,{[te]:1,[j]:_S}]],1],vk=[-3,C,tG,{[Ce]:["OverLimit",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(vk,Dd);var Ik=[-3,C,sG,{[Ce]:["AWS.SimpleQueueService.PurgeQueueInProgress",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(Ik,Yd);var Pk=[3,C,nG,0,[Le],[0],1],Ok=[-3,C,aG,{[Ce]:["AWS.SimpleQueueService.QueueDeletedRecently",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Ok,Kd);var Nk=[-3,C,iG,{[Ce]:["AWS.SimpleQueueService.NonExistentQueue",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Nk,kd);var Mk=[-3,C,cG,{[Ce]:["QueueAlreadyExists",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Mk,Gd);var Dk=[-3,C,pG,{[Ce]:["ReceiptHandleIsInvalid",404],[Se]:ye,[ve]:404},[be],[0]];pe.TypeRegistry.for(C).registerError(Dk,Bd);var kk=[3,C,hG,0,[Le,sD,J8,j8,Y8,kS,GG,wG],[0,[64,{[te]:1,[j]:wS}],[64,{[te]:1,[j]:wS}],[64,{[te]:1,[j]:H8}],1,1,1,0],1],$k=[3,C,gG,0,[eG],[[()=>rW,{[te]:1,[j]:AS}]]],Lk=[3,C,EG,0,[Le,pD],[0,0],2],Uk=[-3,C,_G,{[Ce]:["RequestThrottled",403],[Se]:ye,[ve]:403},[be],[0]];pe.TypeRegistry.for(C).registerError(Uk,$d);var Fk=[-3,C,yG,{[Ce]:["ResourceNotFoundException",404],[Se]:ye,[ve]:404},[be],[0]];pe.TypeRegistry.for(C).registerError(Fk,Ud);var Bk=[3,C,RG,0,[Le,bS],[0,[()=>sW,{[te]:1,[j]:xD}]],2],qk=[3,C,xD,0,[pn,hD,dD,xS,_D,gD,ED],[0,0,1,[()=>LS,{[te]:1,[j]:RS}],[()=>r1,{[te]:1,[j]:bD}],0,0],2],jk=[3,C,IG,0,[PS,TS],[[()=>nW,{[te]:1,[j]:RD}],[()=>$S,{[te]:1,[j]:Of}]],2],Hk=[3,C,RD,0,[pn,vS,yD,CS,SD,CD],[0,0,0,0,0,0],3],zk=[3,C,MG,0,[Le,hD,dD,xS,_D,gD,ED],[0,0,1,[()=>LS,{[te]:1,[j]:RS}],[()=>r1,{[te]:1,[j]:bD}],0,0],2],Vk=[3,C,DG,0,[yD,CS,SD,vS,CD],[0,0,0,0,0]],Qk=[3,C,$G,0,[Le,If],[0,[()=>US,{[te]:1,[j]:Pf}]],2],Kk=[3,C,OG,0,[OS,cD,wD],[0,0,1],1],Gk=[3,C,NG,0,[DS],[0]],Wk=[3,C,zG,0,[Le,ID],[0,[()=>FS,{[te]:1,[j]:MS}]],2],Yk=[-3,C,jG,{[Ce]:["AWS.SimpleQueueService.TooManyEntriesInBatchRequest",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Yk,zd);var Xk=[-3,C,VG,{[Ce]:["AWS.SimpleQueueService.UnsupportedOperation",400],[Se]:ye,[ve]:400},[be],[0]];pe.TypeRegistry.for(C).registerError(Xk,Ld);var Jk=[3,C,KG,0,[Le,FG],[0,[64,{[te]:1,[j]:BG}]],2],Fr="unit",Zk=[-3,PD,"SQSServiceException",0,[],[]];pe.TypeRegistry.for(PD).registerError(Zk,ue);var $S=[1,C,$K,0,()=>DD],e1=[1,C,kK,0,[21,{[j]:_S}]],XG=[1,C,VK,0,()=>UD],JG=[1,C,QK,0,()=>BD],ZG=[1,C,t8,0,()=>VD],eW=[1,C,r8,0,()=>KD],tW=[1,C,k8,0,()=>Ek],rW=[1,C,G8,0,[()=>Ak,0]],sW=[1,C,CG,0,[()=>qk,0]],nW=[1,C,vG,0,()=>Hk],t1=[1,C,TG,0,[0,{[j]:NS}]],LS=[2,C,V8,0,[0,{[j]:Nf}],[()=>xk,{[j]:Ca}]],r1=[2,C,Q8,0,[0,{[j]:Nf}],[()=>Ck,{[j]:Ca}]],oW=[2,C,X8,0,[0,{[j]:Nf}],[0,{[j]:Ca}]],US=[2,C,oG,0,[0,{[j]:Nf}],[0,{[j]:Ca}]],FS=[2,C,qG,0,[0,{[j]:b8}],[0,{[j]:Ca}]],s1=[9,C,IK,0,()=>OD,()=>Fr],n1=[9,C,FK,0,()=>kD,()=>$D],o1=[9,C,jK,0,()=>qD,()=>Fr],i1=[9,C,HK,0,()=>LD,()=>FD],a1=[9,C,WK,0,()=>jD,()=>HD],c1=[9,C,JK,0,()=>GD,()=>Fr],u1=[9,C,ZK,0,()=>zD,()=>QD],l1=[9,C,o8,0,()=>WD,()=>Fr],d1=[9,C,u8,0,()=>XD,()=>JD],f1=[9,C,f8,0,()=>ZD,()=>ek],p1=[9,C,P8,0,()=>hk,()=>gk],m1=[9,C,M8,0,()=>yk,()=>Sk],h1=[9,C,$8,0,()=>wk,()=>_k],g1=[9,C,F8,0,()=>bk,()=>Tk],y1=[9,C,rG,0,()=>Pk,()=>Fr],S1=[9,C,mG,0,()=>kk,()=>$k],E1=[9,C,SG,0,()=>Lk,()=>Fr],w1=[9,C,AG,0,()=>zk,()=>Vk],_1=[9,C,xG,0,()=>Bk,()=>jk],b1=[9,C,kG,0,()=>Qk,()=>Fr],T1=[9,C,PG,0,()=>Kk,()=>Gk],A1=[9,C,HG,0,()=>Wk,()=>Fr],x1=[9,C,QG,0,()=>Jk,()=>Fr],af=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","AddPermission",{}).n("SQSClient","AddPermissionCommand").sc(s1).build(){},cf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","CancelMessageMoveTask",{}).n("SQSClient","CancelMessageMoveTaskCommand").sc(n1).build(){},uf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibilityBatch",{}).n("SQSClient","ChangeMessageVisibilityBatchCommand").sc(i1).build(){},lf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibility",{}).n("SQSClient","ChangeMessageVisibilityCommand").sc(o1).build(){},df=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","CreateQueue",{}).n("SQSClient","CreateQueueCommand").sc(a1).build(){},ff=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessageBatch",{}).n("SQSClient","DeleteMessageBatchCommand").sc(u1).build(){},pf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessage",{}).n("SQSClient","DeleteMessageCommand").sc(c1).build(){},mf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteQueue",{}).n("SQSClient","DeleteQueueCommand").sc(l1).build(){},hf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueAttributes",{}).n("SQSClient","GetQueueAttributesCommand").sc(d1).build(){},gf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueUrl",{}).n("SQSClient","GetQueueUrlCommand").sc(f1).build(){},Aa=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListDeadLetterSourceQueues",{}).n("SQSClient","ListDeadLetterSourceQueuesCommand").sc(p1).build(){},yf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListMessageMoveTasks",{}).n("SQSClient","ListMessageMoveTasksCommand").sc(m1).build(){},xa=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueues",{}).n("SQSClient","ListQueuesCommand").sc(h1).build(){},Sf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueueTags",{}).n("SQSClient","ListQueueTagsCommand").sc(g1).build(){},Ef=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","PurgeQueue",{}).n("SQSClient","PurgeQueueCommand").sc(y1).build(){},wf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions()),Ta.getReceiveMessagePlugin(s)]}).s("AmazonSQS","ReceiveMessage",{}).n("SQSClient","ReceiveMessageCommand").sc(S1).build(){},_f=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","RemovePermission",{}).n("SQSClient","RemovePermissionCommand").sc(E1).build(){},bf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions()),Ta.getSendMessageBatchPlugin(s)]}).s("AmazonSQS","SendMessageBatch",{}).n("SQSClient","SendMessageBatchCommand").sc(_1).build(){},Tf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions()),Ta.getSendMessagePlugin(s)]}).s("AmazonSQS","SendMessage",{}).n("SQSClient","SendMessageCommand").sc(w1).build(){},Af=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","SetQueueAttributes",{}).n("SQSClient","SetQueueAttributesCommand").sc(b1).build(){},xf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","StartMessageMoveTask",{}).n("SQSClient","StartMessageMoveTaskCommand").sc(T1).build(){},Rf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","TagQueue",{}).n("SQSClient","TagQueueCommand").sc(A1).build(){},Cf=class extends fe.Command.classBuilder().ep(Oe).m(function(t,r,s,n){return[Re.getEndpointPlugin(s,t.getEndpointParameterInstructions())]}).s("AmazonSQS","UntagQueue",{}).n("SQSClient","UntagQueueCommand").sc(x1).build(){},iW={AddPermissionCommand:af,CancelMessageMoveTaskCommand:cf,ChangeMessageVisibilityCommand:lf,ChangeMessageVisibilityBatchCommand:uf,CreateQueueCommand:df,DeleteMessageCommand:pf,DeleteMessageBatchCommand:ff,DeleteQueueCommand:mf,GetQueueAttributesCommand:hf,GetQueueUrlCommand:gf,ListDeadLetterSourceQueuesCommand:Aa,ListMessageMoveTasksCommand:yf,ListQueuesCommand:xa,ListQueueTagsCommand:Sf,PurgeQueueCommand:Ef,ReceiveMessageCommand:wf,RemovePermissionCommand:_f,SendMessageCommand:Tf,SendMessageBatchCommand:bf,SetQueueAttributesCommand:Af,StartMessageMoveTaskCommand:xf,TagQueueCommand:Rf,UntagQueueCommand:Cf},vf=class extends Po{};fe.createAggregatedClient(iW,vf);var aW=ba.createPaginator(Po,Aa,"NextToken","NextToken","MaxResults"),cW=ba.createPaginator(Po,xa,"NextToken","NextToken","MaxResults"),uW={All:"All",ApproximateNumberOfMessages:"ApproximateNumberOfMessages",ApproximateNumberOfMessagesDelayed:"ApproximateNumberOfMessagesDelayed",ApproximateNumberOfMessagesNotVisible:"ApproximateNumberOfMessagesNotVisible",ContentBasedDeduplication:"ContentBasedDeduplication",CreatedTimestamp:"CreatedTimestamp",DeduplicationScope:"DeduplicationScope",DelaySeconds:"DelaySeconds",FifoQueue:"FifoQueue",FifoThroughputLimit:"FifoThroughputLimit",KmsDataKeyReusePeriodSeconds:"KmsDataKeyReusePeriodSeconds",KmsMasterKeyId:"KmsMasterKeyId",LastModifiedTimestamp:"LastModifiedTimestamp",MaximumMessageSize:"MaximumMessageSize",MessageRetentionPeriod:"MessageRetentionPeriod",Policy:"Policy",QueueArn:"QueueArn",ReceiveMessageWaitTimeSeconds:"ReceiveMessageWaitTimeSeconds",RedriveAllowPolicy:"RedriveAllowPolicy",RedrivePolicy:"RedrivePolicy",SqsManagedSseEnabled:"SqsManagedSseEnabled",VisibilityTimeout:"VisibilityTimeout"},lW={AWSTraceHeader:"AWSTraceHeader",All:"All",ApproximateFirstReceiveTimestamp:"ApproximateFirstReceiveTimestamp",ApproximateReceiveCount:"ApproximateReceiveCount",DeadLetterQueueSourceArn:"DeadLetterQueueSourceArn",MessageDeduplicationId:"MessageDeduplicationId",MessageGroupId:"MessageGroupId",SenderId:"SenderId",SentTimestamp:"SentTimestamp",SequenceNumber:"SequenceNumber"},dW={AWSTraceHeader:"AWSTraceHeader"};Object.defineProperty(x,"$Command",{enumerable:!0,get:function(){return fe.Command}});Object.defineProperty(x,"__Client",{enumerable:!0,get:function(){return fe.Client}});x.AddPermission$=s1;x.AddPermissionCommand=af;x.AddPermissionRequest$=OD;x.BatchEntryIdsNotDistinct=qd;x.BatchEntryIdsNotDistinct$=ND;x.BatchRequestTooLong=of;x.BatchRequestTooLong$=MD;x.BatchResultErrorEntry$=DD;x.CancelMessageMoveTask$=n1;x.CancelMessageMoveTaskCommand=cf;x.CancelMessageMoveTaskRequest$=kD;x.CancelMessageMoveTaskResult$=$D;x.ChangeMessageVisibility$=o1;x.ChangeMessageVisibilityBatch$=i1;x.ChangeMessageVisibilityBatchCommand=uf;x.ChangeMessageVisibilityBatchRequest$=LD;x.ChangeMessageVisibilityBatchRequestEntry$=UD;x.ChangeMessageVisibilityBatchResult$=FD;x.ChangeMessageVisibilityBatchResultEntry$=BD;x.ChangeMessageVisibilityCommand=lf;x.ChangeMessageVisibilityRequest$=qD;x.CreateQueue$=a1;x.CreateQueueCommand=df;x.CreateQueueRequest$=jD;x.CreateQueueResult$=HD;x.DeleteMessage$=c1;x.DeleteMessageBatch$=u1;x.DeleteMessageBatchCommand=ff;x.DeleteMessageBatchRequest$=zD;x.DeleteMessageBatchRequestEntry$=VD;x.DeleteMessageBatchResult$=QD;x.DeleteMessageBatchResultEntry$=KD;x.DeleteMessageCommand=pf;x.DeleteMessageRequest$=GD;x.DeleteQueue$=l1;x.DeleteQueueCommand=mf;x.DeleteQueueRequest$=WD;x.EmptyBatchRequest=jd;x.EmptyBatchRequest$=YD;x.GetQueueAttributes$=d1;x.GetQueueAttributesCommand=hf;x.GetQueueAttributesRequest$=XD;x.GetQueueAttributesResult$=JD;x.GetQueueUrl$=f1;x.GetQueueUrlCommand=gf;x.GetQueueUrlRequest$=ZD;x.GetQueueUrlResult$=ek;x.InvalidAddress=Nd;x.InvalidAddress$=tk;x.InvalidAttributeName=Vd;x.InvalidAttributeName$=rk;x.InvalidAttributeValue=Qd;x.InvalidAttributeValue$=sk;x.InvalidBatchEntryId=Hd;x.InvalidBatchEntryId$=nk;x.InvalidIdFormat=Wd;x.InvalidIdFormat$=ok;x.InvalidMessageContents=nf;x.InvalidMessageContents$=ik;x.InvalidSecurity=Md;x.InvalidSecurity$=ak;x.KmsAccessDenied=Xd;x.KmsAccessDenied$=ck;x.KmsDisabled=Jd;x.KmsDisabled$=uk;x.KmsInvalidKeyUsage=Zd;x.KmsInvalidKeyUsage$=lk;x.KmsInvalidState=ef;x.KmsInvalidState$=dk;x.KmsNotFound=tf;x.KmsNotFound$=fk;x.KmsOptInRequired=rf;x.KmsOptInRequired$=pk;x.KmsThrottled=sf;x.KmsThrottled$=mk;x.ListDeadLetterSourceQueues$=p1;x.ListDeadLetterSourceQueuesCommand=Aa;x.ListDeadLetterSourceQueuesRequest$=hk;x.ListDeadLetterSourceQueuesResult$=gk;x.ListMessageMoveTasks$=m1;x.ListMessageMoveTasksCommand=yf;x.ListMessageMoveTasksRequest$=yk;x.ListMessageMoveTasksResult$=Sk;x.ListMessageMoveTasksResultEntry$=Ek;x.ListQueueTags$=g1;x.ListQueueTagsCommand=Sf;x.ListQueueTagsRequest$=bk;x.ListQueueTagsResult$=Tk;x.ListQueues$=h1;x.ListQueuesCommand=xa;x.ListQueuesRequest$=wk;x.ListQueuesResult$=_k;x.Message$=Ak;x.MessageAttributeValue$=xk;x.MessageNotInflight=Fd;x.MessageNotInflight$=Rk;x.MessageSystemAttributeName=lW;x.MessageSystemAttributeNameForSends=dW;x.MessageSystemAttributeValue$=Ck;x.OverLimit=Dd;x.OverLimit$=vk;x.PurgeQueue$=y1;x.PurgeQueueCommand=Ef;x.PurgeQueueInProgress=Yd;x.PurgeQueueInProgress$=Ik;x.PurgeQueueRequest$=Pk;x.QueueAttributeName=uW;x.QueueDeletedRecently=Kd;x.QueueDeletedRecently$=Ok;x.QueueDoesNotExist=kd;x.QueueDoesNotExist$=Nk;x.QueueNameExists=Gd;x.QueueNameExists$=Mk;x.ReceiptHandleIsInvalid=Bd;x.ReceiptHandleIsInvalid$=Dk;x.ReceiveMessage$=S1;x.ReceiveMessageCommand=wf;x.ReceiveMessageRequest$=kk;x.ReceiveMessageResult$=$k;x.RemovePermission$=E1;x.RemovePermissionCommand=_f;x.RemovePermissionRequest$=Lk;x.RequestThrottled=$d;x.RequestThrottled$=Uk;x.ResourceNotFoundException=Ud;x.ResourceNotFoundException$=Fk;x.SQS=vf;x.SQSClient=Po;x.SQSServiceException=ue;x.SQSServiceException$=Zk;x.SendMessage$=w1;x.SendMessageBatch$=_1;x.SendMessageBatchCommand=bf;x.SendMessageBatchRequest$=Bk;x.SendMessageBatchRequestEntry$=qk;x.SendMessageBatchResult$=jk;x.SendMessageBatchResultEntry$=Hk;x.SendMessageCommand=Tf;x.SendMessageRequest$=zk;x.SendMessageResult$=Vk;x.SetQueueAttributes$=b1;x.SetQueueAttributesCommand=Af;x.SetQueueAttributesRequest$=Qk;x.StartMessageMoveTask$=T1;x.StartMessageMoveTaskCommand=xf;x.StartMessageMoveTaskRequest$=Kk;x.StartMessageMoveTaskResult$=Gk;x.TagQueue$=A1;x.TagQueueCommand=Rf;x.TagQueueRequest$=Wk;x.TooManyEntriesInBatchRequest=zd;x.TooManyEntriesInBatchRequest$=Yk;x.UnsupportedOperation=Ld;x.UnsupportedOperation$=Xk;x.UntagQueue$=x1;x.UntagQueueCommand=Cf;x.UntagQueueRequest$=Jk;x.paginateListDeadLetterSourceQueues=aW;x.paginateListQueues=cW});var BS=v(qt=>{"use strict";c();Object.defineProperty(qt,"__esModule",{value:!0});qt.MAX_HASHABLE_LENGTH=qt.INIT=qt.KEY=qt.DIGEST_LENGTH=qt.BLOCK_SIZE=void 0;qt.BLOCK_SIZE=64;qt.DIGEST_LENGTH=32;qt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);qt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];qt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var C1=v(Df=>{"use strict";c();Object.defineProperty(Df,"__esModule",{value:!0});Df.RawSha256=void 0;var jt=BS(),fW=function(){function e(){this.state=Int32Array.from(jt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,s=t.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>jt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=t[r++],s--,this.bufferLength===jt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(r.setUint8(this.bufferLength++,128),s%jt.BLOCK_SIZE>=jt.BLOCK_SIZE-8){for(var n=this.bufferLength;n<jt.BLOCK_SIZE;n++)r.setUint8(n,0);this.hashBuffer(),this.bufferLength=0}for(var n=this.bufferLength;n<jt.BLOCK_SIZE-8;n++)r.setUint8(n,0);r.setUint32(jt.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(jt.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(jt.DIGEST_LENGTH),n=0;n<8;n++)o[n*4]=this.state[n]>>>24&255,o[n*4+1]=this.state[n]>>>16&255,o[n*4+2]=this.state[n]>>>8&255,o[n*4+3]=this.state[n]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,s=t.state,n=s[0],o=s[1],i=s[2],a=s[3],u=s[4],l=s[5],f=s[6],d=s[7],g=0;g<jt.BLOCK_SIZE;g++){if(g<16)this.temp[g]=(r[g*4]&255)<<24|(r[g*4+1]&255)<<16|(r[g*4+2]&255)<<8|r[g*4+3]&255;else{var h=this.temp[g-2],y=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[g-15];var b=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[g]=(y+this.temp[g-7]|0)+(b+this.temp[g-16]|0)}var R=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(d+(jt.KEY[g]+this.temp[g]|0)|0)|0,P=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;d=f,f=l,l=u,u=a+R|0,a=i,i=o,o=n,n=R+P|0}s[0]+=n,s[1]+=o,s[2]+=i,s[3]+=a,s[4]+=u,s[5]+=l,s[6]+=f,s[7]+=d},e}();Df.RawSha256=fW});var P1=v((wme,I1)=>{c();var kf=Object.defineProperty,pW=Object.getOwnPropertyDescriptor,mW=Object.getOwnPropertyNames,hW=Object.prototype.hasOwnProperty,gW=(e,t)=>kf(e,"name",{value:t,configurable:!0}),yW=(e,t)=>{for(var r in t)kf(e,r,{get:t[r],enumerable:!0})},SW=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of mW(t))!hW.call(e,n)&&n!==r&&kf(e,n,{get:()=>t[n],enumerable:!(s=pW(t,n))||s.enumerable});return e},EW=e=>SW(kf({},"__esModule",{value:!0}),e),v1={};yW(v1,{isArrayBuffer:()=>wW});I1.exports=EW(v1);var wW=gW(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var D1=v((bme,M1)=>{c();var $f=Object.defineProperty,_W=Object.getOwnPropertyDescriptor,bW=Object.getOwnPropertyNames,TW=Object.prototype.hasOwnProperty,O1=(e,t)=>$f(e,"name",{value:t,configurable:!0}),AW=(e,t)=>{for(var r in t)$f(e,r,{get:t[r],enumerable:!0})},xW=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of bW(t))!TW.call(e,n)&&n!==r&&$f(e,n,{get:()=>t[n],enumerable:!(s=_W(t,n))||s.enumerable});return e},RW=e=>xW($f({},"__esModule",{value:!0}),e),N1={};AW(N1,{fromArrayBuffer:()=>vW,fromString:()=>IW});M1.exports=RW(N1);var CW=P1(),qS=Y("buffer"),vW=O1((e,t=0,r=e.byteLength-t)=>{if(!(0,CW.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return qS.Buffer.from(e,t,r)},"fromArrayBuffer"),IW=O1((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?qS.Buffer.from(e,t):qS.Buffer.from(e)},"fromString")});var F1=v((Ame,U1)=>{c();var Lf=Object.defineProperty,PW=Object.getOwnPropertyDescriptor,OW=Object.getOwnPropertyNames,NW=Object.prototype.hasOwnProperty,jS=(e,t)=>Lf(e,"name",{value:t,configurable:!0}),MW=(e,t)=>{for(var r in t)Lf(e,r,{get:t[r],enumerable:!0})},DW=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of OW(t))!NW.call(e,n)&&n!==r&&Lf(e,n,{get:()=>t[n],enumerable:!(s=PW(t,n))||s.enumerable});return e},kW=e=>DW(Lf({},"__esModule",{value:!0}),e),k1={};MW(k1,{fromUtf8:()=>L1,toUint8Array:()=>$W,toUtf8:()=>LW});U1.exports=kW(k1);var $1=D1(),L1=jS(e=>{let t=(0,$1.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),$W=jS(e=>typeof e=="string"?L1(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),LW=jS(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,$1.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var B1=v(Uf=>{"use strict";c();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.convertToBuffer=void 0;var UW=F1(),FW=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:UW.fromUtf8;function BW(e){return e instanceof Uint8Array?e:typeof e=="string"?FW(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Uf.convertToBuffer=BW});var q1=v(Ff=>{"use strict";c();Object.defineProperty(Ff,"__esModule",{value:!0});Ff.isEmptyData=void 0;function qW(e){return typeof e=="string"?e.length===0:e.byteLength===0}Ff.isEmptyData=qW});var j1=v(Bf=>{"use strict";c();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.numToUint8=void 0;function jW(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Bf.numToUint8=jW});var H1=v(qf=>{"use strict";c();Object.defineProperty(qf,"__esModule",{value:!0});qf.uint32ArrayFrom=void 0;function HW(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}qf.uint32ArrayFrom=HW});var z1=v(yr=>{"use strict";c();Object.defineProperty(yr,"__esModule",{value:!0});yr.uint32ArrayFrom=yr.numToUint8=yr.isEmptyData=yr.convertToBuffer=void 0;var zW=B1();Object.defineProperty(yr,"convertToBuffer",{enumerable:!0,get:function(){return zW.convertToBuffer}});var VW=q1();Object.defineProperty(yr,"isEmptyData",{enumerable:!0,get:function(){return VW.isEmptyData}});var QW=j1();Object.defineProperty(yr,"numToUint8",{enumerable:!0,get:function(){return QW.numToUint8}});var KW=H1();Object.defineProperty(yr,"uint32ArrayFrom",{enumerable:!0,get:function(){return KW.uint32ArrayFrom}})});var Q1=v(zf=>{"use strict";c();Object.defineProperty(zf,"__esModule",{value:!0});zf.Sha256=void 0;var V1=(qs(),J(Bs)),Hf=BS(),jf=C1(),HS=z1(),GW=function(){function e(t){this.secret=t,this.hash=new jf.RawSha256,this.reset()}return e.prototype.update=function(t){if(!((0,HS.isEmptyData)(t)||this.error))try{this.hash.update((0,HS.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return V1.__awaiter(this,void 0,void 0,function(){return V1.__generator(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new jf.RawSha256,this.secret){this.outer=new jf.RawSha256;var t=WW(this.secret),r=new Uint8Array(Hf.BLOCK_SIZE);r.set(t);for(var s=0;s<Hf.BLOCK_SIZE;s++)t[s]^=54,r[s]^=92;this.hash.update(t),this.outer.update(r);for(var s=0;s<t.byteLength;s++)t[s]=0}},e}();zf.Sha256=GW;function WW(e){var t=(0,HS.convertToBuffer)(e);if(t.byteLength>Hf.BLOCK_SIZE){var r=new jf.RawSha256;r.update(t),t=r.digest()}var s=new Uint8Array(Hf.BLOCK_SIZE);return s.set(t),s}});var K1=v(zS=>{"use strict";c();Object.defineProperty(zS,"__esModule",{value:!0});var YW=(qs(),J(Bs));YW.__exportStar(Q1(),zS)});c();var va=_(R1(),1),W1=_(kc(),1),Y1=_(re(),1),X1=_(K1(),1),J1=_(hS(),1),Ms=e=>process.env[e],XW=()=>({endpoint:Ms("AMPLIFY_DATA_GRAPHQL_ENDPOINT")||Ms("AWS_APPSYNC_GRAPHQL_ENDPOINT"),region:Ms("GRAPHQL_REGION")||Ms("AWS_REGION")||"us-east-1"}),G1=new va.SQSClient({region:Ms("AWS_REGION")||"us-east-1"});async function VS(e,t={}){let{endpoint:r,region:s}=XW();if(!r)throw console.error("[APPSYNC] CRITICAL: Endpoint missing from environment."),new Error("AppSync Endpoint missing");let n=new URL(r),o=JSON.stringify({query:e,variables:t}),i=new W1.SignatureV4({credentials:(0,J1.defaultProvider)(),region:s,service:"appsync",sha256:X1.Sha256}),a=new Y1.HttpRequest({method:"POST",hostname:n.hostname,path:n.pathname,body:o,headers:{"Content-Type":"application/json",host:n.hostname}}),u=await i.sign(a),f=await(await fetch(r,{method:u.method,headers:u.headers,body:u.body})).json();if(f.errors)throw console.error("[APPSYNC] Query Errors:",JSON.stringify(f.errors)),new Error(f.errors[0].message);return f.data}async function QS(e,t){try{await VS("mutation Log($input: CreateAuditLogInput!) { createAuditLog(input: $input) { id } }",{input:{action:e,details:t}})}catch(r){console.error("[WORKER] Audit Fail:",r)}}var Bme=async e=>{console.log("[WORKER] Invoked:",JSON.stringify(e));let t=Ms("MARKET_QUEUE_URL");if(e.arguments||e.info&&e.info.fieldName==="syncMarketData"){let r=e.arguments?.tickers||[];try{if(!t)throw new Error("MARKET_QUEUE_URL missing");for(let s of r)await G1.send(new va.SendMessageCommand({QueueUrl:t,MessageBody:JSON.stringify({ticker:s,type:"PRICE"})})),await G1.send(new va.SendMessageCommand({QueueUrl:t,MessageBody:JSON.stringify({ticker:s,type:"FUNDAMENTAL"})}));return await QS("SYNC_ACCEPTED",`Accepted ${r.length} tickers.`),JSON.stringify({status:"ACCEPTED",count:r.length})}catch(s){return console.error("[WORKER] Mutation Error:",s),JSON.stringify({status:"FAILED",error:s.message})}}if(e.Records){for(let r of e.Records)try{let{ticker:s,type:n}=JSON.parse(r.body);n==="PRICE"?await JW(s):await ZW(s),await new Promise(o=>setTimeout(o,12e3))}catch(s){console.error("[WORKER] SQS Fail:",s)}return}return JSON.stringify({status:"IGNORED"})};async function JW(e){let t=Ms("ALPHA_VANTAGE_API_KEY"),s=await(await fetch(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${e}&apikey=${t}`)).json(),n=s["Time Series (Daily)"]?Object.keys(s["Time Series (Daily)"])[0]:null;if(n){let o=s["Time Series (Daily)"][n];await VS("mutation P($i: CreateMarketPriceInput!) { createMarketPrice(input: $i) { id } }",{i:{ticker:e,date:n,close:parseFloat(o["4. close"]),adjustedClose:parseFloat(o["5. adjusted close"]),volume:parseFloat(o["6. volume"])}}),await QS("MARKET_SYNC_SUCCESS",`${e} updated.`)}}async function ZW(e){let t=Ms("ALPHA_VANTAGE_API_KEY"),s=await(await fetch(`https://www.alphavantage.co/query?function=OVERVIEW&symbol=${e}&apikey=${t}`)).json();if(s&&s.Symbol){let n=parseFloat(s.PayoutRatio||"0"),o=parseFloat(s.DebtToEquityRatioTTM||"0");await VS("mutation F($i: CreateMarketFundamentalInput!) { createMarketFundamental(input: $i) { id } }",{i:{ticker:e,asOf:new Date().toISOString().split("T")[0],dividendYield:parseFloat(s.DividendYield||"0"),payoutRatio:n,debtToEquity:o,dataJson:JSON.stringify(s),qualityScore:Math.max(0,100-(n>.8?40:0)-(o>2?30:0))}}),await QS("FUND_SYNC_SUCCESS",`${e} fundamentals.`)}}export{Bme as handler};
//# sourceMappingURL=index.mjs.map
